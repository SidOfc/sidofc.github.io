{"version":3,"file":"static/webpack/static/development/pages/index.js.a782e8f250d78068faee.hot-update.js","sources":["webpack:///./components/image.jsx"],"sourcesContent":["// @flow\n\nimport styled from 'styled-components/macro';\nimport Post from './layout/post';\nimport {spacing, colors} from '../config/styles';\n\ntype Props = {\n    src: string | {src: string},\n    wide?: boolean,\n    alt?: string,\n    width?: Stringable,\n    height?: Stringable,\n    caption?: boolean,\n    captionText?: string\n};\n\nexport default function Image({\n    src,\n    width,\n    height,\n    wide,\n    alt,\n    caption = true,\n    captionText,\n    ...rest\n}: Props) {\n    return (\n        <Container {...rest} className={wide ? 'wide' : null}>\n            {width && height ? (\n                <AspectRatio width={width} height={height}>\n                    <img src={src} alt={alt} />\n                </AspectRatio>\n            ) : (\n                <img src={src} alt={alt} />\n            )}\n            {caption &&\n                (captionText ? (\n                    <Caption dangerouslySetInnerHTML={{__html: captionText}} />\n                ) : alt ? (\n                    <Caption>{alt}</Caption>\n                ) : null)}\n        </Container>\n    );\n}\n\nexport function asImage(data: {src: string}) {\n    return function Component(props: {}) {\n        return <Image {...data} {...props} />;\n    };\n}\n\nfunction AspectRatio({\n    children,\n    width,\n    height\n}: {\n    children: any,\n    width?: Stringable,\n    height?: Stringable\n}) {\n    if (width && height) {\n        return (\n            <StyledAspectRatio>\n                {children}\n                <div\n                    style={{\n                        paddingBottom: `${(\n                            (parseFloat(height) / parseFloat(width)) *\n                            100\n                        ).toFixed(5)}%`\n                    }}\n                />\n            </StyledAspectRatio>\n        );\n    } else {\n        return children;\n    }\n}\n\nconst Caption = styled.figcaption`\n    display: block;\n    text-align: center;\n    margin-top: ${spacing.regular};\n    ${colors.withVar('dimgray', 'color')};\n    font-size: 0.9rem;\n`;\n\nconst StyledAspectRatio = styled.div`\n    position: relative;\n    width: 100%;\n\n    img {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n    }\n}\n`;\n\nconst Container = styled.figure`\n    margin-top: ${spacing.large};\n    margin-bottom: ${spacing.large};\n\n    ${Post} &.wide {\n        width: 100%;\n    }\n\n    img {\n        border-radius: 4px;\n        display: block;\n        width: 100%;\n    }\n`;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAYA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAQA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;AAAA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}