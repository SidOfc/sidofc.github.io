<!DOCTYPE html><html lang="en"><head prefix="dc: http://purl.org/dc/elements/1.1# og: http://ogp.me/ns#"><meta name="og:url" content="https://sidneyliebrand.io/blog/vim-tip-persistent-undo" class="next-head"/><meta charSet="UTF-8" class="next-head"/><link rel="alternate" type="application/atom+xml" title="Sidney Liebrand&#x27;s blog" href="/atom.xml" class="next-head"/><link rel="alternate" type="application/rss+xml" title="Sidney Liebrand&#x27;s blog" href="/feed.xml" class="next-head"/><link rel="canonical" href="https://sidneyliebrand.io/blog/vim-tip-persistent-undo" class="next-head"/><link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png" class="next-head"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png" class="next-head"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png" class="next-head"/><link rel="icon" sizes="48x48" type="image/icon" href="/static/favicon.ico" class="next-head"/><link rel="preload" as="font" href="/static/fonts/pridi-300.woff2" crossorigin="anonymous" class="next-head"/><link rel="manifest" href="/static/site.webmanifest" class="next-head"/><meta name="robots" content="index, follow" class="next-head"/><meta name="viewport" content="width=device-width, initial-scale=1.0" class="next-head"/><meta name="twitter:card" content="summary" class="next-head"/><title class="next-head">Vim tip: persistent undo</title><meta name="dc:title" content="Vim tip: persistent undo" class="next-head"/><meta name="og:title" content="Vim tip: persistent undo" class="next-head"/><meta name="author" content="Sidney Liebrand" class="next-head"/><meta name="dc:creator" content="Sidney Liebrand" class="next-head"/><meta name="og:author" content="Sidney Liebrand" class="next-head"/><meta name="description" content="Usually, when you open a file in your editor, make some changes, save and close, you lose the ability to &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;Z&lt;/kbd&gt;. Vim has a built in mechanism to persist changes made to files on disk. This may not sound that exciting, but what if your editor crashes while you have a set of changes you may want to revert stored?" class="next-head"/><meta name="dc:description" content="Usually, when you open a file in your editor, make some changes, save and close, you lose the ability to &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;Z&lt;/kbd&gt;. Vim has a built in mechanism to persist changes made to files on disk. This may not sound that exciting, but what if your editor crashes while you have a set of changes you may want to revert stored?" class="next-head"/><meta name="og:description" content="Usually, when you open a file in your editor, make some changes, save and close, you lose the ability to &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;Z&lt;/kbd&gt;. Vim has a built in mechanism to persist changes made to files on disk. This may not sound that exciting, but what if your editor crashes while you have a set of changes you may want to revert stored?" class="next-head"/><link rel="preload" href="/_next/static/wohdTI-3m_X9Y6g5dOVOf/pages/blog/vim-tip-persistent-undo.js" as="script"/><link rel="preload" href="/_next/static/wohdTI-3m_X9Y6g5dOVOf/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-a79426b5e11f0ba5879d.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.6a74504d95dde5528842.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-0043a8e04005a8ba8f87.js" as="script"/><style data-styled="jWlViT bNoklp enmWzW bVKdBM iElySe ecCSWo iHCyTn jdsXWn yLSRV fBewLa nctze kKQoMs dxcacV hEYOuv jPSecg brPtyq eEuqlv kzbDwj" data-styled-version="4.2.0">
/* sc-component-id: vkw20g-0 */
.dxcacV{font-size:0.8rem;line-height:1.2;color:#555;}
/* sc-component-id: sc-5dsxsd-0 */
.kKQoMs{margin-bottom:0;}
/* sc-component-id: sc-5dsxsd-1 */
.nctze{margin:auto;width:50rem;max-width:calc(100% - 2rem);max-width:calc(100vw - 2rem);padding:1rem;font-weight:300;} .nctze .sc-5dsxsd-0 + .vkw20g-0{margin-bottom:2rem;} .nctze > *{display:block;width:40rem;max-width:100%;margin-left:auto;margin-right:auto;} .nctze ul,.nctze ol{list-style:none;padding:0;} .nctze ul li,.nctze ol li{position:relative;padding-left:1.5rem;} .nctze ul li::before,.nctze ol li::before{position:absolute;line-height:1;padding-top:0.25rem;top:0;left:0;bottom:0;width:1.5rem;font-size:1.4em;content:'\2022';color:#555;} .nctze ol{counter-reset:ol-li-counter;} .nctze ol li::before{padding-top:0.4rem;font-size:0.9em;font-weight:700;counter-increment:ol-li-counter;content:counter(ol-li-counter)'.';} .nctze img{max-width:100%;} .nctze pre{padding:1rem;} .nctze blockquote{font-style:italic;margin-top:2rem;margin-bottom:2rem;padding:0 2rem;border-left:4px solid #555;} .nctze blockquote p{opacity:0.8;} .nctze blockquote p:first-child{margin-top:0;} .nctze blockquote p:last-child{margin-bottom:0;} @media all and (max-width:420px){.nctze blockquote{padding:1rem 0;border:none;border-top:4px solid #555;border-bottom:4px solid #555;}} .nctze > p{margin-top:2rem;margin-bottom:2rem;} .nctze h1:not(:first-child),.nctze h2:not(:first-child),.nctze h3:not(:first-child),.nctze h4:not(:first-child),.nctze h5:not(:first-child),.nctze h6:not(:first-child){margin-top:2rem;} .nctze h1 + p,.nctze h2 + p,.nctze h3 + p,.nctze h4 + p,.nctze h5 + p,.nctze h6 + p{margin-top:0.5rem;}
/* sc-component-id: sc-5dsxsd-2 */
.brPtyq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}
/* sc-component-id: sc-1it13qh-1 */
.jPSecg{position:relative;width:100%;} .jPSecg img{position:absolute;top:0;bottom:0;left:0;right:0;}
/* sc-component-id: sc-1it13qh-2 */
.hEYOuv{margin-top:2rem;margin-bottom:2rem;} .sc-5dsxsd-1 .hEYOuv.wide{width:100%;} .hEYOuv img{border-radius:4px;display:block;width:100%;}
/* sc-component-id: jhtjut-0 */
.ecCSWo{position:relative;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} .ecCSWo svg{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;max-width:100%;max-height:100%;display:block;fill:#651eea;}
/* sc-component-id: jhtjut-1 */
.iElySe{overflow:hidden;position:relative;height:calc(100% - 1rem);max-width:100%;max-width:100px;min-width:50px;margin:auto 0;cursor:pointer;-webkit-flex:0 1 100px;-ms-flex:0 1 100px;flex:0 1 100px;outline:none;} .iElySe:not(:active):focus{opacity:0.8;}
/* sc-component-id: pfay7k-0 */
.yLSRV{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} .yLSRV svg{height:60%;}
/* sc-component-id: pfay7k-1 */
.iHCyTn{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: pfay7k-2 */
.jdsXWn{font-weight:500;position:relative;-webkit-text-decoration:none;text-decoration:none;padding:0 1rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:1rem;cursor:pointer;pointer-events:all;color:#000;outline:none;} .jdsXWn:not(:active):focus{opacity:0.7;} .jdsXWn:first-child{margin-left:0;} .jdsXWn:last-child{margin-right:0;}
/* sc-component-id: gefaab-0 */
.bNoklp{position:relative;height:3.125rem;}
/* sc-component-id: gefaab-1 */
.enmWzW{position:fixed;top:0;left:0;right:0;height:3.125rem;background-color:#fff;box-shadow:0px 0px 0.25rem rgba(0,0,0,0.15);z-index:100;}
/* sc-component-id: gefaab-2 */
.bVKdBM{max-width:50rem;padding:0 0 0 1rem;margin:0 auto;height:100%;display:grid;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}
/* sc-component-id: oijonz-0 */
.kzbDwj{color:#555;padding:0.25rem 1rem;text-align:center;}
/* sc-component-id: udk3dy-0 */
.fBewLa{width:100%;}
/* sc-component-id: l5bfw4-0 */
.jWlViT{position:relative;min-height:100vh;width:100%;display:grid;grid-template-columns:auto;grid-template-rows:3.125rem 1fr auto;}
/* sc-component-id: q4rscb-0 */
.eEuqlv{-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.3;font-size:0.9rem;font-family:Pridi;padding:0.5rem 2rem;border-radius:2px;height:auto;background-color:#651eea;border:1px solid rgba(0,0,0,0.1);color:#fff;cursor:pointer;-webkit-transition:all 100ms ease-out;transition:all 100ms ease-out;outline:none;} .eEuqlv:hover,.eEuqlv:not(:active):focus{opacity:0.8;}
/* sc-component-id: sc-global-2679796312 */
@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:300;src:url('/static/fonts/pridi-300.eot');src:local('Pridi Light'), local('Pridi-Light'), url('/static/fonts/pridi-300.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-300.woff2') format('woff2'), url('/static/fonts/pridi-300.woff') format('woff'), url('/static/fonts/pridi-300.ttf') format('truetype'), url('/static/fonts/pridi-300.svg#Pridi') format('svg');} ,@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:400;src:url('/static/fonts/pridi-400.eot');src:local('Pridi Regular'), local('Pridi-Regular'), url('/static/fonts/pridi-400.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-400.woff2') format('woff2'), url('/static/fonts/pridi-400.woff') format('woff'), url('/static/fonts/pridi-400.ttf') format('truetype'), url('/static/fonts/pridi-400.svg#Pridi') format('svg');} ,@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:500;src:url('/static/fonts/pridi-500.eot');src:local('Pridi Medium'), local('Pridi-Medium'), url('/static/fonts/pridi-500.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-500.woff2') format('woff2'), url('/static/fonts/pridi-500.woff') format('woff'), url('/static/fonts/pridi-500.ttf') format('truetype'), url('/static/fonts/pridi-500.svg#Pridi') format('svg');} ,@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:700;src:url('/static/fonts/pridi-700.eot');src:local('Pridi Bold'), local('Pridi-Bold'), url('/static/fonts/pridi-700.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-700.woff2') format('woff2'), url('/static/fonts/pridi-700.woff') format('woff'), url('/static/fonts/pridi-700.ttf') format('truetype'), url('/static/fonts/pridi-700.svg#Pridi') format('svg');} *{box-sizing:border-box;} *::selection{background-color:rgba(240,233,253,1);color:rgba(71,21,164,1);} :root{--colors-primary:#651eea;--colors-black:#000;--colors-dimgray:#555;--colors-white:#fff;--page-font-family:Pridi;--page-color:#444;--page-width:50rem;--page-header-height:3.125rem;--page-post-width:40rem;} html{font-size:0.8rem;} @media screen and (min-width:280px){html{font-size:calc( 0.8rem + 0.024999999999999994 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){html{font-size:1.2rem;}} body{height:100%;margin:0;padding:0;font-family:Pridi,serif;line-height:1.6;font-weight:300;} #__next{height:100%;height:100vh;color:#444;} article,aside,details,figcaption,figure,footer,header,main,mark,nav,section{display:block;} h1,h2,h3,h4,h5,h6{color:#000;line-height:1.1;font-weight:700;margin:0 0 0.25rem;margin-top:1rem;} @media screen and (min-width:280px){h1,h2,h3,h4,h5,h6{margin-top:calc( 1rem + 0.0625 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h1,h2,h3,h4,h5,h6{margin-top:2rem;}} h1{font-size:1.5rem;} @media screen and (min-width:280px){h1{font-size:calc( 1.5rem + 0.08124999999999999 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h1{font-size:2.8rem;}} h2{font-size:1.4rem;} @media screen and (min-width:280px){h2{font-size:calc( 1.4rem + 0.056249999999999994 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h2{font-size:2.3rem;}} h3{font-size:1.3rem;} @media screen and (min-width:280px){h3{font-size:calc( 1.3rem + 0.05 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h3{font-size:2.1rem;}} h4{font-size:1.2rem;} @media screen and (min-width:280px){h4{font-size:calc( 1.2rem + 0.037500000000000006 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h4{font-size:1.8rem;}} h5{font-size:1.1rem;} @media screen and (min-width:280px){h5{font-size:calc( 1.1rem + 0.024999999999999994 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h5{font-size:1.5rem;}} h6{font-size:1rem;} @media screen and (min-width:280px){h6{font-size:calc( 1rem + 0.012499999999999997 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h6{font-size:1.2rem;}} p{font-size:1.15rem;margin-top:0;margin-bottom:1rem;} li{font-size:1.15rem;margin-bottom:1rem;} blockquote{font-size:1.15rem;} pre,code,kbd{padding:0.5rem 1rem;border-radius:4px;background-color:rgba(242,242,242,1);color:#444;} code,kbd{font-size:0.8em;padding:0.2rem 0.4rem 0.15rem;border-radius:4px;} pre code{font-size:0.9rem;padding:0;background-color:transparent;display:block;} kbd{background-image:none;border:1px solid rgba(85,85,85,0.2);} a,a > code{position:relative;color:#651eea;-webkit-text-decoration:none;text-decoration:none;outline:none;} a:not(:active):focus,a > code:not(:active):focus{opacity:0.8;text-shadow:-0.06ex 0 #651eea,0.06ex 0 #651eea;}</style></head><div id="__next"><div class="l5bfw4-0 jWlViT"><div class="gefaab-0 bNoklp"><header class="gefaab-1 enmWzW"><div class="gefaab-2 bVKdBM"><a title="https://sidneyliebrand.io homepage" href="/" class="jhtjut-1 iElySe"><div class="jhtjut-0 ecCSWo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 429.29 114.44" preserveAspectRatio="xMidYMid slice">
  <path d="M33.43,96.21c18.22,0,25-17.14,8.48-26.76C29,61.94,11.44,60.75,3.93,46S3.07,12.14,17.4,4.71c15.35-8,36.69-5.08,51.36,3L62.4,24.49C53.63,19.59,41,16,31.08,19.76c-9.33,3.55-10.69,13.62-3.22,20.08,7.83,6.77,19.62,7.95,28.53,13,11.12,6.31,17.37,16.65,17.32,29.41-.12,27.84-27.22,34.19-50.28,31.69-6-.65-22.15-3.42-23.36-9.38C-.67,100.91,4.59,92,5.88,88.44A53,53,0,0,0,33.43,96.21Z" />
  <path d="M162,112.11H93.31V2.77h21.91V94.09H162Z" />
  <path d="M229.15,98.15c0,20.64-31.72,20.67-31.62,0C197.63,78,229.15,77.92,229.15,98.15Z" />
  <path d="M267,112.11v-18H290.8V20.78H267v-18h69.42v18H312.7V94.09h23.67v18Z" />
  <path d="M350.5,57.35c0-25.51,8.42-57,39.39-57.06,31.32-.09,39.4,31.31,39.4,57.06,0,24.69-7.42,55.53-37.19,57C359.55,115.88,350.5,84,350.5,57.35Zm22.08,0c0,12.19-.62,38.21,17.31,38.15s17.3-25.85,17.32-38.15.62-38.12-17.32-38.16S372.58,45.23,372.58,57.35Z" />
</svg>
</div></a><nav class="pfay7k-1 iHCyTn"><a href="https://github.com/sidofc" title="Sidney Liebrand&#x27;s GitHub profile" class="pfay7k-2 jdsXWn"><div class="pfay7k-0 yLSRV"><svg viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
</div></a></nav></div></header></div><main class="udk3dy-0 fBewLa"><article class="sc-5dsxsd-1 nctze"><h1 class="sc-5dsxsd-0 kKQoMs">Vim tip: persistent undo</h1><small class="vkw20g-0 dxcacV">By <!-- -->Sidney Liebrand<!-- --> on <!-- -->Aug 4, 2018<!-- --> • <!-- -->5<!-- --> min read</small><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NDQuMTY5OTggNTQ0Ljg2NDIiPjxnIHN0cm9rZT0iIzAwMCI+PHBhdGggZmlsbD0iIzAxOTgzMyIgc3Ryb2tlLXdpZHRoPSIuOTQ1NzE1NjciIGQ9Ik0yNjAuNTA3NDQgMTcwLjY5NTE1TDEwNS45ODQxMiAzNDAuNzkwOTQgMjU5Ljg2MzYgNTEwLjE3OGwxNTQuNTIzMzEtMTcwLjA5NTc5LTE1My44Nzk0Ny0xNjkuMzg3MDZ6IiB0cmFuc2Zvcm09Im1hdHJpeCgxLjUzMjM5IDAgMCAxLjM5Mzk3IC0xMjQuODkzMTMgLTIwMi4xMjUyNzYpIi8+PHBhdGggZmlsbD0iIzY2ZmU5OCIgc3Ryb2tlLXdpZHRoPSIuOTQ1NzE1NjciIGQ9Ik0yNTkuODYzNiAxNzEuNDAzODl2LTE0Ljg4MzM4TDkxLjgxOTQ5MiAzNDEuNDk5NjdoMTQuMTY0NjI4TDI1OS44NjM2IDE3MS40MDM4OXoiIHRyYW5zZm9ybT0ibWF0cml4KDEuNTMyMzkgMCAwIDEuMzkzOTcgLTEyNC44OTMxMyAtMjAyLjEyNTI3NikiLz48cGF0aCBmaWxsPSIjNDVmZTAyIiBzdHJva2Utd2lkdGg9Ii45NDU3MTU2NyIgZD0iTTI1OS40NzcyOSAxNzEuNDAzODl2LTE0Ljg4MzM4bDE2OC4wNDQxIDE4NC45NzkxNmgtMTQuMTY0NjNMMjU5LjQ3NzI5IDE3MS40MDM4OXoiIHRyYW5zZm9ybT0ibWF0cml4KDEuNTMyMzkgMCAwIDEuMzkzOTcgLTEyNC44OTMxMyAtMjAyLjEyNTI3NikiLz48cGF0aCBmaWxsPSIjMDE3ZDE3IiBzdHJva2Utd2lkdGg9Ii45NDU3MTU2NyIgZD0iTTI1OS44NjM2IDUxMS4xNzAyMnYxNC44ODMzOEw5MS44MTk0OTIgMzQxLjA3NDQ0aDE0LjE2NDYyOEwyNTkuODYzNiA1MTEuMTcwMjJ6IiB0cmFuc2Zvcm09Im1hdHJpeCgxLjUzMjM5IDAgMCAxLjM5Mzk3IC0xMjQuODkzMTMgLTIwMi4xMjUyNzYpIi8+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxOC45MTQzMTQyNyIgZD0iTTEyMi45OTQ0OCAxNzUuMzA2NDNoMTA4LjM1Mzk2bDYuNjAxMzkgNy4yNjY2NXYyMi4zMDExNmwtNS4yMzU1OSA3LjAxNjA4aC0xMS44MzY5OXYxMTAuNzU0MDZsMTAxLjk4MDE5LTExMC43NTQwNkgzMDYuMDEyNWwtNS45MTg1LTcuMDE2MDh2LTIzLjU1NDAzbDUuNDYzMjMtNS41MTI2NGgxMDkuNzE5NzZsNS40NjMyMiA2LjAxMzc5djIyLjA1MDU4TDE3Mi42MTg3OCA0ODQuMDE0NTJoLTI4LjIyNjY2bC04LjE3MDMzLTUuMTkyNTJWMjEwLjg4ODAzaC0xMy42ODI1N2wtNS4wMDc5NS01LjUxMjY0di0yMy41NTQwM2w1LjQ2MzIxLTYuNTE0OTN6IiB0cmFuc2Zvcm09Im1hdHJpeCgxLjUzMjM5IDAgMCAxLjM5Mzk3IC0xMjQuODkzMTMgLTIwMi4xMjUyNzYpIi8+PHBhdGggZmlsbD0iIzAwNWQwNCIgc3Ryb2tlLXdpZHRoPSIuOTQ1NzE1NjciIGQ9Ik0yNTkuNDc3MjkgNTExLjE3MDIydjE0Ljg4MzM4bDE2OC4wNDQxLTE4NC45NzkxNmgtMTQuMTY0NjNMMjU5LjQ3NzI5IDUxMS4xNzAyMnoiIHRyYW5zZm9ybT0ibWF0cml4KDEuNTMyMzkgMCAwIDEuMzkzOTcgLTEyNC44OTMxMyAtMjAyLjEyNTI3NikiLz48cGF0aCBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjUuNjc0MjkzOTkiIGQ9Ik0yNTkuNDEwMTggMTU1LjE0ODQ4TDkwLjczNDAyNiAzNDAuODIzMzkgMjU4LjcwNzM3IDUyNS43MjQ2N2wxNjguNjc2MTYtMTg1LjY3NDkyLTE2Ny45NzMzNS0xODQuOTAxMjd6IiB0cmFuc2Zvcm09Im1hdHJpeCgxLjUzMjM5IDAgMCAxLjM5Mzk3IC0xMjQuODkzMTMgLTIwMi4xMjUyNzYpIi8+PHBhdGggZmlsbD0iI2ZlZmVmZSIgc3Ryb2tlLXdpZHRoPSIuOTQ1NzE1NjciIGQ9Ik0yMzIuNTAwMDggMTg2LjY0MTYzbDYuMTE2NTUtMy41NDM2Ni02LjI3NzUxLTYuOTEwMTRIMTIzLjA0NjA3bC01LjU1MzE5IDYuMTEyODF2MjMuMTIyNGw2LjE1Njc5IDYuNzc3MjUgMi45Mzc1Ni02Ljc3NzI1LTMuODYzMDgtNC4yNTI0di0xNi4zMDA4NWwyLjg5NzMxLTIuODM0OTJIMjI5LjkyNDdsMi41NzUzOCA0LjYwNjc2eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS41MzIzOSAwIDAgMS4zOTM5NyAtMTI0Ljg5MzEzIC0yMDIuMTI1Mjc2KSIvPjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik04MjguOTM3NSAzNjkuNWwtNC4yODEyNSA0LjI4MTI1VjM4OS41bDMuNzUgMy43NWgxOS44MTI1djE1LjE4NzVsLTEzMS4wNjI1IDEzMi44NDM3NVYzOTMuNDM3NWgyMS43ODEyNWw0LjQ2ODc1LTQuNDY4NzVWMzczLjA2MjVsLTQuMTI1LTMuMTg3NWgtMTE0LjYyNWwtMy43NSAzLjc1djE2LjI1bDMuODEyNSAzLjgxMjVoMTkuOTM3NXYyNzIuMjVsMy43NSAzLjc1aDIyLjY1NjI1bDI3NC42NTYyNS0yODMuNDA2MjV2LTEyLjVMOTQxLjQzNzUgMzY5LjVoLTExMi41eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS4zODEyNyAwIDAgMS4zODMxMyAtNzk1LjE5NDY4NjkxIC00NjAuNDM1OTUyNTMpIi8+PHBhdGggZmlsbD0iI2ZlZmVmZSIgc3Ryb2tlLXdpZHRoPSIuOTQ1NzE1NjciIGQ9Ik0xNDMuNDgxNTggMjA0Ljg3NDI0djI3MC42MjA3M2wzLjE4Njg4IDQuMDA5Mi0yLjQ5OTE2IDUuMjQzMDEtNy4wNjE0OC03Ljc0ODc2di0yNjUuMTA4MXoiIHRyYW5zZm9ybT0ibWF0cml4KDEuNTMyMzkgMCAwIDEuMzkzOTcgLTEyNC44OTMxMyAtMjAyLjEyNTI3NikiLz48cGF0aCBmaWxsPSJncmF5IiBzdHJva2Utd2lkdGg9Ii45NDU3MTU2NyIgZD0iTTEyNS44MjQ1MSAyMDQuODc0MjRsLTEuODIxMDggNi41MTQ5NGgxMy4yMDI4bDcuMjg0My02LjUxNDk0aC0xOC42NjYwMnoiIHRyYW5zZm9ybT0ibWF0cml4KDEuNTMyMzkgMCAwIDEuMzkzOTcgLTEyNC44OTMxMyAtMjAyLjEyNTI3NikiLz48cGF0aCBmaWxsPSIjZmVmZWZlIiBzdHJva2Utd2lkdGg9Ii45NDU3MTU2NyIgZD0iTTMwNy4xODYzNiAyMTIuMTkxNDRsMi44OTczMS02LjU1NTc3LTQuMTg1MDEtNC4yNTI0di0xNC41MjkwMWw0LjgyODg2LTUuMzE1NTFINDExLjQ4OTZsMy44NjMwOCA1LjY2OTg3IDUuNDcyNy00LjI1MjQtNS42MzM2Ni02LjIwMTQxSDMwNi44NjQ0M2wtNS4zOTIyMSA1LjkzNTY0djIzLjI5OTU3bDUuNTkzNDIgNS44MDI3Nm0tODcuNTQzMDkgMTExLjg3Nzg1bC0xMC41MjI4OCAyOC4xMDU2NiAxMTguNzg5OC0xMzEuMTE1NXYtMTUuNTkyMTFMMjE5LjUyMjU1IDMyMy42NzA2M3oiIHRyYW5zZm9ybT0ibWF0cml4KDEuNTMyMzkgMCAwIDEuMzkzOTcgLTEyNC44OTMxMyAtMjAyLjEyNTI3NikiLz48cGF0aCBmaWxsPSJncmF5IiBzdHJva2Utd2lkdGg9Ii45NDU3MTU2NyIgZD0iTTIzMi4yNTg5NiAxODUuODMwNTZsNS4yMzU2LTMuNzU4NjJ2MjIuODAyM2wtNi4wMzIzMSA2LjY0MDIzaC0xMS43MjMxN3YxMTIuMzgyNzdsLTEwLjY5ODgyIDI3LjgxMzgxVjIwNC44NzQyNGgxOS41NzY1NmwzLjY0MjE0LTMuMjU3NDd2LTE1Ljc4NjIxeiIgdHJhbnNmb3JtPSJtYXRyaXgoMS41MzIzOSAwIDAgMS4zOTM5NyAtMTI0Ljg5MzEzIC0yMDIuMTI1Mjc2KSIvPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik04MjguOTM3NSAzNjkuNWwtNC4yODEyNSA0LjI4MTI1VjM4OS41bDMuNzUgMy43NWgxOS44MTI1djE1LjE4NzVsLTEzMS4wNjI1IDEzMi44NDM3NVYzOTMuNDM3NWgyMS43ODEyNWw0LjQ2ODc1LTQuNDY4NzVWMzczLjA2MjVsLTQuMTI1LTMuMTg3NWgtMTE0LjYyNWwtMy43NSAzLjc1djE2LjI1bDMuODEyNSAzLjgxMjVoMTkuOTM3NXYyNzIuMjVsMy43NSAzLjc1aDIyLjY1NjI1bDI3NC42NTYyNS0yODMuNDA2MjV2LTEyLjVMOTQxLjQzNzUgMzY5LjVoLTExMi41eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS4zODEyNyAwIDAgMS4zODMxMyAtNzk1LjE5NDY4NjkxIC00NjAuNDM1OTUyNTMpIi8+PHBhdGggZmlsbD0iZ3JheSIgc3Ryb2tlLXdpZHRoPSIuOTQ1NzE1NjciIGQ9Ik00MTUuMzUyNjggMTg1LjkzMjlsNS40OTg0OS0zLjQ5NDQ4djIxLjkyMTUybC0yNDkuMzkxMTEgMjgwLjUyMTNIMTQ0Ljk4MjZsMi41Mjk2Ni01LjUzMzFoMjAuMjgxMTlsMjQ3LjIzNzMxLTI4MS4wMTI0MXpNMzI3LjI5NjMxIDIwNS4yNTAwOWwtNS41NzcwMyA2LjM4OTY2aC0xNC41Njg2MWwzLjQxNDUyLTYuMzg5NjZoMTYuNzMxMTJ6IiB0cmFuc2Zvcm09Im1hdHJpeCgxLjUzMjM5IDAgMCAxLjM5Mzk3IC0xMjQuODkzMTMgLTIwMi4xMjUyNzYpIi8+PGcgZmlsbD0iI2NjYyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIj48cGF0aCBzdHJva2Utd2lkdGg9IjgiIGQ9Ik0zOTkuNzgxMjUgNTYwYTEuMjMzMDEwMiAxLjIzMzAxMDIgMCAwIDAtLjU2MjUuMjgxMjVsLTUuMzEyNSA0LjU2MjVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMC0uMzQzNzUuNTMxMjVMMzg4LjI1IDU4MC4yNWExLjIzMzAxMDIgMS4yMzMwMTAyIDAgMCAwIC4yODEyNSAxLjI4MTI1bDQuMDYyNSA0LjA2MjVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMCAuODc1LjM0Mzc1SDQwOS44NzVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMCAuODc1LS4zNDM3NWw0LjI4MTI1LTQuMzEyNWExLjIzMzAxMDIgMS4yMzMwMTAyIDAgMCAwIC4zMTI1LS41MzEyNWw0LjU2MjUtMTUuNjU2MjVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMC0uMzEyNS0xLjIxODc1bC0zLjUzMTI1LTMuNTMxMjVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMC0uODc1LS4zNDM3NWgtMTUuMTU2MjVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMC0uMjUgMHptLTMwLjA2MjUgNDEuOTM3NWExLjIzMzAxMDIgMS4yMzMwMTAyIDAgMCAwLS45Mzc1LjkwNjI1bC0yLjAzMTI1IDguMDYyNWExLjIzMzAxMDIgMS4yMzMwMTAyIDAgMCAwIDEuMTg3NSAxLjUzMTI1aDkuNjU2MjVsLTIzLjkzNzUgNjguMzQzNzVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMCAxLjE1NjI1IDEuNjI1aDM0Ljg0Mzc1YTEuMjMzMDEwMiAxLjIzMzAxMDIgMCAwIDAgMS4xODc1LS44NDM3NWwyLjI4MTI1LTcuMzQzNzVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMC0xLjE4NzUtMS41OTM3NWgtNy44NzVsMjMuNjg3NS02OS4wNjI1YTEuMjMzMDEwMiAxLjIzMzAxMDIgMCAwIDAtMS4xNTYyNS0xLjYyNWgtMzYuNjI1YTEuMjMzMDEwMiAxLjIzMzAxMDIgMCAwIDAtLjI1IDB6bTExMC44NzUuMjVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMC0uNjg3NS40MDYyNWwtNy4yNSA4LjE4NzVINDYxLjEyNWwtNy42ODc1LTcuOTY4NzVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMC0uODc1LS4zNzVoLTI3LjUzMTI1YTEuMjMzMDEwMiAxLjIzMzAxMDIgMCAwIDAtMS4xNTYyNS44MTI1bC0yLjUzMTI1IDcuNTYyNWExLjIzMzAxMDIgMS4yMzMwMTAyIDAgMCAwIDEuMTU2MjUgMS42MjVoNy4zNzVsLTIyLjkzNzUgNjcuNTkzNzVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMCAxLjE1NjI1IDEuNjI1aDI5LjMxMjVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMCAxLjE1NjI1LS44MTI1bDIuMjUtNi41OTM3NWExLjIzMzAxMDIgMS4yMzMwMTAyIDAgMCAwLTEuMTU2MjUtMS42MjVoLTUuMTI1bDE0LjYyNS00Ni4wMzEyNUg0NzUuNjI1bC0xNi42ODc1IDUzLjQ2ODc1YTEuMjMzMDEwMiAxLjIzMzAxMDIgMCAwIDAgMS4xODc1IDEuNTkzNzVoMjguMjgxMjVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMCAxLjEyNS0uNzVsMi41MzEyNS02LjA2MjVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMC0xLjEyNS0xLjY4NzVoLTUuMTI1bDE0Ljg3NS00Ni44MTI1aDI1LjE4NzVsLTE2LjkzNzUgNTMuNzE4NzVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMCAxLjE4NzUgMS41OTM3NWgzMS4wNjI1YTEuMjMzMDEwMiAxLjIzMzAxMDIgMCAwIDAgMS4xNTYyNS0uNzgxMjVsMi41MzEyNS02LjU5Mzc1YTEuMjMzMDEwMiAxLjIzMzAxMDIgMCAwIDAtMS4xNTYyNS0xLjY1NjI1aC02LjE1NjI1bDE4LjcxODc1LTYwLjc4MTI1YTEuMjMzMDEwMiAxLjIzMzAxMDIgMCAwIDAtLjE4NzUtMS4xMjVsLTUuODEyNS03LjgxMjVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMC0xLS40Njg3NUg1MjcuMDYyNWExLjIzMzAxMDIgMS4yMzMwMTAyIDAgMCAwLS45MDYyNS4zNzVsLTcgNy42ODc1aC0xMi4yNWwtNy4yNS03LjkzNzVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMC0uOTA2MjUtLjM3NWgtMTcuOTA2MjVhMS4yMzMwMTAyIDEuMjMzMDEwMiAwIDAgMC0uMjUgMHoiIHRyYW5zZm9ybT0ibWF0cml4KDEuMzgxMjcgMCAwIDEuMzgzMTMgLTI2Ni42ODU0MzI5NyAtNDcwLjA5ODU5NzkxKSIvPjxwYXRoIGQ9Ik00MDAuMDMxMjUgNTYxLjIxODc1bC01LjMxMjUgNC41NjI1LTUuMzEyNSAxNC44NzUgNC4wNjI1IDQuMDYyNUg0MDkuODc1bDQuMjgxMjUtNC4zMTI1IDQuNTYyNS0xNS42NTYyNS0zLjUzMTI1LTMuNTMxMjVoLTE1LjE1NjI1em0tMzAuMDYyNSA0MS45Mzc1bC0yLjAzMTI1IDguMDYyNWgxMS4zNzVsLTI0LjUgNjkuOTY4NzVoMzQuODQzNzVsMi4yODEyNS03LjM0Mzc1aC05LjU5Mzc1bDI0LjI1LTcwLjY4NzVoLTM2LjYyNXptMTEwLjg3NS4yNUw0NzMuMjUgNjEyaC0xMi42MjVsLTguMDYyNS04LjM0Mzc1aC0yNy41MzEyNWwtMi41MzEyNSA3LjU2MjVoOS4wOTM3NWwtMjMuNSA2OS4yMTg3NWgyOS4zMTI1bDIuMjUtNi41OTM3NWgtNi44MTI1TDQ0OC4yNSA2MjUuMzc1aDI5LjA2MjVsLTE3LjE4NzUgNTUuMDYyNWgyOC4yODEyNWwyLjUzMTI1LTYuMDYyNWgtNi44MTI1bDE1LjY1NjI1LTQ5LjI1aDI3Ljc4MTI1bC0xNy40Mzc1IDU1LjMxMjVoMzEuMDYyNWwyLjUzMTI1LTYuNTkzNzVINTM1Ljg3NWwxOS4yMTg3NS02Mi4zNzUtNS44MTI1LTcuODEyNUg1MjcuMDYyNWwtNy4zNDM3NSA4LjA2MjVoLTEzLjM3NWwtNy41OTM3NS04LjMxMjVoLTE3LjkwNjI1eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS4zODEyNyAwIDAgMS4zODMxMyAtMjY2LjY4NTQzMjk3IC00NzAuMDk4NTk3OTEpIi8+PC9nPjwvZz48L3N2Zz4K" alt="Vim logo"/><div style="padding-bottom:100.37500%"></div></div></figure><p>Sometimes I happen to close a buffer that I had open for a while and modified here and there.
Then I find out that the code from two or three edits ago in that file actually worked better and I want to revert but upon reopening the file, pressing <code>u</code> shows an <code>Already at oldest change</code> message...</p><p>The second thing I try is <code>git</code> to see the unchanged file but this usually takes me way to far back to be of any use.
This is when I usually realize that I can&#x27;t get back to that point by using any kind of &quot;undo&quot; functionality.</p><p>Finally, the last wall of defense is my brain, small changes from the last edit are usually still lingering in my mind and I can revert them from memory.
Anything large or multi-line, though <!-- -->—<!-- --> forget about it.</p><p>None of the above so far provide a good reliable solution out of the box, but one day while randomly reading through <code>:h undo</code> I found a particularly useful section: <code>:h undo-persistence</code>.</p><h2>Persistent undo</h2><p>The <code>undo-persistence</code> manual explains that Vim indeed destroys the <em>undo tree </em>when a buffer is <em>unloaded.</em>
To understand exactly what this means, I&#x27;ll give a small explanation.</p><p>In Vim, a buffer is basically a file <em>loaded</em> in memory.
Whenever a file is loaded in memory, Vim keeps track of its <em>undo tree</em> <!-- -->—<!-- --> this is the construct that keeps track of changes and enables one to undo and redo them.
As long as the file remains in memory, the undo tree is kept with it.</p><p>As soon as the buffer is <em>unloaded</em> using for example <code>:[bufnum]bd</code>, it is cleared from memory and the undo tree is destroyed with it.
This is the part that is problematic if you want to revert back to some edit before the last time you re-opened the file in Vim.</p><p>Persistent undo solves this by storing the changes in a file instead of in-memory and linked to the loaded buffer, allowing undo to go back and forth beyond just the set of changes since the file was last opened.
You could go back to yesterday&#x27;s changes or those of two weeks ago for example.</p><h2>Setup</h2><p>Fortunately, not much is needed to set this up.
Vim needs a directory to store the persistent undo history and two settings need to be tweaked / enabled.
This is the snippet I have in my Vim config that handles this automatically:</p><pre style="overflow:auto;background-color:#2a2734;color:#9a86fd;width:"><code style="color:#9a86fd"><span style="color:#6c6783">&quot; guard for distributions lacking the persistent_undo feature.</span><span></span></code><code style="color:#9a86fd"><span></span><span style="color:#ffcc99">if</span><span> </span><span style="color:#9a86fd">has</span><span style="color:#6c6783">(</span><span style="color:#ffcc99">&#x27;persistent_undo&#x27;</span><span style="color:#6c6783">)</span><span></span></code><code style="color:#9a86fd"><span>    </span><span style="color:#6c6783">&quot; define a path to store persistent_undo files.</span><span></span></code><code style="color:#9a86fd"><span>    </span><span style="color:#ffcc99">let</span><span> target_path </span><span style="color:#e09142">=</span><span> </span><span style="color:#9a86fd">expand</span><span style="color:#6c6783">(</span><span style="color:#ffcc99">&#x27;~/.config/vim-persisted-undo/&#x27;</span><span style="color:#6c6783">)</span><span></span></code><code style="color:#9a86fd"><span style="display:inline-block"></span></code><code style="color:#9a86fd"><span>    </span><span style="color:#6c6783">&quot; create the directory and any parent directories</span><span></span></code><code style="color:#9a86fd"><span>    </span><span style="color:#6c6783">&quot; if the location does not exist.</span><span></span></code><code style="color:#9a86fd"><span>    </span><span style="color:#ffcc99">if</span><span> </span><span style="color:#e09142">!</span><span style="color:#9a86fd">isdirectory</span><span style="color:#6c6783">(</span><span>target_path</span><span style="color:#6c6783">)</span><span></span></code><code style="color:#9a86fd"><span>        </span><span style="color:#ffcc99">call</span><span> </span><span style="color:#9a86fd">system</span><span style="color:#6c6783">(</span><span style="color:#ffcc99">&#x27;mkdir -p &#x27;</span><span> </span><span style="color:#e09142">.</span><span> target_path</span><span style="color:#6c6783">)</span><span></span></code><code style="color:#9a86fd"><span>    </span><span style="color:#ffcc99">endif</span><span></span></code><code style="color:#9a86fd"><span style="display:inline-block"></span></code><code style="color:#9a86fd"><span>    </span><span style="color:#6c6783">&quot; point Vim to the defined undo directory.</span><span></span></code><code style="color:#9a86fd"><span>    </span><span style="color:#ffcc99">let</span><span> &amp;undodir </span><span style="color:#e09142">=</span><span> target_path</span></code><code style="color:#9a86fd"><span style="display:inline-block"></span></code><code style="color:#9a86fd"><span>    </span><span style="color:#6c6783">&quot; finally, enable undo persistence.</span><span></span></code><code style="color:#9a86fd"><span>    </span><span style="color:#ffcc99">set</span><span> undofile</span></code><code style="color:#9a86fd"><span></span><span style="color:#ffcc99">endif</span></code></pre><p>The above VimL checks if the <code>persistent_undo</code> feature is supported.
Defines a path <code>~/.config/vim-persisted-undo/</code> to store the files.
Creates the directory if it doesn&#x27;t exist and sets the necessary undodir and undofile options.</p><h2>A simple example</h2><p>Now let&#x27;s go through a simple exercise to see if this works.</p><ol><li>After you&#x27;ve added the snippet or enabled this feature manually, exit Vim and run the following command in the terminal:vim sample.txt.</li><li>Write some text and save the file. Then make another change by adding, removing, or changing the content of the file and save it again.</li><li>The file now has some undo history we can use. Exit Vim and open the file again from the terminal: vim sample.txt.</li><li>Now, pressing u should work as expected and correctly undo the change you made before closing the file.</li></ol><h2>Profit</h2><p>That&#x27;s it! You now have access to any edit you made at any point in time for any particular file.
If you accidentally close a buffer, just re-open it and your undo tree will be like it was before closing it.</p><p>I hope that you enjoyed this post and got something useful out of it.
If there is anything I missed I&#x27;d love to hear about it in the comments.
Likewise if I&#x27;m wrong or anything is unclear, I&#x27;ll happily stand corrected.</p><p>Until next time :)</p><p>👋</p><footer class="sc-5dsxsd-2 brPtyq"><a href="/" class="q4rscb-0 eEuqlv">Back</a></footer></article></main><footer class="oijonz-0 kzbDwj"><small>© <!-- -->https://sidneyliebrand.io<!-- --> <!-- -->2019</small></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/blog/vim-tip-persistent-undo","query":{},"buildId":"wohdTI-3m_X9Y6g5dOVOf","dynamicBuildId":false,"nextExport":true}</script><script async="" id="__NEXT_PAGE__/blog/vim-tip-persistent-undo" src="/_next/static/wohdTI-3m_X9Y6g5dOVOf/pages/blog/vim-tip-persistent-undo.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/wohdTI-3m_X9Y6g5dOVOf/pages/_app.js"></script><script src="/_next/static/runtime/webpack-a79426b5e11f0ba5879d.js" async=""></script><script src="/_next/static/chunks/commons.6a74504d95dde5528842.js" async=""></script><script src="/_next/static/runtime/main-0043a8e04005a8ba8f87.js" async=""></script></html>