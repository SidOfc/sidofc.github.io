3:I[9275,[],""]
5:I[1343,[],""]
8:I[231,["231","static/chunks/231-0826ad95ffafa567.js","308","static/chunks/app/blog/%5Bslug%5D/page-8bceda37ec76393a.js"],""]
4:["slug","fixing-font-face-set-entries-not-iterable-in-firefox","d"]
7:Ta6a,html.light { --prism-plain-backgroundColor: #f6f8fa;--prism-plain-color: #393A34;--prism-comment-color: #999988;--prism-comment-fontStyle: italic;--prism-prolog-color: #999988;--prism-prolog-fontStyle: italic;--prism-cdata-color: #999988;--prism-cdata-fontStyle: italic;--prism-doctype-color: #999988;--prism-doctype-fontStyle: italic;--prism-punctuation-color: #393A34;--prism-entity-color: #36acaa;--prism-attr-name-color: #00a4db;--prism-boolean-color: #36acaa;--prism-constant-color: #36acaa;--prism-number-color: #36acaa;--prism-atrule-color: #00a4db;--prism-keyword-color: #00009f;--prism-property-color: #36acaa;--prism-tag-color: #00009f;--prism-symbol-color: #36acaa;--prism-deleted-color: #d73a49;--prism-selector-color: #00009f;--prism-string-color: #e3116c;--prism-inserted-color: #36acaa;--prism-regex-color: #36acaa;--prism-attr-value-color: #e3116c;--prism-variable-color: #36acaa;--prism-operator-color: #393A34;--prism-function-color: #d73a49;--prism-url-color: #36acaa;--prism-namespace-opacity: 0.7;--prism-function-variable-color: #6f42c1; }
html.dark { --prism-plain-backgroundColor: hsl(220, 13%, 18%);--prism-plain-color: hsl(220, 14%, 71%);--prism-plain-textShadow: 0 1px rgba(0, 0, 0, 0.3);--prism-comment-color: hsl(220, 10%, 40%);--prism-prolog-color: hsl(220, 10%, 40%);--prism-cdata-color: hsl(220, 10%, 40%);--prism-doctype-color: hsl(220, 14%, 71%);--prism-punctuation-color: hsl(220, 14%, 71%);--prism-entity-color: hsl(220, 14%, 71%);--prism-attr-name-color: hsl(29, 54%, 61%);--prism-class-name-color: hsl(29, 54%, 61%);--prism-maybe-class-name-color: hsl(29, 54%, 61%);--prism-boolean-color: hsl(29, 54%, 61%);--prism-constant-color: hsl(29, 54%, 61%);--prism-number-color: hsl(29, 54%, 61%);--prism-atrule-color: hsl(29, 54%, 61%);--prism-keyword-color: hsl(286, 60%, 67%);--prism-property-color: hsl(355, 65%, 65%);--prism-tag-color: hsl(355, 65%, 65%);--prism-symbol-color: hsl(355, 65%, 65%);--prism-deleted-color: hsl(355, 65%, 65%);--prism-deleted-textDecorationLine: line-through;--prism-important-color: hsl(220, 14%, 71%);--prism-important-fontWeight: bold;--prism-selector-color: hsl(95, 38%, 62%);--prism-string-color: hsl(95, 38%, 62%);--prism-char-color: hsl(95, 38%, 62%);--prism-builtin-color: hsl(95, 38%, 62%);--prism-inserted-color: hsl(95, 38%, 62%);--prism-inserted-textDecorationLine: underline;--prism-regex-color: hsl(95, 38%, 62%);--prism-attr-value-color: hsl(95, 38%, 62%);--prism-variable-color: hsl(207, 82%, 66%);--prism-operator-color: hsl(207, 82%, 66%);--prism-function-color: hsl(207, 82%, 66%);--prism-url-color: hsl(187, 47%, 55%);--prism-italic-fontStyle: italic;--prism-bold-fontWeight: bold; }0:["mlSGDhKu547RPfQ2oEHVR",[[["",{"children":["blog",{"children":[["slug","fixing-font-face-set-entries-not-iterable-in-firefox","d"],{"children":["__PAGE__?{\"slug\":\"fixing-font-face-set-entries-not-iterable-in-firefox\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","fixing-font-face-set-entries-not-iterable-in-firefox","d"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/8450b0a56c34517c.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/316995eabadde9f2.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"suppressHydrationWarning":true,"lang":"en","children":[["$","head",null,{"children":["$L6",["$","style",null,{"children":"$7"}]]}],["$","body",null,{"children":["$","div",null,{"className":"layout_application__n0Q7V __className_68e9d9","children":[["$","header",null,{"className":"layout_header__3jMk9","children":["$","div",null,{"className":"layout_headerFixed__rx0vE","children":["$","div",null,{"className":"layout_headerContent__9T0DC","children":[["$","$L8",null,{"href":"/","className":"layout_logo__i3hhL","title":"View home page","children":[["$","span",null,{"className":"layout_logoTopLeft__mQsLC"}],["$","span",null,{"className":"layout_logoBottomLeft__yzF8i"}],["$","span",null,{"className":"layout_logoTopRight__k_p_8"}],["$","span",null,{"className":"layout_logoBottomRight__vRnMa"}]]}],["$","nav",null,{"className":"layout_navigation__RQQL0","children":[["$","$L8",null,{"href":"/cv","title":"View curriculum vitae","children":"C.V."}],["$","$L8",null,{"className":"layout_githubWrapper__HkSRx","href":"https://github.com/SidOfc","title":"Visit Sidney Liebrand's GitHub page","children":["$","figure",null,{"onClick":"$undefined","className":"layout_github__hYJcX media_figure__wgz58 media_invertDark__O69xZ","children":[["$","div",null,{"className":"media_relative__Oqy8s","style":{"paddingBottom":"100%"},"children":["$","img",null,{"loading":"lazy","className":"media_media__dB51W","src":"/media/github.svg","alt":"Sidney Liebrand's GitHub page"}]}],false]}]}],["$","div",null,{"tabIndex":0,"title":"Toggle dark theme","className":"dark-mode-toggle_wrapper__0g8vi","children":[["$","svg",null,{"fill":"#000000","data-theme":"light","className":"dark-mode-toggle_toggle__NLlV2","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","children":[["$","path",null,{"d":"M0 0h24v24H0z","fill":"none"}],["$","path",null,{"d":"M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"}]]}],["$","svg",null,{"fill":"#000000","data-theme":"dark","className":"dark-mode-toggle_toggle__NLlV2","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","children":[["$","path",null,{"d":"M0 0h24v24H0z","fill":"none"}],["$","path",null,{"d":"M9.5,2c-1.82,0-3.53,0.5-5,1.35c2.99,1.73,5,4.95,5,8.65s-2.01,6.92-5,8.65C5.97,21.5,7.68,22,9.5,22c5.52,0,10-4.48,10-10 S15.02,2,9.5,2z"}]]}]]}]]}]]}]}]}],["$","main",null,{"className":"layout_content___6Lgz","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","section",null,{"className":"not-found_page__ovuIG","children":[["$","figure",null,{"onClick":"$undefined","className":"not-found_jackieChanWhat__CXIf9 media_figure__wgz58 media_invertDark__O69xZ","children":[["$","div",null,{"className":"media_relative__Oqy8s","style":{"paddingBottom":"61.29032258064516%"},"children":["$","img",null,{"loading":"lazy","className":"media_media__dB51W","src":"/media/jackie-chan-what.svg","alt":"$undefined"}]}],"$undefined"]}],["$","h1",null,{"className":"not-found_pageHeading__GYmz1","children":"Page not found, what?!"}],["$","$L8",null,{"href":"/","children":["$","button",null,{"tabIndex":0,"className":"button_button__zuVOf","onClick":"$undefined","children":"View homepage"}]}]]}],"notFoundStyles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/f6c77ed2cedc9b63.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/316995eabadde9f2.css","precedence":"next","crossOrigin":"$undefined"}]],"styles":null}]}],["$","footer",null,{"className":"layout_footer__CuyOY","children":[["$","strong",null,{"children":"©"}]," sidneyliebrand.io"," ",2024,["$","span",null,{"className":"bullet_bullet__vDh0G bullet_wide__Vv6L1","children":"•"}],["$","$L8",null,{"prefetch":false,"href":"/feed.xml","title":"View RSS feed","children":"RSS"}],["$","span",null,{"className":"bullet_bullet__vDh0G bullet_wide__Vv6L1","children":"•"}],["$","$L8",null,{"prefetch":false,"href":"/atom.xml","title":"View Atom feed","children":"Atom"}]]}]]}]}]]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/a2f2281afa63742b.css","precedence":"next","crossOrigin":"$undefined"}]],"$L9"]]]]
6:["$","script",null,{"dangerouslySetInnerHTML":{"__html":"!function(e=[]){let t,a=document.querySelector(\"html\"),r=(t,r)=>{for(let t of e)a.classList.remove(t);if(t&&a.classList.add(t),r)try{t?localStorage.setItem(\"theme\",t):localStorage.removeItem(\"theme\")}catch(e){}};try{t||=localStorage.getItem(\"theme\")}catch(e){t||=\"light\"}if(a.classList.remove(\"no-js\"),window.addEventListener(\"click\",(e=>{let t=e.target.getAttribute(\"data-theme\");t&&r(t,!0)})),window.addEventListener(\"storage\",(e=>{\"theme\"===e.key&&r(e.newValue)})),window.matchMedia){var c=window.matchMedia(\"(prefers-color-scheme: dark)\");!t&&c.matches&&(t=\"dark\"),c.addEventListener(\"change\",(e=>{try{localStorage.getItem(\"theme\")||r(e.matches?\"dark\":\"light\")}catch(e){}}))}r(t)}([\"light\",\"dark\"]);"}}]
a:I[9426,["231","static/chunks/231-0826ad95ffafa567.js","308","static/chunks/app/blog/%5Bslug%5D/page-8bceda37ec76393a.js"],"default"]
9:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"name":"theme-color","content":"#ffffff"}],["$","meta","2",{"charSet":"utf-8"}],["$","title","3",{"children":"Sidney Liebrand's blog - Handling FontFaceSet.entries() result not being iterable in Firefox"}],["$","meta","4",{"name":"description","content":"This post describes how to deal with a bug in Firefox where it fails to properly identify the result of <code>FontFaceSet.entries()</code> as an actual iterable object."}],["$","link","5",{"rel":"author","href":"https://sidneyliebrand.io"}],["$","meta","6",{"name":"author","content":"Sidney Liebrand"}],["$","link","7",{"rel":"manifest","href":"/site.webmanifest","crossOrigin":"use-credentials"}],["$","meta","8",{"name":"creator","content":"Sidney Liebrand"}],["$","meta","9",{"name":"publisher","content":"Sidney Liebrand"}],["$","meta","10",{"name":"robots","content":"index, follow"}],["$","meta","11",{"name":"msapplication-TileColor","content":"#ffc40d"}],["$","link","12",{"rel":"canonical","href":"https://sidneyliebrand.io/blog/fixing-font-face-set-entries-not-iterable-in-firefox"}],["$","link","13",{"rel":"alternate","type":"application/rss+xml","href":"https://sidneyliebrand.io/feed.xml"}],["$","link","14",{"rel":"alternate","type":"application/atom+xml","href":"https://sidneyliebrand.io/atom.xml"}],["$","meta","15",{"property":"og:title","content":"Sidney Liebrand's blog - Handling FontFaceSet.entries() result not being iterable in Firefox"}],["$","meta","16",{"property":"og:description","content":"This post describes how to deal with a bug in Firefox where it fails to properly identify the result of <code>FontFaceSet.entries()</code> as an actual iterable object."}],["$","meta","17",{"property":"og:url","content":"https://sidneyliebrand.io/blog/fixing-font-face-set-entries-not-iterable-in-firefox"}],["$","meta","18",{"property":"og:site_name","content":"Sidney Liebrand's blog"}],["$","meta","19",{"property":"og:type","content":"article"}],["$","meta","20",{"property":"article:published_time","content":"2022-11-29T19:20:00Z"}],["$","meta","21",{"name":"twitter:card","content":"summary"}],["$","meta","22",{"name":"twitter:title","content":"Sidney Liebrand's blog - Handling FontFaceSet.entries() result not being iterable in Firefox"}],["$","meta","23",{"name":"twitter:description","content":"This post describes how to deal with a bug in Firefox where it fails to properly identify the result of <code>FontFaceSet.entries()</code> as an actual iterable object."}],["$","link","24",{"rel":"icon","href":"/favicon.ico","sizes":"48x48"}],["$","link","25",{"rel":"icon","href":"/favicon-16x16.png","sizes":"16x16"}],["$","link","26",{"rel":"icon","href":"/favicon-32x32.png","sizes":"32x32"}],["$","link","27",{"rel":"apple-touch-icon","href":"/apple-icon.png","sizes":"180x180"}],["$","link","28",{"rel":"mask-icon","href":"/safari-pinned-tab.svg","color":"#a676ff"}],["$","meta","29",{"name":"next-size-adjust"}]]
1:null
2:["$","article",null,{"className":"post_post__V86NT","children":[["$","$La",null,{"link":"/blog/fixing-font-face-set-entries-not-iterable-in-firefox","children":"Handling FontFaceSet.entries() result not being iterable in Firefox"}],["$","span",null,{"children":["By Sidney Liebrand on"," ","Nov 29, 2022",["$","span",null,{"className":"bullet_bullet__vDh0G","children":"•"}],3," min read"],"className":"post_postData__5nBDA text_page-accent-fg__r7Sxg"}],["$","section",null,{"children":"$Lb"}],["$","$L8",null,{"href":"/","children":["$","button",null,{"tabIndex":0,"className":"button_button__zuVOf","onClick":"$undefined","children":"Back"}]}]]}]
c:{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"}
b:[["$","p",null,{"children":["Today at work I fixed a bug while working with ",["$","code",null,{"children":"FontFaceSet.entries()"}]," which only\nappears in Firefox. This might not seem so strange in browser land, until I give\nyou the gist of the bug. So without further ado, let's get into it!"]}],"\n",["$","$La",null,{"children":"Bug description","as":"h2"}],"\n",["$","p",null,{"children":["You may at some point have used methods such as ",["$","a",null,{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries","children":["$","code",null,{"children":"Object.entries()"}]}],"\nor ",["$","a",null,{"href":"https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams/entries","children":["$","code",null,{"children":"URLSearchParams.entries()"}]}]," to get an iterator of ",["$","code",null,{"children":"[key, value]"}]," arrays.\nThis iterator can then be used to ",["$","em",null,{"children":"loop"}]," over collections of data using\n",["$","a",null,{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of","children":["$","code",null,{"children":"for...of"}]}]," loops, or can be spread into an array using ",["$","a",null,{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax","children":"spread syntax"}],"."]}],"\n",["$","p",null,{"children":"This concept is pretty well known and has been widely implemented across browsers\nfor quite some time so there should be no need to worry about implementation differences."}],"\n",["$","p",null,{"children":["Unfortunately, this changed for me after encountering an issue ",["$","em",null,{"children":"only"}]," in Firefox\nwhere ",["$","code",null,{"children":"FontFaceSet.entries()"}]," does not return an iterable object while\nit does in fact look ",["$","strong",null,{"children":"quite iterable"}],":"]}],"\n",["$","figure",null,{"onClick":"$undefined","className":"media_figure__wgz58","children":[["$","div",null,{"className":"media_relative__Oqy8s","style":{"paddingBottom":"12.072892938496583%"},"children":["$","img",null,{"loading":"lazy","className":"media_media__dB51W","src":"/media/posts/entries-not-iterable-firefox.png","alt":"FontFaceSet.entries() is not iterable error"}]}],["$","figcaption",null,{"className":"media_alt__6tx_o","children":"FontFaceSet.entries() is not iterable error"}]]}],"\n",["$","$La",null,{"children":"Debugging the problem","as":"h2"}],"\n",["$","p",null,{"children":["To look further into what is causing this, we must know what\n",["$","code",null,{"children":"document.fonts.entries()"}]," returns. We can figure out by creating\na minimal reproducible example which can be used for debugging."]}],"\n",["$","p",null,{"children":"Given the following HTML:"}],"\n",["$","pre",null,{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":[["$","span","0",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-punctuation-color)","fontStyle":"var(--prism-doctype-fontStyle)"},"children":"<!"}],["$","span","1",{"style":{"color":"var(--prism-doctype-color)","fontStyle":"var(--prism-doctype-fontStyle)"},"children":"DOCTYPE"}],["$","span","2",{"style":{"color":"var(--prism-doctype-color)","fontStyle":"var(--prism-doctype-fontStyle)"},"children":" "}],["$","span","3",{"style":{"color":"var(--prism-doctype-color)","fontStyle":"var(--prism-doctype-fontStyle)"},"children":"html"}],["$","span","4",{"style":{"color":"var(--prism-punctuation-color)","fontStyle":"var(--prism-doctype-fontStyle)"},"children":">"}],["$","span","5",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","1",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"html"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","2",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"    "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"head"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","3",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"        "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"title"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"FontFaceSet.entries()"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"</"}],["$","span","6",{"style":{"color":"var(--prism-tag-color)"},"children":"title"}],["$","span","7",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","8",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","4",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"        "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"link"}],["$","span","3",{"style":{"color":"var(--prism-tag-color)"},"children":""}]]}],["$","span","5",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-tag-color)"},"children":"            "}],["$","span","1",{"style":{"color":"var(--prism-attr-name-color)"},"children":"type"}],["$","span","2",{"style":{"color":"var(--prism-punctuation-color)"},"children":"="}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","4",{"style":{"color":"var(--prism-attr-value-color)"},"children":"text/css"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","6",{"style":{"color":"var(--prism-tag-color)"},"children":""}]]}],["$","span","6",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-tag-color)"},"children":"            "}],["$","span","1",{"style":{"color":"var(--prism-attr-name-color)"},"children":"rel"}],["$","span","2",{"style":{"color":"var(--prism-punctuation-color)"},"children":"="}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","4",{"style":{"color":"var(--prism-attr-value-color)"},"children":"stylesheet"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","6",{"style":{"color":"var(--prism-tag-color)"},"children":""}]]}],["$","span","7",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-tag-color)"},"children":"            "}],["$","span","1",{"style":{"color":"var(--prism-attr-name-color)"},"children":"href"}],["$","span","2",{"style":{"color":"var(--prism-punctuation-color)"},"children":"="}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","4",{"style":{"color":"var(--prism-attr-value-color)"},"children":"https://fonts.googleapis.com/css2?family=Lato:wght@400&display=swap"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","6",{"style":{"color":"var(--prism-tag-color)"},"children":""}]]}],["$","span","8",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-tag-color)"},"children":"        "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"/>"}],["$","span","2",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","9",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"        "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"link"}],["$","span","3",{"style":{"color":"var(--prism-tag-color)"},"children":""}]]}],["$","span","10",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-tag-color)"},"children":"            "}],["$","span","1",{"style":{"color":"var(--prism-attr-name-color)"},"children":"type"}],["$","span","2",{"style":{"color":"var(--prism-punctuation-color)"},"children":"="}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","4",{"style":{"color":"var(--prism-attr-value-color)"},"children":"text/css"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","6",{"style":{"color":"var(--prism-tag-color)"},"children":""}]]}],["$","span","11",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-tag-color)"},"children":"            "}],["$","span","1",{"style":{"color":"var(--prism-attr-name-color)"},"children":"rel"}],["$","span","2",{"style":{"color":"var(--prism-punctuation-color)"},"children":"="}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","4",{"style":{"color":"var(--prism-attr-value-color)"},"children":"stylesheet"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","6",{"style":{"color":"var(--prism-tag-color)"},"children":""}]]}],["$","span","12",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-tag-color)"},"children":"            "}],["$","span","1",{"style":{"color":"var(--prism-attr-name-color)"},"children":"href"}],["$","span","2",{"style":{"color":"var(--prism-punctuation-color)"},"children":"="}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","4",{"style":{"color":"var(--prism-attr-value-color)"},"children":"https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","6",{"style":{"color":"var(--prism-tag-color)"},"children":""}]]}],["$","span","13",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-tag-color)"},"children":"        "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"/>"}],["$","span","2",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","14",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"    "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"</"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"head"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","15",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"    "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"body"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","16",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"        "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"span"}],["$","span","3",{"style":{"color":"var(--prism-tag-color)"},"children":" "}],["$","span","4",{"style":{"color":"var(--prism-attr-name-color)"},"children":"style"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"="}],["$","span","6",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","7",{"style":{"color":"var(--prism-property-color)"},"children":"font-family"}],["$","span","8",{"style":{"color":"var(--prism-punctuation-color)"},"children":":"}],["$","span","9",{"style":{"color":"var(--prism-attr-value-color)"},"children":" Lato"}],["$","span","10",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","11",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","12",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"Hello"}],["$","span","13",{"style":{"color":"var(--prism-punctuation-color)"},"children":"</"}],["$","span","14",{"style":{"color":"var(--prism-tag-color)"},"children":"span"}],["$","span","15",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","16",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","17",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"        "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"span"}],["$","span","3",{"style":{"color":"var(--prism-tag-color)"},"children":" "}],["$","span","4",{"style":{"color":"var(--prism-attr-name-color)"},"children":"style"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"="}],["$","span","6",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","7",{"style":{"color":"var(--prism-property-color)"},"children":"font-family"}],["$","span","8",{"style":{"color":"var(--prism-punctuation-color)"},"children":":"}],["$","span","9",{"style":{"color":"var(--prism-attr-value-color)"},"children":" Roboto"}],["$","span","10",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","11",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","12",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"World"}],["$","span","13",{"style":{"color":"var(--prism-punctuation-color)"},"children":"</"}],["$","span","14",{"style":{"color":"var(--prism-tag-color)"},"children":"span"}],["$","span","15",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","16",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","18",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"        "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"script"}],["$","span","3",{"style":{"color":"var(--prism-tag-color)"},"children":" "}],["$","span","4",{"style":{"color":"var(--prism-attr-name-color)"},"children":"type"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"="}],["$","span","6",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","7",{"style":{"color":"var(--prism-attr-value-color)"},"children":"text/javascript"}],["$","span","8",{"style":{"color":"var(--prism-punctuation-color)"},"children":"\""}],["$","span","9",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","10",{"style":{},"children":""}]]}],["$","span","19",{"style":{"display":"block"},"children":[["$","span","0",{"style":{},"children":"            "}],["$","span","1",{"style":{"color":"var(--prism-class-name-color)"},"children":"console"}],["$","span","2",{"style":{"color":"var(--prism-punctuation-color)"},"children":"."}],["$","span","3",{"style":{"color":"var(--prism-function-color)"},"children":"log"}],["$","span","4",{"style":{"color":"var(--prism-punctuation-color)"},"children":"("}],["$","span","5",{"style":{"color":"var(--prism-variable-color)"},"children":"document"}],["$","span","6",{"style":{"color":"var(--prism-punctuation-color)"},"children":"."}],["$","span","7",{"style":{},"children":"fonts"}],["$","span","8",{"style":{"color":"var(--prism-punctuation-color)"},"children":"."}],["$","span","9",{"style":{"color":"var(--prism-function-color)"},"children":"entries"}],["$","span","10",{"style":{"color":"var(--prism-punctuation-color)"},"children":"("}],["$","span","11",{"style":{"color":"var(--prism-punctuation-color)"},"children":")"}],["$","span","12",{"style":{"color":"var(--prism-punctuation-color)"},"children":")"}],["$","span","13",{"style":{"color":"var(--prism-punctuation-color)"},"children":";"}],["$","span","14",{"style":{},"children":""}]]}],["$","span","20",{"style":{"display":"block"},"children":[["$","span","0",{"style":{},"children":"        "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"</"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"script"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","21",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"    "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"</"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"body"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","22",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"</"}],["$","span","2",{"style":{"color":"var(--prism-tag-color)"},"children":"html"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":">"}]]}]]}],"\n",["$","p",null,{"children":"Opening this page in Firefox yields the following result in the console:"}],"\n",["$","pre",null,{"style":"$c","children":[["$","span","0",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-maybe-class-name-color)"},"children":"FontFaceSetIterator"}],["$","span","1",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" "}],["$","span","2",{"style":{"color":"var(--prism-punctuation-color)"},"children":"{"}],["$","span","3",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" "}],["$","span","4",{"style":{"color":"var(--prism-punctuation-color)"},"children":"}"}]]}]]}],"\n",["$","p",null,{"children":"Whereas in Chrome the following result appears in the console:"}],"\n",["$","pre",null,{"style":"$c","children":[["$","span","0",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-maybe-class-name-color)"},"children":"Iterator"}],["$","span","1",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" "}],["$","span","2",{"style":{"color":"var(--prism-punctuation-color)"},"children":"{"}],["$","span","3",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" "}],["$","span","4",{"style":{"color":"var(--prism-punctuation-color)"},"children":"}"}]]}]]}],"\n",["$","p",null,{"children":["Interesting indeed but alas, ",["$","strong",null,{"children":"neither"}]," of these is actually documented\n(iterator ",["$","em",null,{"children":["$","a",null,{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols","children":"protocols"}]}]," are, but not the objects themselves).\nIn one case while checking ",["$","a",null,{"href":"https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams/entries","children":["$","code",null,{"children":"URLSearchParams.entries()"}]}],"\ndocumentation the word \"iterator\" even links to the \"iterator ",["$","em",null,{"children":"protocols"}],"\" page... 😕"]}],"\n",["$","$La",null,{"children":"Looking for answers","as":"h2"}],"\n",["$","p",null,{"children":"One of the first things I did after realizing there was no documentation\nwas to see if a bug was open on Firefox's bug tracker. Indeed two issues mention\nthis unholy Firefox construct:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"https://bugzilla.mozilla.org/show_bug.cgi?id=1729089","children":"https://bugzilla.mozilla.org/show_bug.cgi?id=1729089"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://bugzilla.mozilla.org/show_bug.cgi?id=1780657","children":"https://bugzilla.mozilla.org/show_bug.cgi?id=1780657"}]}],"\n"]}],"\n",["$","p",null,{"children":"Unfortunately one is already a year old at the time of writing this article\nwhich means there is little hope for a \"hotfix\" and also means that this\nbehavior has existed in Firefox for at least one year."}],"\n",["$","p",null,{"children":"Since this isn't something Firefox seems to be fixing and the documentation\nis lacking there isn't much to do aside from writing a workaround."}],"\n",["$","$La",null,{"children":"Solving the problem","as":"h2"}],"\n",["$","p",null,{"children":["The value returned by ",["$","code",null,{"children":"document.fonts.entries()"}]," in Firefox may not be \"officially\"\niterable from the browser's own perspective, but it ",["$","strong",null,{"children":"does"}]," have a ",["$","code",null,{"children":".next()"}],"\nmethod as is required per ",["$","a",null,{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#the_iterator_protocol","children":"iterator protocol"}],"."]}],"\n",["$","p",null,{"children":"So, instead of relying on the browser we write our own function which exhausts this fake \"iterator\":"}],"\n",["$","pre",null,{"style":"$c","children":[["$","span","0",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-keyword-color)"},"children":"function"}],["$","span","1",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" "}],["$","span","2",{"style":{"color":"var(--prism-function-color)"},"children":"fontFaceSetIteratorToArray"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":"("}],["$","span","4",{"style":{},"children":"target"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":")"}],["$","span","6",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" "}],["$","span","7",{"style":{"color":"var(--prism-punctuation-color)"},"children":"{"}],["$","span","8",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","1",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"    "}],["$","span","1",{"style":{"color":"var(--prism-keyword-color)"},"children":"const"}],["$","span","2",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" iterable "}],["$","span","3",{"style":{"color":"var(--prism-operator-color)"},"children":"="}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" target"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"."}],["$","span","6",{"style":{"color":"var(--prism-function-color)"},"children":"entries"}],["$","span","7",{"style":{"color":"var(--prism-punctuation-color)"},"children":"("}],["$","span","8",{"style":{"color":"var(--prism-punctuation-color)"},"children":")"}],["$","span","9",{"style":{"color":"var(--prism-punctuation-color)"},"children":";"}],["$","span","10",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","2",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"    "}],["$","span","1",{"style":{"color":"var(--prism-keyword-color)"},"children":"const"}],["$","span","2",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" results "}],["$","span","3",{"style":{"color":"var(--prism-operator-color)"},"children":"="}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" "}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"["}],["$","span","6",{"style":{"color":"var(--prism-punctuation-color)"},"children":"]"}],["$","span","7",{"style":{"color":"var(--prism-punctuation-color)"},"children":";"}],["$","span","8",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","3",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"    "}],["$","span","1",{"style":{"color":"var(--prism-keyword-color)"},"children":"let"}],["$","span","2",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" iterator "}],["$","span","3",{"style":{"color":"var(--prism-operator-color)"},"children":"="}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" iterable"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"."}],["$","span","6",{"style":{"color":"var(--prism-function-color)"},"children":"next"}],["$","span","7",{"style":{"color":"var(--prism-punctuation-color)"},"children":"("}],["$","span","8",{"style":{"color":"var(--prism-punctuation-color)"},"children":")"}],["$","span","9",{"style":{"color":"var(--prism-punctuation-color)"},"children":";"}],["$","span","10",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","4",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"\n"}]]}],["$","span","5",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"    "}],["$","span","1",{"style":{"color":"var(--prism-keyword-color)"},"children":"while"}],["$","span","2",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" "}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":"("}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"iterator"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"."}],["$","span","6",{"style":{},"children":"done"}],["$","span","7",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" "}],["$","span","8",{"style":{"color":"var(--prism-operator-color)"},"children":"==="}],["$","span","9",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" "}],["$","span","10",{"style":{"color":"var(--prism-boolean-color)"},"children":"false"}],["$","span","11",{"style":{"color":"var(--prism-punctuation-color)"},"children":")"}],["$","span","12",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" "}],["$","span","13",{"style":{"color":"var(--prism-punctuation-color)"},"children":"{"}],["$","span","14",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","6",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"        results"}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"."}],["$","span","2",{"style":{"color":"var(--prism-function-color)"},"children":"push"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":"("}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"iterator"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"."}],["$","span","6",{"style":{},"children":"value"}],["$","span","7",{"style":{"color":"var(--prism-punctuation-color)"},"children":")"}],["$","span","8",{"style":{"color":"var(--prism-punctuation-color)"},"children":";"}],["$","span","9",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","7",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"\n"}]]}],["$","span","8",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"        iterator "}],["$","span","1",{"style":{"color":"var(--prism-operator-color)"},"children":"="}],["$","span","2",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" iterable"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":"."}],["$","span","4",{"style":{"color":"var(--prism-function-color)"},"children":"next"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"("}],["$","span","6",{"style":{"color":"var(--prism-punctuation-color)"},"children":")"}],["$","span","7",{"style":{"color":"var(--prism-punctuation-color)"},"children":";"}],["$","span","8",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","9",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"    "}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"}"}],["$","span","2",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","10",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"\n"}]]}],["$","span","11",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":"    "}],["$","span","1",{"style":{"color":"var(--prism-keyword-color)"},"children":"return"}],["$","span","2",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":" results"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":";"}],["$","span","4",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}]]}],["$","span","12",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"backgroundColor":"var(--prism-plain-backgroundColor)","color":"var(--prism-plain-color)","textShadow":"var(--prism-plain-textShadow)"},"children":""}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"}"}]]}]]}],"\n",["$","p",null,{"children":"Which means that in Firefox we can now finally loop over font faces 🎉"}],"\n",["$","pre",null,{"style":"$c","children":[["$","span","0",{"style":{"display":"block"},"children":[["$","span","0",{"style":{"color":"var(--prism-class-name-color)"},"children":"console"}],["$","span","1",{"style":{"color":"var(--prism-punctuation-color)"},"children":"."}],["$","span","2",{"style":{"color":"var(--prism-function-color)"},"children":"log"}],["$","span","3",{"style":{"color":"var(--prism-punctuation-color)"},"children":"("}],["$","span","4",{"style":{"color":"var(--prism-function-color)"},"children":"fontFaceSetIteratorToArray"}],["$","span","5",{"style":{"color":"var(--prism-punctuation-color)"},"children":"("}],["$","span","6",{"style":{"color":"var(--prism-variable-color)"},"children":"document"}],["$","span","7",{"style":{"color":"var(--prism-punctuation-color)"},"children":"."}],["$","span","8",{"style":{},"children":"fonts"}],["$","span","9",{"style":{"color":"var(--prism-punctuation-color)"},"children":")"}],["$","span","10",{"style":{"color":"var(--prism-punctuation-color)"},"children":")"}],["$","span","11",{"style":{"color":"var(--prism-punctuation-color)"},"children":";"}]]}]]}],"\n",["$","p",null,{"children":["This piece of code works in all modern browsers so it can be used wherever\nreferences to ",["$","code",null,{"children":"FontFaceSet.entries()"}]," exist. It's not pretty, but it beats\nwriting unreliable browser detection code."]}],"\n",["$","$La",null,{"children":"Conclusion","as":"h2"}],"\n",["$","p",null,{"children":["Considering this is still an active problem in Firefox roughly a month before 2023,\nusing spread syntax, ",["$","code",null,{"children":"for...of"}],", or ",["$","code",null,{"children":"Array.from"}]," on ",["$","code",null,{"children":"FontFaceSet.entries()"}]," results is\n",["$","strong",null,{"children":"not viable"}]," and instead a polyfill such as the one found in this article must be\nused instead to ensure proper functionality across browsers."]}],"\n",["$","p",null,{"children":["It'll take some time before we can finally start using ",["$","code",null,{"children":"[...document.fonts.entries()]"}],"\nconsidering that even after closing the issue, we're still dependent on\neveryone updating their browsers."]}],"\n",["$","p",null,{"children":"While this post does not end on a high note I do hope Firefox developers fix this\nissue at some point so we can all enjoy the syntactically sugarcoated patterns\nwe know and love :)"}],"\n",["$","p",null,{"children":"Until next time!"}],"\n",["$","p",null,{"children":"👋"}]]
