<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8" class="next-head"/><link rel="alternate" type="application/atom+xml" title="Sidney Liebrand&#x27;s blog" href="/atom.xml" class="next-head"/><link rel="alternate" type="application/rss+xml" title="Sidney Liebrand&#x27;s blog" href="/feed.xml" class="next-head"/><link rel="canonical" href="https://sidneyliebrand.io/blog/how-fzf-and-ripgrep-improved-my-workflow" class="next-head"/><link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png" class="next-head"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png" class="next-head"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png" class="next-head"/><link rel="icon" sizes="48x48" type="image/icon" href="/static/favicon.ico" class="next-head"/><link rel="preload" as="font" href="/static/fonts/pridi-300.woff2" crossorigin="anonymous" class="next-head"/><link rel="manifest" href="/static/site.webmanifest" class="next-head"/><meta content="text/html; charset=UTF-8" http-equiv="content-type" class="next-head"/><meta content="en" http-equiv="content-language" class="next-head"/><meta name="robots" content="index, follow" class="next-head"/><meta name="viewport" content="width=device-width, initial-scale=1.0" class="next-head"/><title class="next-head">https://sidneyliebrand.io  •  How FZF and ripgrep improved my workflow</title><meta name="description" content="In my never ending quest for simplicity I recently discovered FZF and ripgrep. Two command-line tools that have the potential to make every dag programming tasks easier. In this post I will explain how I use these tools to do things in a matter of keystrokes rather than having to re-google that command you keep forgetting &lt;strong&gt;every. single. time.&lt;/strong&gt;." class="next-head"/><meta name="author" content="Sidney Liebrand" class="next-head"/><meta name="og:type" content="article" class="next-head"/><meta name="og:title" content="How FZF and ripgrep improved my workflow" class="next-head"/><meta name="og:description" content="In my never ending quest for simplicity I recently discovered FZF and ripgrep. Two command-line tools that have the potential to make every dag programming tasks easier. In this post I will explain how I use these tools to do things in a matter of keystrokes rather than having to re-google that command you keep forgetting &lt;strong&gt;every. single. time.&lt;/strong&gt;." class="next-head"/><meta name="twitter:title" content="How FZF and ripgrep improved my workflow" class="next-head"/><meta name="twitter:description" content="In my never ending quest for simplicity I recently discovered FZF and ripgrep. Two command-line tools that have the potential to make every dag programming tasks easier. In this post I will explain how I use these tools to do things in a matter of keystrokes rather than having to re-google that command you keep forgetting &lt;strong&gt;every. single. time.&lt;/strong&gt;." class="next-head"/><link rel="preload" href="/_next/static/wy9xKnTnrvwTQRweiG_Bu/pages/blog/how-fzf-and-ripgrep-improved-my-workflow.js" as="script"/><link rel="preload" href="/_next/static/wy9xKnTnrvwTQRweiG_Bu/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-a79426b5e11f0ba5879d.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.705778ac22d6292057c1.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-0043a8e04005a8ba8f87.js" as="script"/><style data-styled="jBpKIl hZCBmo itgYZx iJNamI cOnknF hMmOyE iHCyTn hFmLlF yLSRV fBewLa cBgbp kKQoMs dVSrJN hEYOuv jPSecg hnyYkm brPtyq hFUcmw bpOIYh" data-styled-version="4.2.0">
/* sc-component-id: vkw20g-0 */
.dVSrJN{font-size:0.8rem;line-height:1.2;color:#555;color:var(--colors-dimgray);}
/* sc-component-id: sc-5dsxsd-0 */
.kKQoMs{margin-bottom:0;}
/* sc-component-id: sc-5dsxsd-1 */
.cBgbp{margin:auto;width:50rem;max-width:calc(100% - 2rem);max-width:calc(100vw - 2rem);padding:1rem;font-weight:300;} .cBgbp .sc-5dsxsd-0 + .vkw20g-0{margin-bottom:2rem;} .cBgbp > *{display:block;width:40rem;width:var(--page-post-width);max-width:100%;margin-left:auto;margin-right:auto;} .cBgbp ul,.cBgbp ol{list-style:none;padding:0;} .cBgbp ul li,.cBgbp ol li{position:relative;padding-left:1.5rem;} .cBgbp ul li::before,.cBgbp ol li::before{position:absolute;line-height:1;padding-top:0.25rem;top:0;left:0;bottom:0;width:1.5rem;font-size:1.4em;content:'\2022';color:#555;color:var(--colors-dimgray);} .cBgbp ol{counter-reset:ol-li-counter;} .cBgbp ol li::before{padding-top:0.4rem;font-size:0.9em;font-weight:700;counter-increment:ol-li-counter;content:counter(ol-li-counter)'.';} .cBgbp img{max-width:100%;} .cBgbp pre{padding:1rem;} .cBgbp blockquote{font-style:italic;margin-top:2rem;margin-bottom:2rem;padding:0 2rem;border-left:#555;border-left:4px solid var(--colors-dimgray);} .cBgbp blockquote p{opacity:0.8;} .cBgbp > p{margin-top:2rem;margin-bottom:2rem;} .cBgbp h1:not(:first-child),.cBgbp h2:not(:first-child),.cBgbp h3:not(:first-child),.cBgbp h4:not(:first-child),.cBgbp h5:not(:first-child),.cBgbp h6:not(:first-child){margin-top:2rem;} .cBgbp h1 + p,.cBgbp h2 + p,.cBgbp h3 + p,.cBgbp h4 + p,.cBgbp h5 + p,.cBgbp h6 + p{margin-top:0.5rem;}
/* sc-component-id: sc-5dsxsd-2 */
.brPtyq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}
/* sc-component-id: sc-1it13qh-0 */
.hnyYkm{display:block;text-align:center;margin-top:0.5rem;color:#555;color:var(--colors-dimgray);font-size:0.9rem;}
/* sc-component-id: sc-1it13qh-1 */
.jPSecg{position:relative;width:100%;} .jPSecg img{position:absolute;top:0;bottom:0;left:0;right:0;}
/* sc-component-id: sc-1it13qh-2 */
.hEYOuv{margin-top:2rem;margin-bottom:2rem;} .sc-5dsxsd-1 .hEYOuv.wide{width:100%;} .hEYOuv img{border-radius:4px;display:block;width:100%;}
/* sc-component-id: jhtjut-0 */
.hMmOyE{position:relative;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} .hMmOyE svg{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;max-width:100%;max-height:100%;display:block;fill:#651eea;fill:var(--colors-primary);}
/* sc-component-id: jhtjut-1 */
.cOnknF{overflow:hidden;position:relative;height:calc(100% - 1rem);max-width:100%;max-width:100px;min-width:50px;margin:auto 0;cursor:pointer;-webkit-flex:0 1 100px;-ms-flex:0 1 100px;flex:0 1 100px;}
/* sc-component-id: pfay7k-0 */
.yLSRV{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} .yLSRV svg{height:60%;}
/* sc-component-id: pfay7k-1 */
.iHCyTn{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: pfay7k-2 */
.hFmLlF{font-weight:500;position:relative;-webkit-text-decoration:none;text-decoration:none;padding:0 1rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:1rem;cursor:pointer;pointer-events:all;border-radius:4px;color:#000;} .hFmLlF:first-child{margin-left:0;} .hFmLlF:last-child{margin-right:0;}
/* sc-component-id: gefaab-0 */
.hZCBmo{position:relative;height:3.125rem;height:var(--page-header-height);}
/* sc-component-id: gefaab-1 */
.itgYZx{position:fixed;top:0;left:0;right:0;height:3.125rem;height:var(--page-header-height);background-color:#fff;background-color:var(--colors-white);box-shadow:0px 0px 0.25rem rgba(0,0,0,0.15);z-index:100;}
/* sc-component-id: gefaab-2 */
.iJNamI{max-width:50rem;max-width:var(--page-width);padding:0 0 0 1rem;margin:0 auto;height:calc(100% - 2px);display:grid;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}
/* sc-component-id: oijonz-0 */
.bpOIYh{color:#555;color:var(--colors-dimgray);padding:0.25rem 1rem;text-align:center;}
/* sc-component-id: udk3dy-0 */
.fBewLa{width:100%;}
/* sc-component-id: l5bfw4-0 */
.jBpKIl{position:relative;min-height:100vh;width:100%;display:grid;grid-template-columns:auto;grid-template-rows:3.125rem;grid-template-rows:var(--page-header-height) 1fr auto;}
/* sc-component-id: q4rscb-0 */
.hFUcmw{-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.3;font-size:0.9rem;font-family:Pridi;padding:0.5rem 2rem;border-radius:2px;height:auto;background-color:#651eea;background-color:var(--colors-primary);border:1px solid rgba(0,0,0,0.1);color:#fff;color:var(--colors-white);cursor:pointer;-webkit-transition:all 100ms ease-out;transition:all 100ms ease-out;} .hFUcmw:hover{opacity:0.9;}
/* sc-component-id: sc-global-2688554279 */
@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:300;src:url('/static/fonts/pridi-300.eot');src:local('Pridi Light'), local('Pridi-Light'), url('/static/fonts/pridi-300.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-300.woff2') format('woff2'), url('/static/fonts/pridi-300.woff') format('woff'), url('/static/fonts/pridi-300.ttf') format('truetype'), url('/static/fonts/pridi-300.svg#Pridi') format('svg');} ,@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:400;src:url('/static/fonts/pridi-400.eot');src:local('Pridi Regular'), local('Pridi-Regular'), url('/static/fonts/pridi-400.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-400.woff2') format('woff2'), url('/static/fonts/pridi-400.woff') format('woff'), url('/static/fonts/pridi-400.ttf') format('truetype'), url('/static/fonts/pridi-400.svg#Pridi') format('svg');} ,@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:500;src:url('/static/fonts/pridi-500.eot');src:local('Pridi Medium'), local('Pridi-Medium'), url('/static/fonts/pridi-500.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-500.woff2') format('woff2'), url('/static/fonts/pridi-500.woff') format('woff'), url('/static/fonts/pridi-500.ttf') format('truetype'), url('/static/fonts/pridi-500.svg#Pridi') format('svg');} ,@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:700;src:url('/static/fonts/pridi-700.eot');src:local('Pridi Bold'), local('Pridi-Bold'), url('/static/fonts/pridi-700.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-700.woff2') format('woff2'), url('/static/fonts/pridi-700.woff') format('woff'), url('/static/fonts/pridi-700.ttf') format('truetype'), url('/static/fonts/pridi-700.svg#Pridi') format('svg');} *{box-sizing:border-box;} *::selection{background-color:rgba(240,233,253,1);color:rgba(71,21,164,1);} :root{--colors-primary:#651eea;--colors-black:#000;--colors-dimgray:#555;--colors-white:#fff;--page-font-family:Pridi;--page-color:#444;--page-width:50rem;--page-header-height:3.125rem;--page-post-width:40rem;} html{font-size:0.8rem;} @media screen and (min-width:280px){html{font-size:calc( 0.8rem + 0.024999999999999994 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){html{font-size:1.2rem;}} body{height:100%;margin:0;padding:0;font-family:Pridi,serif;line-height:1.6;font-weight:300;} #__next{height:100%;height:100vh;color:#444;color:var(--page-color);} article,aside,details,figcaption,figure,footer,header,main,mark,nav,section{display:block;} h1,h2,h3,h4,h5,h6{color:#000;color:var(--colors-black);line-height:1.1;font-weight:700;margin:0 0 0.25rem;margin-top:1rem;} @media screen and (min-width:280px){h1,h2,h3,h4,h5,h6{margin-top:calc( 1rem + 0.0625 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h1,h2,h3,h4,h5,h6{margin-top:2rem;}} h1{font-size:1.5rem;} @media screen and (min-width:280px){h1{font-size:calc( 1.5rem + 0.08124999999999999 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h1{font-size:2.8rem;}} h2{font-size:1.4rem;} @media screen and (min-width:280px){h2{font-size:calc( 1.4rem + 0.056249999999999994 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h2{font-size:2.3rem;}} h3{font-size:1.3rem;} @media screen and (min-width:280px){h3{font-size:calc( 1.3rem + 0.05 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h3{font-size:2.1rem;}} h4{font-size:1.2rem;} @media screen and (min-width:280px){h4{font-size:calc( 1.2rem + 0.037500000000000006 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h4{font-size:1.8rem;}} h5{font-size:1.1rem;} @media screen and (min-width:280px){h5{font-size:calc( 1.1rem + 0.024999999999999994 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h5{font-size:1.5rem;}} h6{font-size:1rem;} @media screen and (min-width:280px){h6{font-size:calc( 1rem + 0.012499999999999997 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h6{font-size:1.2rem;}} p{font-size:1.15rem;margin-top:0;margin-bottom:1rem;} li{font-size:1.15rem;margin-bottom:1rem;} blockquote{font-size:1.15rem;} pre,code,kbd{padding:0.5rem 1rem;border-radius:4px;background-color:rgba(242,242,242,1);color:#444;color:var(--page-color);} code,kbd{font-size:0.8em;padding:0.2rem 0.4rem 0.15rem;border-radius:4px;} pre code{font-size:0.9rem;padding:0;background-color:transparent;display:block;} kbd{background-image:none;border:1px solid rgba(85,85,85,0.2);} a,a > code{position:relative;color:#651eea;color:var(--colors-primary);-webkit-text-decoration:none;text-decoration:none;}</style></head><div id="__next"><div class="l5bfw4-0 jBpKIl"><div class="gefaab-0 hZCBmo"><header class="gefaab-1 itgYZx"><div class="gefaab-2 iJNamI"><a title="https://sidneyliebrand.io homepage" href="/" class="jhtjut-1 cOnknF"><div class="jhtjut-0 hMmOyE"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 429.29 114.44" preserveAspectRatio="xMidYMid slice"><path d="M33.43 96.21c18.22 0 25-17.14 8.48-26.76C29 61.94 11.44 60.75 3.93 46S3.07 12.14 17.4 4.71c15.35-8 36.69-5.08 51.36 3L62.4 24.49C53.63 19.59 41 16 31.08 19.76c-9.33 3.55-10.69 13.62-3.22 20.08 7.83 6.77 19.62 7.95 28.53 13 11.12 6.31 17.37 16.65 17.32 29.41-.12 27.84-27.22 34.19-50.28 31.69-6-.65-22.15-3.42-23.36-9.38-.74-3.65 4.52-12.56 5.81-16.12a53 53 0 0 0 27.55 7.77zM162 112.11H93.31V2.77h21.91v91.32H162zm67.15-13.96c0 20.64-31.72 20.67-31.62 0 .1-20.15 31.62-20.23 31.62 0zM267 112.11v-18h23.8V20.78H267v-18h69.42v18H312.7v73.31h23.67v18zm83.5-54.76c0-25.51 8.42-57 39.39-57.06 31.32-.09 39.4 31.31 39.4 57.06 0 24.69-7.42 55.53-37.19 57-32.55 1.53-41.6-30.35-41.6-57zm22.08 0c0 12.19-.62 38.21 17.31 38.15s17.3-25.85 17.32-38.15.62-38.12-17.32-38.16-17.31 26.04-17.31 38.16z"/></svg></div></a><nav class="pfay7k-1 iHCyTn"><a href="https://github.com/sidofc" title="Sidney Liebrand&#x27;s GitHub profile" class="pfay7k-2 hFmLlF"><div class="pfay7k-0 yLSRV"><svg viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></div></a></nav></div></header></div><main class="udk3dy-0 fBewLa"><article class="sc-5dsxsd-1 cBgbp"><h1 class="sc-5dsxsd-0 kKQoMs">How FZF and ripgrep improved my workflow</h1><small class="vkw20g-0 dVSrJN">By <!-- -->Sidney Liebrand<!-- --> on <!-- -->June 24, 2018<!-- --> • <!-- -->10<!-- --> min read</small><p>Today I want to talk about <a href="https://github.com/junegunn/fzf">fzf</a> and <a href="https://github.com/BurntSushi/ripgrep">ripgrep</a>,
two tools I use all the time when working in Vim and the terminal.
They have become an absolutely <strong>vital</strong> part of my workflow.
Ever since I started using them I can’t imagine myself functioning
without them anymore.</p><h2>What is FZF?</h2><p>FZF is a fuzzy finder for your terminal, it is a command line application that
filters each line from given input with a query that the user types.
When the query changes, the results update in realtime.</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/fzf-ls-example-956bad2845637b72bb58f0da635c838f.gif" alt="FZF + LS example"/><div style="padding-bottom:23.43750%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">FZF + LS example</figcaption></figure><p>After finding the file you’re looking for, hitting <kbd>enter</kbd> prints the highlighted
entry. You can combine this with your <code>$EDITOR</code> variable to search for a file and then edit
it for example.</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/open-changelog-neovim-52fabd7eec82d891570e3e0f7b0368ac.gif" alt="Open CHANGELOG.md in NeoVim"/><div style="padding-bottom:23.43750%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Open CHANGELOG.md in NeoVim</figcaption></figure><p>Of course this is only a simple example. The possibilities with FZF are endless.
There are countless ways in which you can use it filter input and use that in
another command. We’ll dive more into that later.</p><h2>What about ripgrep?</h2><p>As it already says in the name, it is another <code>grep</code> program. Ripgrep is written
in rust and one of its primary goals is to be the <em>fastest</em> <code>grep</code> of them all.
It performs amazing even in a larger code base.</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/rg-ls-fzf-47ba3c0e891122973dbf26eea67b4cba.gif" alt="Ripgrep list files with FZF"/><div style="padding-bottom:23.43750%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Ripgrep list files with FZF</figcaption></figure><p>Ripgrep has many options to explore, there are way to many to list here.
Some of the options I use most often with ripgrep are:</p><ul><li><code>--files</code> <!-- -->—<!-- --> List files which ripgrep will search instead of searching them</li><li><code>--hidden</code> <!-- -->—<!-- --> Show hidden (<code>.file</code>) files</li><li><code>--no-ignore-vcs</code> <!-- -->—<!-- --> Show files ignored by your VCS</li><li><code>--vimgrep</code> <!-- -->—<!-- --> Results are returned on a single line in vimgrep format</li></ul><h2>The problems they solve</h2><p>Both these tools can be combined in various scenario’s that would have otherwise
taken multiple long commands to execute. This ranges from killing processes to
managing plugins to being able to find (in) files.</p><p>These actions are usually involved when I try to do something more complex:</p><ul><li>googling the right command</li><li>look around for the right line in the output</li><li>refine <code>grep</code> pattern</li><li>retrying the command</li></ul><p>At this point you’ll realize that you’re not actually searching for something
anymore. You find yourself looking for ways to perform your search instead :/
This is only one of many scenarios however. Another common one is:</p><h2>Killing processes</h2><p>One example is stopping an out of control process. First you have to find the
process ID by issuing some command like <code>ps -ef | grep [PROCESS NAME]</code>.</p><p>Which is then followed by a <code>kill</code> command with one of the process IDs you want
to kill. The downsides to this are that I have to use two commands. Filter the
output before seeing it or knowing how it looks and issuing an extra command
to actually stop the process.</p><p>To make this easier, I wrote a small wrapper (first in <a href="https://github.com/SidOfc/dotfiles/blob/d07fa3862ed065c2a5a7f1160ae98416bfe2e1ee/zsh/kp">zsh</a>,
later migrated to <a href="https://github.com/SidOfc/dotfiles/blob/master/.config/fish/functions/kp.fish">fish</a>) called <code>kp</code>.
It lists processes using <code>ps -ef</code> and pipes it to <code>fzf</code>.</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/kill-with-kp-d77d012c0404d7eb54032c4dcc4a9d47.gif" alt="Killing processes using kp"/><div style="padding-bottom:23.43750%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Killing processes using kp</figcaption></figure><p>This command opens an FZF window with your processes. FZF has an option to allow
selecting multiple entries (<code>-m flag</code>). When <kbd>enter</kbd> is pressed, both marked
(light red <code>&gt;</code> symbols) processes will be shut down. When changing your query,
selected entries will stay selected. This is convenient for killing different
processes in a single run.</p><p>After killing some processes, the command will rerun itself. I can use <kbd>escape</kbd> to
exit from this specific window.</p><h2>Installing brew plugins</h2><p>Another use case is to install, update or purge <a href="https://github.com/Homebrew">brew</a>
plugins from your system. When you are looking for a brew package, a common pattern
is to use <code>brew search</code> together with <code>grep</code> to find out if it exists.</p><p>After that you’ll most likely run a command like: <code>brew install [PACKAGE]</code> to install it.
Another pattern is to use the <code>brew leaves</code> command to list installed packages which can
be updated or removed.</p><p>I created a small wrapper for each of these actions. One for installing,
another for updating and one for deleting brew packages:</p><ul><li><code>bip</code> <!-- -->—<!-- --> <strong>B</strong><em>rew</em> <strong>I</strong><em>nstall</em> <strong>P</strong><em>lugin</em>, install one or more plugins (<a href="https://github.com/SidOfc/dotfiles/blob/d07fa3862ed065c2a5a7f1160ae98416bfe2e1ee/zsh/bip">zsh</a>, <a href="https://github.com/SidOfc/dotfiles/blob/master/.config/fish/functions/bip.fish">fish</a>)</li><li><code>bup</code> <!-- -->—<!-- --> <strong>B</strong><em>rew</em> <strong>U</strong><em>pdate</em> <strong>P</strong><em>lugin</em>, update multiple installed plugins (<a href="https://github.com/SidOfc/dotfiles/blob/d07fa3862ed065c2a5a7f1160ae98416bfe2e1ee/zsh/bup">zsh</a>, <a href="https://github.com/SidOfc/dotfiles/blob/master/.config/fish/functions/bup.fish">fish</a>)</li><li><code>bcp</code> <!-- -->—<!-- --> <strong>B</strong><em>rew</em> <strong>C</strong><em>lean</em> <strong>P</strong><em>lugin</em>, delete multiple installed plugins (<a href="https://github.com/SidOfc/dotfiles/blob/d07fa3862ed065c2a5a7f1160ae98416bfe2e1ee/zsh/bcp">zsh</a>, <a href="https://github.com/SidOfc/dotfiles/blob/master/.config/fish/functions/bcp.fish">fish</a>)</li></ul><p>Whenever I have to do anything with brew, it is completely painless and it
works quite well for package discovery too.</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/bip-interface-d5a709bafe124eac8fd563aa79f3a25b.gif" alt="Brew Install Plugin interface"/><div style="padding-bottom:23.43750%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Brew Install Plugin interface</figcaption></figure><h2>Finding binaries</h2><p>One mythical beast known to anyone who has ever worked in a terminal is the <code>$PATH</code>
variable. Often, a shell script will tell you to &quot;Add me to your $PATH&quot; so that the
script will become available in your shell. This makes sense but can leave you with
a messed up shell path or duplicate entries. It could cause all kinds of weirdness
and slowness in your terminal.</p><p>My solution to this is a simple path explorer called <code>fp</code> (<a href="https://github.com/SidOfc/dotfiles/blob/d07fa3862ed065c2a5a7f1160ae98416bfe2e1ee/zsh/fp">zsh</a>, <a href="https://github.com/SidOfc/dotfiles/blob/master/.config/fish/functions/fp.fish">fish</a>).
It invokes FZF with a list of folders populated using <code>$PATH</code>.</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/dirs-in-path-eb354fbc203804c87fac648daff9a9f0.gif" alt="Directories present in $PATH"/><div style="padding-bottom:23.43750%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Directories present in $PATH</figcaption></figure><p>Of course there are more than 3 paths in my list but I cropped the gif for brevity here.
When I press <kbd>enter</kbd> on the <code>/bin</code> entry, I see a list of executables inside that folder.
Either find what you’re looking for or go back.</p><p>Going back to the overview is as easy as pressing <kbd>escape</kbd>. This will take you back to
the directory listing. Pressing <kbd>escape</kbd> in the overview will exit the command completely.</p><h2>Checking features on <a href="http://caniuse.com">caniuse.com</a></h2><p>Additionally, I’ve written a post before on how to <a href="https://medium.com/@sidneyliebrand/combining-caniuse-with-fzf-fb93ad235bae">combine Caniuse with FZF</a>.
It allows me to quickly find out wether I should stay away from some Web API or not.
this small tool also allows me to query features that have been added or deprecated recently.</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/checking-caniuse-1ada01d3e04dd7f54ee4731b7dce025f.gif" alt="An example of looking for features using cani"/><div style="padding-bottom:23.43750%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">An example of looking for features using cani</figcaption></figure><p>The <code>cani</code> command (<a href="https://github.com/SidOfc/dotfiles/blob/d07fa3862ed065c2a5a7f1160ae98416bfe2e1ee/zsh/cani">zsh</a>, <a href="https://github.com/SidOfc/dotfiles/blob/master/.config/fish/functions/cani.fish">fish</a>) itself uses another <a href="https://github.com/SidOfc/dotfiles/blob/master/bin/ciu">ruby script</a>
(<code>ciu</code>) I wrote to actually provide the data and format it properly.
The data is fetched once then cached for a day.
So you’ll have fresh data on a daily basis :)</p><p><em>This mixture of shell + ruby has since been <a href="https://github.com/SidOfc/cani">ported</a> to a <a href="https://rubygems.org/gems/cani">Ruby Gem</a> :)</em></p><h2>Vim</h2><p>Since I spend a lot of my time in Vim trying to find a file either by name,
or by some code <em>inside</em> a certain file. Streamlining that process is very important.
Every context switch you have to make adds overhead and the possibility of losing
focus of what you are trying to find. Therefore it should be as mindless as possible,
e.g: press a key, type query, press enter to go to matching file.</p><p>Finding files wasn’t too much of an issue here. There is a long list of Vim plugins
that offer file searching using fuzzy matching or <a href="https://en.wikipedia.org/wiki/Most_Recently_Used">MRU</a> algorithms. Two examples of this are <a href="https://github.com/ctrlpvim/ctrlp.vim">CtrlP</a> and <a href="https://github.com/wincent/command-t">Command-T</a>.
I used CtrlP which always managed to do the job. But after playing around with FZF
in the terminal I wondered if it could be applied to Vim as well.</p><h2><a href="https://github.com/junegunn/fzf.vim">FZF.vim</a></h2><p>FZF has a small builtin Vim interface that already works, but it comes without
any existing functionality. The author of FZF also wrote this plugin.
It is a small wrapper that provides common functionality. This includes listing files,
buffers, tags, git logs and much more!</p><h2>Fuzzy searching in file paths</h2><p>Coming from CtrlP the first thing I needed was a replacement for fuzzy-finding files.
The solution was to use the <code>:Files</code> command provided by FZF.vim. This lists files
using your <code>$FZF_DEFAULT_COMMAND</code> environment variable. It opens the currently
highlighted file on <kbd>enter</kbd>.</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/fzf-files-demo-19f88948e8d5818e3f9fbd7151150a0d.gif" alt="Fzf :Files demo"/><div style="padding-bottom:68.06482%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Fzf :Files demo</figcaption></figure><p>Since I was already so used to the <kbd>ctrl</kbd>+<kbd>p</kbd> mapping from the CtrlP plugin,
I mapped the <code>:Files</code> command to it: <code>nnoremap &lt;C-p&gt; :Files&lt;Cr&gt;</code>.</p><p>FZF will not use ripgrep by default so you’ll have to modify <code>$FZF_DEFAULT_COMMAND</code>
if you want FZF to use ripgrep. Of course this is exactly what I wanted!
After some tweaking I ended up with the following command:</p><ul><li><strong>Fish syntax:</strong> <code>set -gx FZF_DEFAULT_COMMAND &#x27;rg --files --no-ignore-vcs --hidden&#x27;</code></li><li><strong>Bash / ZSH syntax:</strong> <code>export FZF_DEFAULT_COMMAND=&#x27;rg --files --no-ignore-vcs --hidden&#x27;</code></li></ul><p>In my case it happens that I do want to edit or search for something in a file
that is ignored by my VCS or in a hidden file. The options ensure that all files
inside the directory are listed (except those ignored in a <code>~/.rgignore</code> file).</p><h2>Finding content in specific files</h2><p>Last but not least I wanted to find files based on what was inside of a file.
This is useful to see where a class or function is used for example.</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/fzf-rg-demo-361775a95d1694eae6e79243834cb120.gif" alt="Fzf :Rg demo"/><div style="padding-bottom:68.06482%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Fzf :Rg demo</figcaption></figure><p>The name of this command is <code>:Ag</code> and as you can guess, it relies on <code>ag</code> to grep
inside files. <code>ag</code> is a nice and fast tool too but since I am already using <code>ripgrep</code>,
I’d rather use that over installing another dependency. <strike><em>This means we&#x27;ll have to
do some manual tweaking.</em></strike></p><p><strong>UPDATE 25–05–2019</strong></p><p>As pointed out by <a href="https://medium.com/@caseymcgty">Casey McGinty</a> in the comments on
medium, FZF.vim now has the command <code>:Rg</code> built-in (see <code>:h fzf-vim-commands</code>).
The <a href="https://github.com/junegunn/fzf.vim#advanced-customization">old section</a> on how
to do it still exists, but does not cover how to exclude filenames from being matched.</p><p>Since FZF already provides <code>:Files</code> I wanted to override this behaviour.
An <a href="https://github.com/junegunn/fzf.vim/issues/346">issue</a> was created for the
exact same reason for the <code>:Ag</code> command. Based on <a href="https://github.com/junegunn/fzf.vim/issues/346#issuecomment-288483704">this comment</a>
I came up with the following setup to accomplish this:</p><pre style="overflow:auto;background-color:#2a2734;color:#9a86fd;width:"><code style="color:#9a86fd"><span style="color:#6c6783">&quot; FZF.vim now supports this command out of the box</span><span></span></code><code style="color:#9a86fd"><span></span><span style="color:#6c6783">&quot; but it searches through the filename as well, the</span><span></span></code><code style="color:#9a86fd"><span></span><span style="color:#6c6783">&quot; --delimiter and --nth options of excluding the filename.</span><span></span></code><code style="color:#9a86fd"><span>command</span><span style="color:#e09142">!</span><span> </span><span style="color:#e09142">-</span><span>bang </span><span style="color:#e09142">-</span><span>nargs</span><span style="color:#e09142">=</span><span style="color:#e09142">*</span><span> Rg</span></code><code style="color:#9a86fd"><span>  \ </span><span style="color:#ffcc99">call</span><span> fzf#</span><span style="color:#ffcc99">vim</span><span>#</span><span style="color:#9a86fd">grep</span><span style="color:#6c6783">(</span><span></span></code><code style="color:#9a86fd"><span>  \   </span><span style="color:#ffcc99">&#x27;rg --column --line-number --hidden --ignore-case --no-heading --color=always &#x27;</span><span style="color:#e09142">.</span><span style="color:#9a86fd">shellescape</span><span style="color:#6c6783">(</span><span style="color:#e09142">&lt;</span><span style="color:#ffcc99">q</span><span style="color:#e09142">-</span><span style="color:#ffcc99">args</span><span style="color:#e09142">&gt;</span><span style="color:#6c6783">)</span><span style="color:#6c6783">,</span><span> </span><span style="color:#e09142">1</span><span style="color:#6c6783">,</span><span></span></code><code style="color:#9a86fd"><span>  \   </span><span style="color:#e09142">&lt;</span><span>bang</span><span style="color:#e09142">&gt;</span><span style="color:#e09142">0</span><span> </span><span style="color:#e09142">?</span><span> fzf#</span><span style="color:#ffcc99">vim</span><span>#</span><span style="color:#9a86fd">with_preview</span><span style="color:#6c6783">(</span><span style="color:#6c6783">{</span><span style="color:#ffcc99">&#x27;options&#x27;</span><span style="color:#6c6783">:</span><span> </span><span style="color:#ffcc99">&#x27;--delimiter : --nth 4..&#x27;</span><span style="color:#6c6783">}</span><span style="color:#6c6783">,</span><span> </span><span style="color:#ffcc99">&#x27;up:60%&#x27;</span><span style="color:#6c6783">)</span><span></span></code><code style="color:#9a86fd"><span>  \           </span><span style="color:#6c6783">:</span><span> fzf#</span><span style="color:#ffcc99">vim</span><span>#</span><span style="color:#9a86fd">with_preview</span><span style="color:#6c6783">(</span><span style="color:#6c6783">{</span><span style="color:#ffcc99">&#x27;options&#x27;</span><span style="color:#6c6783">:</span><span> </span><span style="color:#ffcc99">&#x27;--delimiter : --nth 4..&#x27;</span><span style="color:#6c6783">}</span><span style="color:#6c6783">,</span><span> </span><span style="color:#ffcc99">&#x27;right:50%:hidden&#x27;</span><span style="color:#6c6783">,</span><span> </span><span style="color:#ffcc99">&#x27;?&#x27;</span><span style="color:#6c6783">)</span><span style="color:#6c6783">,</span><span></span></code><code style="color:#9a86fd"><span>  \   </span><span style="color:#e09142">&lt;</span><span>bang</span><span style="color:#e09142">&gt;</span><span style="color:#e09142">0</span><span style="color:#6c6783">)</span></code></pre><p>This one I mapped to <kbd>ctrl</kbd>+<kbd>g</kbd>, right next to <kbd>ctrl</kbd>+<kbd>f</kbd>
for the <code>:Files</code> command: <code>nnoremap &lt;C-g&gt; :Rg&lt;Cr&gt;</code></p><p>The nice thing about this command is that you can select multiple files.
When selecting multiple files, pressing <kbd>enter</kbd> will load the files in a
quickfix list for batch editing using <code>cdo</code> for example.</p><h2>Conclusion</h2><p>As I mentioned at the start of my post, these tools have become a <strong>vital</strong>
part of my workflow. I use them while barely noticing their presence and they
take a lot of complexity away from the task at hand. This allows me to focus
on what matters instead of finding out how to do something which should be trivial.</p><p>Wether it be killing services / processes, installing brew packages,
finding a glitch in my path or a feature set in caniuse, I can do it in fewer
keystrokes with more fine-grained control. I even use FZF as a standalone
filter sometimes when I have to find something in line-based command output,
skipping (rip)grep all together :)</p><p>Hopefully you are also able to reduce some of the strain in your workflow with
FZF using some of the tips above. If you are using FZF in another way, leave a
comment! I’d love to hear about it and learn what others are doing with these
two fantastic tools.</p><p>Happy fuzzy finding :)</p><p>👋</p><footer class="sc-5dsxsd-2 brPtyq"><a href="/" class="q4rscb-0 hFUcmw">Back to all posts</a></footer></article></main><footer class="oijonz-0 bpOIYh"><small>© <!-- -->https://sidneyliebrand.io<!-- --> <!-- -->2019</small></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/blog/how-fzf-and-ripgrep-improved-my-workflow","query":{},"buildId":"wy9xKnTnrvwTQRweiG_Bu","dynamicBuildId":false,"nextExport":true}</script><script async="" id="__NEXT_PAGE__/blog/how-fzf-and-ripgrep-improved-my-workflow" src="/_next/static/wy9xKnTnrvwTQRweiG_Bu/pages/blog/how-fzf-and-ripgrep-improved-my-workflow.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/wy9xKnTnrvwTQRweiG_Bu/pages/_app.js"></script><script src="/_next/static/runtime/webpack-a79426b5e11f0ba5879d.js" async=""></script><script src="/_next/static/chunks/commons.705778ac22d6292057c1.js" async=""></script><script src="/_next/static/runtime/main-0043a8e04005a8ba8f87.js" async=""></script></html>