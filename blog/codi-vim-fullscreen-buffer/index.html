<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8" class="next-head"/><link rel="alternate" type="application/atom+xml" title="Sidney Liebrand&#x27;s blog" href="/atom.xml" class="next-head"/><link rel="alternate" type="application/rss+xml" title="Sidney Liebrand&#x27;s blog" href="/feed.xml" class="next-head"/><link rel="canonical" href="https://sidneyliebrand.io/blog/codi-vim-fullscreen-buffer" class="next-head"/><link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png" class="next-head"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png" class="next-head"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png" class="next-head"/><link rel="icon" sizes="48x48" type="image/icon" href="/static/favicon.ico" class="next-head"/><link rel="preload" as="font" href="/static/fonts/pridi-300.woff2" crossorigin="anonymous" class="next-head"/><link rel="manifest" href="/static/site.webmanifest" class="next-head"/><meta content="text/html; charset=UTF-8" http-equiv="content-type" class="next-head"/><meta content="en" http-equiv="content-language" class="next-head"/><meta name="robots" content="index, follow" class="next-head"/><meta name="viewport" content="width=device-width, initial-scale=1.0" class="next-head"/><title class="next-head">https://sidneyliebrand.io  •  Codi.vim + fullscreen buffer</title><meta name="description" content="Learn how to set up Codi.vim to create a fullscreen scratch buffer that also works with Vim splits. We will take a look at wrapping the &lt;code&gt;Codi&lt;/code&gt; command and improving the buffer name(s) as seen in &lt;code&gt;:ls&lt;/code&gt;." class="next-head"/><meta name="author" content="Sidney Liebrand" class="next-head"/><meta name="og:type" content="article" class="next-head"/><meta name="og:title" content="Codi.vim + fullscreen buffer" class="next-head"/><meta name="og:description" content="Learn how to set up Codi.vim to create a fullscreen scratch buffer that also works with Vim splits. We will take a look at wrapping the &lt;code&gt;Codi&lt;/code&gt; command and improving the buffer name(s) as seen in &lt;code&gt;:ls&lt;/code&gt;." class="next-head"/><meta name="twitter:title" content="Codi.vim + fullscreen buffer" class="next-head"/><meta name="twitter:description" content="Learn how to set up Codi.vim to create a fullscreen scratch buffer that also works with Vim splits. We will take a look at wrapping the &lt;code&gt;Codi&lt;/code&gt; command and improving the buffer name(s) as seen in &lt;code&gt;:ls&lt;/code&gt;." class="next-head"/><link rel="preload" href="/_next/static/7suMTxzt-XpybEReAWE4M/pages/blog/codi-vim-fullscreen-buffer.js" as="script"/><link rel="preload" href="/_next/static/7suMTxzt-XpybEReAWE4M/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-a79426b5e11f0ba5879d.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.2afb76b5a24af7aa90ad.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-0043a8e04005a8ba8f87.js" as="script"/><style data-styled="xssAR hZCBmo itgYZx ioFmvx iElySe hMmOyE iHCyTn dnseLd yLSRV fBewLa gksUiF kKQoMs dVSrJN hEYOuv jPSecg hnyYkm brPtyq gHJYWv bpOIYh" data-styled-version="4.2.0">
/* sc-component-id: vkw20g-0 */
.dVSrJN{font-size:0.8rem;line-height:1.2;color:#555;color:var(--colors-dimgray);}
/* sc-component-id: sc-5dsxsd-0 */
.kKQoMs{margin-bottom:0;}
/* sc-component-id: sc-5dsxsd-1 */
.gksUiF{margin:auto;width:50rem;max-width:calc(100% - 2rem);max-width:calc(100vw - 2rem);padding:1rem;font-weight:300;} .gksUiF .sc-5dsxsd-0 + .vkw20g-0{margin-bottom:2rem;} .gksUiF > *{display:block;width:40rem;width:var(--page-post-width);max-width:100%;margin-left:auto;margin-right:auto;} .gksUiF ul,.gksUiF ol{list-style:none;padding:0;} .gksUiF ul li,.gksUiF ol li{position:relative;padding-left:1.5rem;} .gksUiF ul li::before,.gksUiF ol li::before{position:absolute;line-height:1;padding-top:0.25rem;top:0;left:0;bottom:0;width:1.5rem;font-size:1.4em;content:'\2022';color:#555;color:var(--colors-dimgray);} .gksUiF ol{counter-reset:ol-li-counter;} .gksUiF ol li::before{padding-top:0.4rem;font-size:0.9em;font-weight:700;counter-increment:ol-li-counter;content:counter(ol-li-counter)'.';} .gksUiF img{max-width:100%;} .gksUiF pre{padding:1rem;} .gksUiF blockquote{font-style:italic;margin-top:2rem;margin-bottom:2rem;padding:0 2rem;border-left:4px solid #555;border-left:4px solid var(--colors-dimgray);} .gksUiF blockquote p{opacity:0.8;} .gksUiF > p{margin-top:2rem;margin-bottom:2rem;} .gksUiF h1:not(:first-child),.gksUiF h2:not(:first-child),.gksUiF h3:not(:first-child),.gksUiF h4:not(:first-child),.gksUiF h5:not(:first-child),.gksUiF h6:not(:first-child){margin-top:2rem;} .gksUiF h1 + p,.gksUiF h2 + p,.gksUiF h3 + p,.gksUiF h4 + p,.gksUiF h5 + p,.gksUiF h6 + p{margin-top:0.5rem;}
/* sc-component-id: sc-5dsxsd-2 */
.brPtyq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}
/* sc-component-id: sc-1it13qh-0 */
.hnyYkm{display:block;text-align:center;margin-top:0.5rem;color:#555;color:var(--colors-dimgray);font-size:0.9rem;}
/* sc-component-id: sc-1it13qh-1 */
.jPSecg{position:relative;width:100%;} .jPSecg img{position:absolute;top:0;bottom:0;left:0;right:0;}
/* sc-component-id: sc-1it13qh-2 */
.hEYOuv{margin-top:2rem;margin-bottom:2rem;} .sc-5dsxsd-1 .hEYOuv.wide{width:100%;} .hEYOuv img{border-radius:4px;display:block;width:100%;}
/* sc-component-id: jhtjut-0 */
.hMmOyE{position:relative;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} .hMmOyE svg{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;max-width:100%;max-height:100%;display:block;fill:#651eea;fill:var(--colors-primary);}
/* sc-component-id: jhtjut-1 */
.iElySe{overflow:hidden;position:relative;height:calc(100% - 1rem);max-width:100%;max-width:100px;min-width:50px;margin:auto 0;cursor:pointer;-webkit-flex:0 1 100px;-ms-flex:0 1 100px;flex:0 1 100px;outline:none;} .iElySe:not(:active):focus{opacity:0.8;}
/* sc-component-id: pfay7k-0 */
.yLSRV{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} .yLSRV svg{height:60%;}
/* sc-component-id: pfay7k-1 */
.iHCyTn{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: pfay7k-2 */
.dnseLd{font-weight:500;position:relative;-webkit-text-decoration:none;text-decoration:none;padding:0 1rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:1rem;cursor:pointer;pointer-events:all;color:#000;color:var(--colors-black);outline:none;} .dnseLd:not(:active):focus{opacity:0.7;} .dnseLd:first-child{margin-left:0;} .dnseLd:last-child{margin-right:0;}
/* sc-component-id: gefaab-0 */
.hZCBmo{position:relative;height:3.125rem;height:var(--page-header-height);}
/* sc-component-id: gefaab-1 */
.itgYZx{position:fixed;top:0;left:0;right:0;height:3.125rem;height:var(--page-header-height);background-color:#fff;background-color:var(--colors-white);box-shadow:0px 0px 0.25rem rgba(0,0,0,0.15);z-index:100;}
/* sc-component-id: gefaab-2 */
.ioFmvx{max-width:50rem;max-width:var(--page-width);padding:0 0 0 1rem;margin:0 auto;height:100%;display:grid;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}
/* sc-component-id: oijonz-0 */
.bpOIYh{color:#555;color:var(--colors-dimgray);padding:0.25rem 1rem;text-align:center;}
/* sc-component-id: udk3dy-0 */
.fBewLa{width:100%;}
/* sc-component-id: l5bfw4-0 */
.xssAR{position:relative;min-height:100vh;width:100%;display:grid;grid-template-columns:auto;grid-template-rows:3.125rem 1fr auto;grid-template-rows:var(--page-header-height) 1fr auto;}
/* sc-component-id: q4rscb-0 */
.gHJYWv{-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.3;font-size:0.9rem;font-family:Pridi;padding:0.5rem 2rem;border-radius:2px;height:auto;background-color:#651eea;background-color:var(--colors-primary);border:1px solid rgba(0,0,0,0.1);color:#fff;color:var(--colors-white);cursor:pointer;-webkit-transition:all 100ms ease-out;transition:all 100ms ease-out;outline:none;} .gHJYWv:hover,.gHJYWv:not(:active):focus{opacity:0.8;}
/* sc-component-id: sc-global-3860278275 */
@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:300;src:url('/static/fonts/pridi-300.eot');src:local('Pridi Light'), local('Pridi-Light'), url('/static/fonts/pridi-300.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-300.woff2') format('woff2'), url('/static/fonts/pridi-300.woff') format('woff'), url('/static/fonts/pridi-300.ttf') format('truetype'), url('/static/fonts/pridi-300.svg#Pridi') format('svg');} ,@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:400;src:url('/static/fonts/pridi-400.eot');src:local('Pridi Regular'), local('Pridi-Regular'), url('/static/fonts/pridi-400.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-400.woff2') format('woff2'), url('/static/fonts/pridi-400.woff') format('woff'), url('/static/fonts/pridi-400.ttf') format('truetype'), url('/static/fonts/pridi-400.svg#Pridi') format('svg');} ,@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:500;src:url('/static/fonts/pridi-500.eot');src:local('Pridi Medium'), local('Pridi-Medium'), url('/static/fonts/pridi-500.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-500.woff2') format('woff2'), url('/static/fonts/pridi-500.woff') format('woff'), url('/static/fonts/pridi-500.ttf') format('truetype'), url('/static/fonts/pridi-500.svg#Pridi') format('svg');} ,@font-face{font-family:Pridi;font-style:normal;font-display:swap;font-weight:700;src:url('/static/fonts/pridi-700.eot');src:local('Pridi Bold'), local('Pridi-Bold'), url('/static/fonts/pridi-700.eot?#iefix') format('embedded-opentype'), url('/static/fonts/pridi-700.woff2') format('woff2'), url('/static/fonts/pridi-700.woff') format('woff'), url('/static/fonts/pridi-700.ttf') format('truetype'), url('/static/fonts/pridi-700.svg#Pridi') format('svg');} *{box-sizing:border-box;} *::selection{background-color:rgba(240,233,253,1);color:rgba(71,21,164,1);} :root{--colors-primary:#651eea;--colors-black:#000;--colors-dimgray:#555;--colors-white:#fff;--page-font-family:Pridi;--page-color:#444;--page-width:50rem;--page-header-height:3.125rem;--page-post-width:40rem;} html{font-size:0.8rem;} @media screen and (min-width:280px){html{font-size:calc( 0.8rem + 0.024999999999999994 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){html{font-size:1.2rem;}} body{height:100%;margin:0;padding:0;font-family:Pridi,serif;line-height:1.6;font-weight:300;} #__next{height:100%;height:100vh;color:#444;color:var(--page-color);} article,aside,details,figcaption,figure,footer,header,main,mark,nav,section{display:block;} h1,h2,h3,h4,h5,h6{color:#000;color:var(--colors-black);line-height:1.1;font-weight:700;margin:0 0 0.25rem;margin-top:1rem;} @media screen and (min-width:280px){h1,h2,h3,h4,h5,h6{margin-top:calc( 1rem + 0.0625 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h1,h2,h3,h4,h5,h6{margin-top:2rem;}} h1{font-size:1.5rem;} @media screen and (min-width:280px){h1{font-size:calc( 1.5rem + 0.08124999999999999 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h1{font-size:2.8rem;}} h2{font-size:1.4rem;} @media screen and (min-width:280px){h2{font-size:calc( 1.4rem + 0.056249999999999994 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h2{font-size:2.3rem;}} h3{font-size:1.3rem;} @media screen and (min-width:280px){h3{font-size:calc( 1.3rem + 0.05 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h3{font-size:2.1rem;}} h4{font-size:1.2rem;} @media screen and (min-width:280px){h4{font-size:calc( 1.2rem + 0.037500000000000006 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h4{font-size:1.8rem;}} h5{font-size:1.1rem;} @media screen and (min-width:280px){h5{font-size:calc( 1.1rem + 0.024999999999999994 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h5{font-size:1.5rem;}} h6{font-size:1rem;} @media screen and (min-width:280px){h6{font-size:calc( 1rem + 0.012499999999999997 * ((100vw - 280px) / (1024 / 280)) );}} @media screen and (min-width:1024px){h6{font-size:1.2rem;}} p{font-size:1.15rem;margin-top:0;margin-bottom:1rem;} li{font-size:1.15rem;margin-bottom:1rem;} blockquote{font-size:1.15rem;} pre,code,kbd{padding:0.5rem 1rem;border-radius:4px;background-color:rgba(242,242,242,1);color:#444;color:var(--page-color);} code,kbd{font-size:0.8em;padding:0.2rem 0.4rem 0.15rem;border-radius:4px;} pre code{font-size:0.9rem;padding:0;background-color:transparent;display:block;} kbd{background-image:none;border:1px solid rgba(85,85,85,0.2);} a,a > code{position:relative;color:#651eea;color:var(--colors-primary);-webkit-text-decoration:none;text-decoration:none;outline:none;} a:not(:active):focus,a > code:not(:active):focus{opacity:0.8;text-shadow:-0.06ex 0 #651eea,0.06ex 0 #651eea;text-shadow:-0.06ex 0 var(--colors-primary),0.06ex 0 var(--colors-primary);}</style></head><div id="__next"><div class="l5bfw4-0 xssAR"><div class="gefaab-0 hZCBmo"><header class="gefaab-1 itgYZx"><div class="gefaab-2 ioFmvx"><a title="https://sidneyliebrand.io homepage" href="/" class="jhtjut-1 iElySe"><div class="jhtjut-0 hMmOyE"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 429.29 114.44" preserveAspectRatio="xMidYMid slice"><path d="M33.43 96.21c18.22 0 25-17.14 8.48-26.76C29 61.94 11.44 60.75 3.93 46S3.07 12.14 17.4 4.71c15.35-8 36.69-5.08 51.36 3L62.4 24.49C53.63 19.59 41 16 31.08 19.76c-9.33 3.55-10.69 13.62-3.22 20.08 7.83 6.77 19.62 7.95 28.53 13 11.12 6.31 17.37 16.65 17.32 29.41-.12 27.84-27.22 34.19-50.28 31.69-6-.65-22.15-3.42-23.36-9.38-.74-3.65 4.52-12.56 5.81-16.12a53 53 0 0 0 27.55 7.77zM162 112.11H93.31V2.77h21.91v91.32H162zm67.15-13.96c0 20.64-31.72 20.67-31.62 0 .1-20.15 31.62-20.23 31.62 0zM267 112.11v-18h23.8V20.78H267v-18h69.42v18H312.7v73.31h23.67v18zm83.5-54.76c0-25.51 8.42-57 39.39-57.06 31.32-.09 39.4 31.31 39.4 57.06 0 24.69-7.42 55.53-37.19 57-32.55 1.53-41.6-30.35-41.6-57zm22.08 0c0 12.19-.62 38.21 17.31 38.15s17.3-25.85 17.32-38.15.62-38.12-17.32-38.16-17.31 26.04-17.31 38.16z"/></svg></div></a><nav class="pfay7k-1 iHCyTn"><a href="https://github.com/sidofc" title="Sidney Liebrand&#x27;s GitHub profile" class="pfay7k-2 dnseLd"><div class="pfay7k-0 yLSRV"><svg viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></div></a></nav></div></header></div><main class="udk3dy-0 fBewLa"><article class="sc-5dsxsd-1 gksUiF"><h1 class="sc-5dsxsd-0 kKQoMs">Codi.vim + fullscreen buffer</h1><small class="vkw20g-0 dVSrJN">By <!-- -->Sidney Liebrand<!-- --> on <!-- -->Aug 27, 2018<!-- --> • <!-- -->5<!-- --> min read</small><figure class="wide sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/codi-banner-b981c695abc043bb76b572d716016b10.png" alt="A Codi.vim fullscreen buffer"/><div style="padding-bottom:58.13397%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">A Codi.vim fullscreen buffer</figcaption></figure><p>Recently I discovered <a href="https://github.com/metakirby5/codi.vim">codi.vim</a> on <a href="https://vimawesome.com/?q=cat%3Aother">vimawesome.com</a>.
It sells itself as an &quot;interactive scratchpad for hackers&quot;.
After playing around with it for 5 minutes I was completely sold.</p><p>I pair program on a weekly basis using various different languages.
I used to turn to a REPL for help but this quickly becomes annoying when trying to write multi-line expressions.
Making a typo in the middle of a <code>do ... end</code> block in Ruby is quite costly:</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/pry-multiline-typo-92d9b9bf44a742e3949d67aeaccbc870.gif" alt="Multiline expression typo in Pry"/><div style="padding-bottom:24.68538%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Multiline expression typo in Pry</figcaption></figure><p>Another thing to note here is that code and results are printed sequentially.
This means that any code you write goes off-screen at least twice as fast because the result is printed below it.</p><p>In case of errors and stack traces it can become a lot worse as well.
Codi solves all of this by allowing you to type in one pane and it prints the results in a separate pane side-by-side:</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/ruby-demo-1ddbb96931ca4a68088085bd64b9bf08.gif" alt="Demo of Ruby in Codi.vim"/><div style="padding-bottom:13.64956%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Demo of Ruby in Codi.vim</figcaption></figure><p>This feature, and the fact that I can toggle this buffer for <em>multiple programming languages</em> using a single mapping blew my mind but as with anything,
it requires some more battle testing to see if it works in common scenario&#x27;s.</p><h2>Battle testing</h2><p>This is where I found out that when used with a split, it will not be fullscreen but rather split the current buffer:</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/split-behavior-e440c56c532f5ffb099912648a73c9ac.gif" alt="Default split behaviour"/><div style="padding-bottom:48.01549%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Default split behaviour</figcaption></figure><p>At this point I started experimenting with a small <a href="https://gist.github.com/SidOfc/5218a7a9f12ed2105a9b052ca8e6707e">vimscript snippet</a> in my .vimrc.
Excluding comments and blanks it is 10 LoC.
It wraps the default <code>Codi</code> command in a function which creates an empty buffer in a new tab with the right filetype set before finally running <code>Codi</code> itself.
This creates the fullscreen split that I wanted:</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/wrapped-split-behavior-0fc68a62c315873f2377a65112f174aa.gif" alt="Enhanced split behaviour"/><div style="padding-bottom:48.01549%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Enhanced split behaviour</figcaption></figure><h2>Problem solved, or maybe not?</h2><p>All good so far, but upon closing the buffer, the contents of the buffer are deleted.
While automatically clearing the scratchpad is nice, sometimes I want to go back and forth between the code and the scratchpad to add additional code or compare the existing code with the scratchpad code.</p><p>This required a <a href="https://gist.github.com/SidOfc/3f94244a8b08406710b6669052f66d62">second iteration</a> of the original vimscript snippet.
This time I did not want to delete the buffer but hide it instead, keeping the code that was already written in it.
After hiding the buffer, its <code>tabpagenr()</code> is stored in a dictionary keyed by the filetype of the buffer.</p><p>Then, when toggling codi for a filetype that is stored, switch to that tab instead of opening a new one (there is even a check if that tab actually exists):</p><figure class="sc-1it13qh-2 hEYOuv"><div class="sc-1it13qh-1 jPSecg"><img src="/_next/static/images/wrapped-split-behavior-2-ac54ee22125489dd16be1706f92f3684.gif" alt="Enhanced split behaviour version 2"/><div style="padding-bottom:48.01549%"></div></div><figcaption class="sc-1it13qh-0 hnyYkm">Enhanced split behaviour version 2</figcaption></figure><p>And there we go! Aside from the fact that the buffer now remains, the name is also <code>scratch::ruby</code>.
This is a bit more descriptive than having just <code>[Scratch]</code> in <code>:ls</code> output when multiple codi buffers of a different filetype are active.</p><h2>Let&#x27;s wrap it in an issue</h2><p>It was a fun experience tweaking this plugin to my liking.
I thought this feature would be so awesome that I even proposed it in an <a href="https://github.com/metakirby5/codi.vim/issues/9://github.com/metakirby5/codi.vim/issues/94">issue</a>.
Unfortunately it didn&#x27;t make it since it was too workflow specific.</p><p>As you may have been able to see in the issue though, the code in that snippet is <em>slighty</em> different from the example gist linked in this post.
The main difference is this line which resizes codi to 50% of the buffer width whenever a new instance is spawned:</p><pre style="overflow:auto;background-color:#2a2734;color:#9a86fd;width:"><code style="color:#9a86fd"><span style="color:#6c6783">&quot; since it is fullscreen, I&#x27;d like a 50/50 split</span><span></span></code><code style="color:#9a86fd"><span></span><span style="color:#ffcc99">let</span><span> g</span><span style="color:#6c6783">:</span><span>codi#width </span><span style="color:#e09142">=</span><span> </span><span style="color:#9a86fd">winwidth</span><span style="color:#6c6783">(</span><span style="color:#9a86fd">winnr</span><span style="color:#6c6783">(</span><span style="color:#6c6783">)</span><span style="color:#6c6783">)</span><span> </span><span style="color:#e09142">/</span><span> </span><span style="color:#e09142">2</span></code></pre><p>The author thought it would be a nice addition to have percentage width support and for the snippets to live elsewhere for others to use in their .vimrc.
So I went ahead and <a href="https://github.com/metakirby5/codi.vim/pull/95">wrote a PR</a> for that instead, this is why you see
<code>let g:codi#width = 50.0</code> in the gists :)</p><h2>Conclusion</h2><p>All in all it was a great experience discovering this plugin.
It is like one of those rare cases with a song where after a few seconds <strong>you just know</strong> <em>&quot;this song is awesome&quot;</em>.
I believe I&#x27;ll be using it for a long time to come for quickly testing and showing some code.</p><p>This also gave me the chance to write my first non-organization bound PR for a project which I like and now also use.
Something which I wanted to do for a long time but couldn&#x27;t really find the right project to contribute to.
I want to thank <a href="https://medium.com/@metakirby5">Ethan Chan</a> for his awesome plugin and for being a kind and friendly maintainer!</p><p>That&#x27;s it! If you want a fullscreen workflow with codi.vim, you have it.
If you want to persist the code in the buffer, you have it.
If you have a great idea, comment on this post!</p><p>Until next time.</p><p>👋</p><footer class="sc-5dsxsd-2 brPtyq"><a href="/" class="q4rscb-0 gHJYWv">Back to all posts</a></footer></article></main><footer class="oijonz-0 bpOIYh"><small>© <!-- -->https://sidneyliebrand.io<!-- --> <!-- -->2019</small></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/blog/codi-vim-fullscreen-buffer","query":{},"buildId":"7suMTxzt-XpybEReAWE4M","dynamicBuildId":false,"nextExport":true}</script><script async="" id="__NEXT_PAGE__/blog/codi-vim-fullscreen-buffer" src="/_next/static/7suMTxzt-XpybEReAWE4M/pages/blog/codi-vim-fullscreen-buffer.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/7suMTxzt-XpybEReAWE4M/pages/_app.js"></script><script src="/_next/static/runtime/webpack-a79426b5e11f0ba5879d.js" async=""></script><script src="/_next/static/chunks/commons.2afb76b5a24af7aa90ad.js" async=""></script><script src="/_next/static/runtime/main-0043a8e04005a8ba8f87.js" async=""></script></html>