<!DOCTYPE html><html lang="en" class="no-js"><head><meta charSet="utf-8"/><title>Sidney Liebrand&#x27;s blog - Fixing audio configuration after upgrading Ubuntu</title><link rel="canonical" href="https://sidneyliebrand.io/blog/fixing-audio-configuration-after-upgrading-ubuntu"/><link rel="manifest" href="/site.webmanifest"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#a676ff"/><link rel="icon" sizes="48x48" type="image/icon" href="/favicon.ico"/><link rel="icon" sizes="16x16" type="image/png" href="/favicon-16x16.png"/><link rel="icon" sizes="32x32" type="image/png" href="/favicon-32x32.png"/><link rel="apple-touch-icon" sizes="180x180" type="image/png" href="/apple-touch-icon.png"/><link rel="alternate" type="application/atom+xml" title="The official https://sidneyliebrand.io Atom feed" href="/atom.xml"/><link rel="alternate" type="application/rss+xml" title="The official https://sidneyliebrand.io RSS feed" href="/feed.xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="theme-color" content="#ffffff"/><meta name="msapplication-TileColor" content="#ffc40d"/><meta name="robots" content="index, follow"/><meta name="author" content="Sidney Liebrand"/><meta name="description" content="It is never fun when stuff breaks! This post is about me fixing some audio deficiencies after upgrading Ubuntu."/><meta property="og:title" content="Fixing audio configuration after upgrading Ubuntu"/><meta property="og:type" content="website"/><meta property="og:url" content="https://sidneyliebrand.io"/><meta property="og:site_name" content="https://sidneyliebrand.io"/><meta property="og:description" content="It is never fun when stuff breaks! This post is about me fixing some audio deficiencies after upgrading Ubuntu."/><meta name="dc:creator" content="Sidney Liebrand"/><meta name="dc:title" content="Fixing audio configuration after upgrading Ubuntu"/><meta name="dc:description" content="It is never fun when stuff breaks! This post is about me fixing some audio deficiencies after upgrading Ubuntu."/><meta name="twitter:card" content="summary"/><meta name="twitter:creator"/><meta name="next-head-count" content="27"/><script>window.themeBackgrounds={light:"#efefef",dark:"#111"},window.themeNames=Object.keys(themeBackgrounds),function(){var e,a=window.themeBackgrounds||{},c=Object.keys(a),t=document,n=t.querySelector("html"),o=t.createElement("style");try{e=localStorage.getItem("theme")}catch(e){}function r(e,t){if(c.forEach(function(e){n.classList.remove(e)}),e&&(n.classList.add(e),o.innerHTML="html { background-color:"+a[e]+"; }"),t)try{e?localStorage.setItem("theme",e):localStorage.removeItem("theme")}catch(e){}}e=e||"light",n.classList.remove("no-js"),t.head.appendChild(o),window.addEventListener("click",function(e){e=e.target.getAttribute("data-theme");e&&r(e,!0)}),window.addEventListener("storage",function(e){"theme"===e.key&&r(e.newValue)}),window.matchMedia&&(t=window.matchMedia("(prefers-color-scheme: dark)"),!e&&t.matches&&(e="dark"),t.addEventListener("change",function(e){try{localStorage.getItem("theme")||r(e.matches?"dark":"light")}catch(e){}})),r(e)}();</script><link rel="preload" href="/_next/static/css/c4355b9efba8ed04.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c4355b9efba8ed04.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b322b3c634cb904a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b322b3c634cb904a.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-ecc4130bc7a58a64.js" defer=""></script><script src="/_next/static/chunks/main-f61746aa183f4a64.js" defer=""></script><script src="/_next/static/chunks/pages/_app-658810d677dd6d87.js" defer=""></script><script src="/_next/static/chunks/270-41e5c3fe94830822.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-0449096edb900473.js" defer=""></script><script src="/_next/static/faQRKtmcbeQBgq4HynUkg/_buildManifest.js" defer=""></script><script src="/_next/static/faQRKtmcbeQBgq4HynUkg/_ssgManifest.js" defer=""></script></head><style>html.light { --prism-plain-backgroundColor: #f6f8fa;--prism-plain-color: #393A34;--prism-comment-color: #999988;--prism-comment-fontStyle: italic;--prism-prolog-color: #999988;--prism-prolog-fontStyle: italic;--prism-cdata-color: #999988;--prism-cdata-fontStyle: italic;--prism-doctype-color: #999988;--prism-doctype-fontStyle: italic;--prism-punctuation-color: #393A34;--prism-entity-color: #36acaa;--prism-attr-name-color: #00a4db;--prism-boolean-color: #36acaa;--prism-constant-color: #36acaa;--prism-number-color: #36acaa;--prism-atrule-color: #00a4db;--prism-keyword-color: #00009f;--prism-property-color: #36acaa;--prism-tag-color: #00009f;--prism-symbol-color: #36acaa;--prism-deleted-color: #d73a49;--prism-selector-color: #00009f;--prism-string-color: #e3116c;--prism-inserted-color: #36acaa;--prism-regex-color: #36acaa;--prism-attr-value-color: #e3116c;--prism-variable-color: #36acaa;--prism-operator-color: #393A34;--prism-function-color: #d73a49;--prism-url-color: #36acaa;--prism-namespace-opacity: 0.7;--prism-function-variable-color: #6f42c1; }
html.dark { --prism-plain-backgroundColor: hsl(220, 13%, 18%);--prism-plain-color: hsl(220, 14%, 71%);--prism-plain-textShadow: 0 1px rgba(0, 0, 0, 0.3);--prism-comment-color: hsl(220, 10%, 40%);--prism-prolog-color: hsl(220, 10%, 40%);--prism-cdata-color: hsl(220, 10%, 40%);--prism-doctype-color: hsl(220, 14%, 71%);--prism-punctuation-color: hsl(220, 14%, 71%);--prism-entity-color: hsl(220, 14%, 71%);--prism-attr-name-color: hsl(29, 54%, 61%);--prism-class-name-color: hsl(29, 54%, 61%);--prism-maybe-class-name-color: hsl(29, 54%, 61%);--prism-boolean-color: hsl(29, 54%, 61%);--prism-constant-color: hsl(29, 54%, 61%);--prism-number-color: hsl(29, 54%, 61%);--prism-atrule-color: hsl(29, 54%, 61%);--prism-keyword-color: hsl(286, 60%, 67%);--prism-property-color: hsl(355, 65%, 65%);--prism-tag-color: hsl(355, 65%, 65%);--prism-symbol-color: hsl(355, 65%, 65%);--prism-deleted-color: hsl(355, 65%, 65%);--prism-deleted-textDecorationLine: line-through;--prism-important-color: hsl(220, 14%, 71%);--prism-important-fontWeight: bold;--prism-selector-color: hsl(95, 38%, 62%);--prism-string-color: hsl(95, 38%, 62%);--prism-char-color: hsl(95, 38%, 62%);--prism-builtin-color: hsl(95, 38%, 62%);--prism-inserted-color: hsl(95, 38%, 62%);--prism-inserted-textDecorationLine: underline;--prism-regex-color: hsl(95, 38%, 62%);--prism-attr-value-color: hsl(95, 38%, 62%);--prism-variable-color: hsl(207, 82%, 66%);--prism-operator-color: hsl(207, 82%, 66%);--prism-function-color: hsl(207, 82%, 66%);--prism-url-color: hsl(187, 47%, 55%);--prism-italic-fontStyle: italic;--prism-bold-fontWeight: bold; }</style><body><div id="__next"><div class="layout_application__IkddQ"><header class="layout_header__lNxPJ"><div class="layout_headerFixed__ej7pM"><div class="layout_headerContent__642Ih"><a class="layout_logo__49Jw1" title="View home page" href="/"><span class="layout_logoTopLeft__UsCFV"></span><span class="layout_logoBottomLeft__W2FUi"></span><span class="layout_logoTopRight__9N83w"></span><span class="layout_logoBottomRight__b_2V_"></span></a><nav class="layout_navigation__hy8pt"><a title="View curriculum vitae" href="/cv">C.V.</a><a class="layout_githubWrapper__pLthy" title="Visit Sidney Liebrand&#x27;s GitHub page" href="https://github.com/SidOfc"><figure class="layout_github__Ge5i1 media_figure__RzsMp media_invertDark__G1aHC"><div class="media_relative__wEFhS" style="padding-bottom:100%"><img loading="lazy" class="media_media__ljErE" src="/media/github.svg" alt="Sidney Liebrand&#x27;s GitHub page"/></div></figure></a><div tabindex="0" title="Toggle dark theme" class="dark-mode-toggle_wrapper__8a7Po"><svg fill="#000000" data-theme="light" class="dark-mode-toggle_toggle__8hfIH" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"></path></svg><svg fill="#000000" data-theme="dark" class="dark-mode-toggle_toggle__8hfIH" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9.5,2c-1.82,0-3.53,0.5-5,1.35c2.99,1.73,5,4.95,5,8.65s-2.01,6.92-5,8.65C5.97,21.5,7.68,22,9.5,22c5.52,0,10-4.48,10-10 S15.02,2,9.5,2z"></path></svg></div></nav></div></div></header><main class="layout_content__485Tc"><article class="post_post__4ClWP"><h1 class="heading_container__p7f5U"><a class="heading_link__Pi9LU" href="/blog/fixing-audio-configuration-after-upgrading-ubuntu">Fixing audio configuration after upgrading Ubuntu</a></h1><span class="post_postData__2dqv6 text_page-accent-fg__9oKEM">By Sidney Liebrand on<!-- --> <!-- -->May 20, 2020<span class="bullet_bullet__hcGtc">â€¢</span>1<!-- --> min read</span><section><p>Every time I upgrade Ubuntu something fails. One of these things is audio.
For some reason, upgrading breaks my audio setup in weird ways, I have speakers
connected as &quot;Line Out&quot; and a wireless headset. After an upgrade Ubuntu
may refuse to play audio through my headset entirely, this can be fixed
by removing pulse config:</p>
<pre class="prism-code language-bash" style="background-color:var(--prism-plain-backgroundColor);color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)"><div class="token-line" style="color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)"><span class="token function-name function" style="color:var(--prism-function-color)">rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:var(--prism-variable-color)">-rf</span><span class="token plain"> ~/.config/pulse</span></div></pre>
<p>On restart, Ubuntu will create a fresh config file which will work.</p>
<p>Another thing that fails for me after upgrading Ubuntu is that my headset
likes to &quot;take control&quot; over the audio even though it isn&#x27;t switched on.
The (likely) reason this happens is because the hub my headset connects to
is in fact, always on, and gets detected after &quot;Line Out&quot;. Pulseaudio has
a setting located in <code>/etc/pulse/default.pa</code> to automatically
switch to &quot;newly connected&quot; audio devices.</p>
<p>Since this is never what I want, I have to disable it by editing the file
and commenting out <code>load-module module-switch-on-connect</code> like this:</p>
<pre class="prism-code language-ini" style="background-color:var(--prism-plain-backgroundColor);color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)"><div class="token-line" style="color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)"><span class="token plain"># load-module module-switch-on-connect</span></div></pre>
<p>Until next time :)</p>
<p>ðŸ‘‹</p></section><a href="/"><button tabindex="0" class="button_button__dZRSb">Back</button></a></article></main><footer class="layout_footer__SUiec"><strong>Â©</strong> sidneyliebrand.io<!-- --> <!-- -->2024<span class="bullet_bullet__hcGtc bullet_wide__LCzNj">â€¢</span><a title="View RSS feed" href="/feed.xml">RSS</a><span class="bullet_bullet__hcGtc bullet_wide__LCzNj">â€¢</span><a title="View Atom feed" href="/atom.xml">Atom</a></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Fixing audio configuration after upgrading Ubuntu","description":"It is never fun when stuff breaks! This post is about me fixing some audio deficiencies after upgrading Ubuntu.","published":"2020-05-20T00:13:37Z","readTimeInMinutes":1,"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    pre: \"pre\",\n    code: \"code\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"Every time I upgrade Ubuntu something fails. One of these things is audio.\\nFor some reason, upgrading breaks my audio setup in weird ways, I have speakers\\nconnected as \\\"Line Out\\\" and a wireless headset. After an upgrade Ubuntu\\nmay refuse to play audio through my headset entirely, this can be fixed\\nby removing pulse config:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"rm -rf ~/.config/pulse\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"On restart, Ubuntu will create a fresh config file which will work.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Another thing that fails for me after upgrading Ubuntu is that my headset\\nlikes to \\\"take control\\\" over the audio even though it isn't switched on.\\nThe (likely) reason this happens is because the hub my headset connects to\\nis in fact, always on, and gets detected after \\\"Line Out\\\". Pulseaudio has\\na setting located in \", _jsx(_components.code, {\n        children: \"/etc/pulse/default.pa\"\n      }), \" to automatically\\nswitch to \\\"newly connected\\\" audio devices.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Since this is never what I want, I have to disable it by editing the file\\nand commenting out \", _jsx(_components.code, {\n        children: \"load-module module-switch-on-connect\"\n      }), \" like this:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-ini\",\n        children: \"# load-module module-switch-on-connect\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Until next time :)\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ðŸ‘‹\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{"title":"Fixing audio configuration after upgrading Ubuntu","description":"It is never fun when stuff breaks! This post is about me fixing some audio deficiencies after upgrading Ubuntu.","published":"2020-05-20T00:13:37Z"}},"slug":"fixing-audio-configuration-after-upgrading-ubuntu"},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"fixing-audio-configuration-after-upgrading-ubuntu"},"buildId":"faQRKtmcbeQBgq4HynUkg","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>