<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Switching to ASDF version manager</title><link rel="cannonical" href="https://sidneyliebrand.io/blog/switching-to-asdf-version-manager"/><link rel="manifest" href="/site.webmanifest"/><link rel="icon" sizes="48x48" type="image/icon" href="/favicon.ico"/><link rel="icon" sizes="16x16" type="image/png" href="/favicon-16x16.png"/><link rel="icon" sizes="32x32" type="image/png" href="/favicon-32x32.png"/><link rel="apple-touch-icon" sizes="180x180" type="image/png" href="/apple-touch-icon.png"/><link rel="alternate" type="application/atom+xml" title="The official https://sidneyliebrand.io Atom feed" href="/atom.xml"/><link rel="alternate" type="application/rss+xml" title="The official https://sidneyliebrand.io RSS feed" href="/feed.xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="theme-color" content="#651eea"/><meta name="robots" content="index, follow"/><meta name="author" content="Sidney Liebrand"/><meta name="description" content="Depending on how many languages you program in, getting all their version managers installed, added to &lt;code&gt;$PATH&lt;/code&gt;, configured etc... becomes quite a pain when setting up a new system, or even figuring out how this one works because you&#x27;ve used something else for a while."/><meta property="og:title" content="Switching to ASDF version manager"/><meta property="og:type" content="website"/><meta property="og:url" content="https://sidneyliebrand.io"/><meta property="og:site_name" content="https://sidneyliebrand.io"/><meta property="og:description" content="Depending on how many languages you program in, getting all their version managers installed, added to &lt;code&gt;$PATH&lt;/code&gt;, configured etc... becomes quite a pain when setting up a new system, or even figuring out how this one works because you&#x27;ve used something else for a while."/><meta name="dc:creator" content="Sidney Liebrand"/><meta name="dc:title" content="Switching to ASDF version manager"/><meta name="dc:description" content="Depending on how many languages you program in, getting all their version managers installed, added to &lt;code&gt;$PATH&lt;/code&gt;, configured etc... becomes quite a pain when setting up a new system, or even figuring out how this one works because you&#x27;ve used something else for a while."/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="@scbydoooo"/><meta name="next-head-count" content="25"/><link rel="preload" href="/_next/static/css/29290287869ff41e8823.css" as="style"/><link rel="stylesheet" href="/_next/static/css/29290287869ff41e8823.css" data-n-g=""/><link rel="preload" href="/_next/static/css/17e13d19b67286da5325.css" as="style"/><link rel="stylesheet" href="/_next/static/css/17e13d19b67286da5325.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-c64519ed79327e51c7fd.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.29f9e2f3d4a33bafbaa5.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.2315b3822f3fa12e695d.js" as="script"/><link rel="preload" href="/_next/static/chunks/62e1beb3a59d93297dd568d6addecfcbe54736d1.c92d76e0fa573fc224b4.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3a12a435f97cdf8bd248.js" as="script"/><link rel="preload" href="/_next/static/chunks/89c7192737f5dae381690d2d2c3016603346826c.c0a4006c868814e5158c.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bslug%5D-3821d790ddd260164b96.js" as="script"/></head><body><div id="__next"><div class="layout_application__6A4un"><header class="layout_header__3bVjw"><div class="layout_headerFixed__3v8Yi"><div class="layout_headerContent__18ocK"><a class="layout_logo__319hZ" title="View home page" href="/"><span class="layout_logoCode__3yWRk">&lt;</span>Sidney<span class="layout_logoCode__3yWRk">.</span>Liebrand <span class="layout_logoCode__3yWRk">/<!-- -->&gt;</span></a><nav class="layout_navigation__19PAD"><a title="View curriculum vitae" href="/cv">C.V.</a><a title="Visit Sidney Liebrand&#x27;s GitHub page" href="https://github.com/SidOfc"><figure class="layout_github__23ZLB media_figure__1BF98 media_invertDark__1FMJX"><div class="lazyload-wrapper "><div style="padding-bottom:100%"></div></div></figure></a></nav></div></div></header><main class="layout_content__2V5t2"><article class="post_post__2uzyE"><h1 class="heading_container__2UElk"><a class="heading_link__1aoFY" href="/blog/switching-to-asdf-version-manager">Switching to ASDF version manager</a></h1><span class="post_postData__yktVb text_page-accent-fg__3pARq">By Sidney Liebrand on <!-- -->Aug, 2017<span class="bullet_bullet__2pnOU">•</span>5<!-- --> min read</span><div><figure class="media_figure__1BF98 media_invertDark__1FMJX"><div class="lazyload-wrapper "><div style="padding-bottom:56.17977528089888%"></div></div><figcaption class="media_alt__xSx7S">asdfmovie quote from youtube</figcaption></figure><p>Version management tools for programming languages are a common thing in (web-)developer land.
I started to wonder if there was an all-in-one version management tool.
I want this because as I learn more and do more, I will need more version managers that all
slow down my shell. So lets prevent that shall we!</p><p>I&#x27;ve always used <a href="https://rvm.io" title="Visit rvm.io">RVM</a> in the past without problem, the shell took about half a
second to load and that was acceptable. I mean, you can&#x27;t have it all right :)</p><p>Aside from sourcing good old RVM, recently I also added <a href="https://github.com/creationix/nvm" title="Visit creationix/nvm on GitHub">NVM</a> to the stack.
No problem I thought! Until I resourced my shell and had to wait for two seconds... Yeah,
this goes beyond the &quot;you can&#x27;t have it all&quot; criteria. I often open a shell for a quick ssh session,
running tests, git commands, etc... There has to be a better way!</p><h2 class="heading_container__2UElk"><a class="heading_anchor__PWj4r" id="a-universal-version-manager"></a><a class="heading_link__1aoFY" href="#a-universal-version-manager">A universal version manager</a></h2><p>Enter <a href="https://github.com/asdf-vm/asdf" title="Visit asdf-vm/asdf on GitHub">ASDF</a> and <a href="https://github.com/asdf-vm/asdf-plugins" title="Visit asdf-vm/asdf-plugins on github">friends</a>.
ASDF is a universal and extensible version management tool for many <a href="https://github.com/asdf-vm/asdf-plugins" title="Visit asdf-vm/asdf-plugins on GitHub">programming languages</a>.
It provides the version management tooling and allows you to choose which plugins you would like to install.
Like Node.js, Ruby or Python for instance.</p><p>To get started, go to their <a href="https://github.com/asdf-vm/asdf" title="Visit asdf-vm/asdf on GitHub">github page</a> and install ASDF.</p><p>After installing, you&#x27;ll only have the core of ASDF.
We&#x27;ll need to extend it by adding plugins to it and using those to install versions
of the language we want to use.</p><p>The list of plugins you&#x27;ll install will differ from what I use.
I am a front end developer that works with Ruby / Rails as well as React.
From time to time I also muck around in <a href="https://crystal-lang.org/" title="Visit crystal-lang.org">Crystal</a> or <a href="https://www.rust-lang.org/en-US/" title="Visit rust-lang.org">Rust</a>
(both of which are awesome <!-- -->—<!-- --> check them out!). So I would head to the <a href="https://github.com/asdf-vm/asdf-plugins" title="Visit asdf-vm plugins page">plugins page</a>
and look for plugins for those programming languages. The following is what I use:</p><ul><li><p><a href="https://github.com/asdf-vm/asdf-ruby" title="Visit asdf-vm-asdf-ruby">asdf-vm/asdf-ruby</a></p></li><li><p><a href="https://github.com/asdf-vm/asdf-nodejs" title="Visit asdf-vm/asdf-nodejs on GitHub">asdf-vm/asdf-nodejs</a></p></li><li><p><a href="https://github.com/code-lever/asdf-rust" title="Visit code-lever/asdf-rust on GitHub">code-lever/asdf-rust</a></p></li><li><p><a href="https://github.com/asdf-community/asdf-crystal" title="Visit asdf-community/asdf-crystal on GitHub">asdf-community/asdf-crystal</a></p></li></ul><p>There are installation instructions on every plugin repo. Sometimes, steps
for migrating from your old version manager are also included.
For Ruby using RVM, the migration is as easy as moving <code>~/.rvm/rubies</code> to <code>~/.asdf/installs/ruby.</code></p><h2 class="heading_container__2UElk"><a class="heading_anchor__PWj4r" id="sounds-smooth-any-bumps-along-the-way"></a><a class="heading_link__1aoFY" href="#sounds-smooth-any-bumps-along-the-way">Sounds smooth, any bumps along the way?</a></h2><p>It could be that gems and even Ruby versions will not work. If you run into this issue,
run <code>asdf reshim [language]</code> and restart your shell to fix any broken paths.</p><p>If the problem persists, you can run <code>asdf current [language]</code> to find the current version.
It will also print the path to the version file that defined it.
This is much simpler than running a mixture of <code>ls</code> and <code>grep</code> to find out where that version comes from.</p><p>If you see the following after running <code>asdf current [language]</code>:</p><blockquote><p>No version set for <!-- -->[language]</p></blockquote><p>It means that you haven&#x27;t set or installed any versions for that language.
If you haven&#x27;t installed a version, run <code>asdf list-all [language]</code>.
This will list all the available versions that ASDF can install. Choose a version and run
<code>asdf install [language] [version]</code> to install it.</p><p>If the plugin still doesn&#x27;t work, run <code>asdf global [language] [version]</code> which will create a <code>~/.tool-versions</code> file.
The language and version info will be stored and ASDF will attempt to load that version.</p><p>To set a specific version in a directory, <code>cd</code> to it and run
<code>asdf local [language] [version]</code>. ASDF will use a local version over a global version.</p><p>After migrating from RVM, I had to rename my rubies.
RVM stored them in the format of <code>ruby-[major]-[minor]-[patch]-p[ruby-patch]</code>.
This caused ASDF not to switch after running <code>asdf local ruby 2.4.1</code> because the folder
name differed from the version input. Which meant I had to run <code>asdf local ruby ruby-2.4.1</code>.
If a language is already specified, I&#x27;d rather not bother typing it again.
Removing the <code>ruby-</code> prefix from the directory names in <code>~/.asdf/installs/ruby</code> fixed it.
Running <code>asdf local ruby 2.4.1</code> switched perfect afterwards.</p><h2 class="heading_container__2UElk"><a class="heading_anchor__PWj4r" id="extra-s"></a><a class="heading_link__1aoFY" href="#extra-s">Extra&#x27;s</a></h2><p>A feature of the <code>asdf-ruby</code> plugin is that it can install a set of <a href="https://github.com/asdf-vm/asdf-ruby#default-gems" title="Visit asdf-vm/asdf-ruby section on default gems">default gems</a>
specified in a <code>~/.default-gems file</code>. I love this one as I&#x27;ll never have to run <code>gem install pry</code> again!</p><p>What RVM additionally offers that I have not seen in ASDF is the option to create a gemset.
This was and still is a useful feature if you&#x27;re doing Ruby projects involving lots of different
gems or even testing with specific gems. I rarely felt the need to create a gemset myself.
Thus not having this feature did not have a lot of impact on my workflow (yet).
I&#x27;m not sure if NVM adds any extra functionality, either way I think ASDF will fill the
gaps because of how it was designed and how it can be extended.</p><p>Finally, I added a <code>~/.asdfrc</code> file containing: <code>legacy_version_file = yes</code>.
This enables ASDF read all version files we know and love.</p><h2 class="heading_container__2UElk"><a class="heading_anchor__PWj4r" id="conclusion"></a><a class="heading_link__1aoFY" href="#conclusion">Conclusion</a></h2><p>As for my shell time, it&#x27;s back where it was with only RVM. But nothing messes with my <code>cd</code> command anymore.
I also don&#x27;t have to keep adding these noisy <code>source</code> lines to <a href="https://github.com/SidOfc/dotfiles" title="Visit SidOfc/dotfiles on GitHub">my dotfiles</a>.</p><p>ASDF is still quite new and at the time of writing, there are few integrations.
This means that if you use <code>capistrano</code> to deploy using RVM for example, you won&#x27;t be able to do that using ASDF just yet.
But as mentioned above, someone somewhere will fix that gap or you could give it a shot yourself!</p><p>I hope you&#x27;ve learned something from this post and also that you will choose to switch to ASDF.
Not because it&#x27;s better per-se but because it&#x27;s universal and extensible and you now no longer have
to worry about version managers! Install a plugin and you&#x27;re done! A plugin system and a management system,
bundled in 3 simple commands with a common interface. ASDF and I will be friends for a long time :)</p><p>Cheers!</p><p><em>Many thanks to <a href="https://medium.com/@vvangemert" title="Visit Vincent van Gemert on Medium">@vvgemert</a> for proofreading!</em></p><p>👋</p></div><a tabindex="0" class="button_button__LVJFE" href="/">Back</a></article></main><footer class="layout_footer__2cV3b"><strong>©</strong> sidneyliebrand.io<!-- --> <!-- -->2021</footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Switching to ASDF version manager","description":"Depending on how many languages you program in, getting all their version managers installed, added to \u003ccode\u003e$PATH\u003c/code\u003e, configured etc... becomes quite a pain when setting up a new system, or even figuring out how this one works because you've used something else for a while.","published":"2017-08-15T21:04:44Z","readTimeInMinutes":5,"source":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(Media, {\n    invertDark: true,\n    src: \"/media/posts/asdfmovie-banner.svg\",\n    alt: \"asdfmovie quote from youtube\",\n    width: \"356\",\n    height: \"200\",\n    mdxType: \"Media\"\n  }), mdx(\"p\", null, \"Version management tools for programming languages are a common thing in (web-)developer land.\\nI started to wonder if there was an all-in-one version management tool.\\nI want this because as I learn more and do more, I will need more version managers that all\\nslow down my shell. So lets prevent that shall we!\"), mdx(\"p\", null, \"I've always used \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://rvm.io\",\n    \"title\": \"Visit rvm.io\"\n  }, \"RVM\"), \" in the past without problem, the shell took about half a\\nsecond to load and that was acceptable. I mean, you can't have it all right :)\"), mdx(\"p\", null, \"Aside from sourcing good old RVM, recently I also added \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/creationix/nvm\",\n    \"title\": \"Visit creationix/nvm on GitHub\"\n  }, \"NVM\"), \" to the stack.\\nNo problem I thought! Until I resourced my shell and had to wait for two seconds... Yeah,\\nthis goes beyond the \\\"you can't have it all\\\" criteria. I often open a shell for a quick ssh session,\\nrunning tests, git commands, etc... There has to be a better way!\"), mdx(\"h2\", null, \"A universal version manager\"), mdx(\"p\", null, \"Enter \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/asdf-vm/asdf\",\n    \"title\": \"Visit asdf-vm/asdf on GitHub\"\n  }, \"ASDF\"), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/asdf-vm/asdf-plugins\",\n    \"title\": \"Visit asdf-vm/asdf-plugins on github\"\n  }, \"friends\"), \".\\nASDF is a universal and extensible version management tool for many \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/asdf-vm/asdf-plugins\",\n    \"title\": \"Visit asdf-vm/asdf-plugins on GitHub\"\n  }, \"programming languages\"), \".\\nIt provides the version management tooling and allows you to choose which plugins you would like to install.\\nLike Node.js, Ruby or Python for instance.\"), mdx(\"p\", null, \"To get started, go to their \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/asdf-vm/asdf\",\n    \"title\": \"Visit asdf-vm/asdf on GitHub\"\n  }, \"github page\"), \" and install ASDF.\"), mdx(\"p\", null, \"After installing, you'll only have the core of ASDF.\\nWe'll need to extend it by adding plugins to it and using those to install versions\\nof the language we want to use.\"), mdx(\"p\", null, \"The list of plugins you'll install will differ from what I use.\\nI am a front end developer that works with Ruby / Rails as well as React.\\nFrom time to time I also muck around in \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://crystal-lang.org/\",\n    \"title\": \"Visit crystal-lang.org\"\n  }, \"Crystal\"), \" or \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.rust-lang.org/en-US/\",\n    \"title\": \"Visit rust-lang.org\"\n  }, \"Rust\"), \"\\n(both of which are awesome \", \"\\u2014\", \" check them out!). So I would head to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/asdf-vm/asdf-plugins\",\n    \"title\": \"Visit asdf-vm plugins page\"\n  }, \"plugins page\"), \"\\nand look for plugins for those programming languages. The following is what I use:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/asdf-vm/asdf-ruby\",\n    \"title\": \"Visit asdf-vm-asdf-ruby\"\n  }, \"asdf-vm/asdf-ruby\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/asdf-vm/asdf-nodejs\",\n    \"title\": \"Visit asdf-vm/asdf-nodejs on GitHub\"\n  }, \"asdf-vm/asdf-nodejs\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/code-lever/asdf-rust\",\n    \"title\": \"Visit code-lever/asdf-rust on GitHub\"\n  }, \"code-lever/asdf-rust\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/asdf-community/asdf-crystal\",\n    \"title\": \"Visit asdf-community/asdf-crystal on GitHub\"\n  }, \"asdf-community/asdf-crystal\")))), mdx(\"p\", null, \"There are installation instructions on every plugin repo. Sometimes, steps\\nfor migrating from your old version manager are also included.\\nFor Ruby using RVM, the migration is as easy as moving \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"~/.rvm/rubies\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"~/.asdf/installs/ruby.\")), mdx(\"h2\", null, \"Sounds smooth, any bumps along the way?\"), mdx(\"p\", null, \"It could be that gems and even Ruby versions will not work. If you run into this issue,\\nrun \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"asdf reshim [language]\"), \" and restart your shell to fix any broken paths.\"), mdx(\"p\", null, \"If the problem persists, you can run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"asdf current [language]\"), \" to find the current version.\\nIt will also print the path to the version file that defined it.\\nThis is much simpler than running a mixture of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ls\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"grep\"), \" to find out where that version comes from.\"), mdx(\"p\", null, \"If you see the following after running \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"asdf current [language]\"), \":\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"No version set for \", \"[language]\")), mdx(\"p\", null, \"It means that you haven't set or installed any versions for that language.\\nIf you haven't installed a version, run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"asdf list-all [language]\"), \".\\nThis will list all the available versions that ASDF can install. Choose a version and run\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"asdf install [language] [version]\"), \" to install it.\"), mdx(\"p\", null, \"If the plugin still doesn't work, run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"asdf global [language] [version]\"), \" which will create a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"~/.tool-versions\"), \" file.\\nThe language and version info will be stored and ASDF will attempt to load that version.\"), mdx(\"p\", null, \"To set a specific version in a directory, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cd\"), \" to it and run\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"asdf local [language] [version]\"), \". ASDF will use a local version over a global version.\"), mdx(\"p\", null, \"After migrating from RVM, I had to rename my rubies.\\nRVM stored them in the format of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ruby-[major]-[minor]-[patch]-p[ruby-patch]\"), \".\\nThis caused ASDF not to switch after running \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"asdf local ruby 2.4.1\"), \" because the folder\\nname differed from the version input. Which meant I had to run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"asdf local ruby ruby-2.4.1\"), \".\\nIf a language is already specified, I'd rather not bother typing it again.\\nRemoving the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ruby-\"), \" prefix from the directory names in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"~/.asdf/installs/ruby\"), \" fixed it.\\nRunning \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"asdf local ruby 2.4.1\"), \" switched perfect afterwards.\"), mdx(\"h2\", null, \"Extra's\"), mdx(\"p\", null, \"A feature of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"asdf-ruby\"), \" plugin is that it can install a set of \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/asdf-vm/asdf-ruby#default-gems\",\n    \"title\": \"Visit asdf-vm/asdf-ruby section on default gems\"\n  }, \"default gems\"), \"\\nspecified in a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"~/.default-gems file\"), \". I love this one as I'll never have to run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gem install pry\"), \" again!\"), mdx(\"p\", null, \"What RVM additionally offers that I have not seen in ASDF is the option to create a gemset.\\nThis was and still is a useful feature if you're doing Ruby projects involving lots of different\\ngems or even testing with specific gems. I rarely felt the need to create a gemset myself.\\nThus not having this feature did not have a lot of impact on my workflow (yet).\\nI'm not sure if NVM adds any extra functionality, either way I think ASDF will fill the\\ngaps because of how it was designed and how it can be extended.\"), mdx(\"p\", null, \"Finally, I added a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"~/.asdfrc\"), \" file containing: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"legacy_version_file = yes\"), \".\\nThis enables ASDF read all version files we know and love.\"), mdx(\"h2\", null, \"Conclusion\"), mdx(\"p\", null, \"As for my shell time, it's back where it was with only RVM. But nothing messes with my \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cd\"), \" command anymore.\\nI also don't have to keep adding these noisy \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"source\"), \" lines to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/SidOfc/dotfiles\",\n    \"title\": \"Visit SidOfc/dotfiles on GitHub\"\n  }, \"my dotfiles\"), \".\"), mdx(\"p\", null, \"ASDF is still quite new and at the time of writing, there are few integrations.\\nThis means that if you use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"capistrano\"), \" to deploy using RVM for example, you won't be able to do that using ASDF just yet.\\nBut as mentioned above, someone somewhere will fix that gap or you could give it a shot yourself!\"), mdx(\"p\", null, \"I hope you've learned something from this post and also that you will choose to switch to ASDF.\\nNot because it's better per-se but because it's universal and extensible and you now no longer have\\nto worry about version managers! Install a plugin and you're done! A plugin system and a management system,\\nbundled in 3 simple commands with a common interface. ASDF and I will be friends for a long time :)\"), mdx(\"p\", null, \"Cheers!\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Many thanks to \", mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"https://medium.com/@vvangemert\",\n    \"title\": \"Visit Vincent van Gemert on Medium\"\n  }, \"@vvgemert\"), \" for proofreading!\")), mdx(\"p\", null, \"\\uD83D\\uDC4B\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cfigure class=\"media_figure__1BF98 media_invertDark__1FMJX\"\u003e\u003cdiv class=\"lazyload-wrapper \"\u003e\u003cdiv style=\"padding-bottom:56.17977528089888%\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cfigcaption class=\"media_alt__xSx7S\"\u003easdfmovie quote from youtube\u003c/figcaption\u003e\u003c/figure\u003e\u003cp\u003eVersion management tools for programming languages are a common thing in (web-)developer land.\nI started to wonder if there was an all-in-one version management tool.\nI want this because as I learn more and do more, I will need more version managers that all\nslow down my shell. So lets prevent that shall we!\u003c/p\u003e\u003cp\u003eI\u0026#x27;ve always used \u003ca href=\"https://rvm.io\" title=\"Visit rvm.io\"\u003eRVM\u003c/a\u003e in the past without problem, the shell took about half a\nsecond to load and that was acceptable. I mean, you can\u0026#x27;t have it all right :)\u003c/p\u003e\u003cp\u003eAside from sourcing good old RVM, recently I also added \u003ca href=\"https://github.com/creationix/nvm\" title=\"Visit creationix/nvm on GitHub\"\u003eNVM\u003c/a\u003e to the stack.\nNo problem I thought! Until I resourced my shell and had to wait for two seconds... Yeah,\nthis goes beyond the \u0026quot;you can\u0026#x27;t have it all\u0026quot; criteria. I often open a shell for a quick ssh session,\nrunning tests, git commands, etc... There has to be a better way!\u003c/p\u003e\u003ch2 class=\"heading_container__2UElk\"\u003e\u003ca class=\"heading_anchor__PWj4r\" id=\"a-universal-version-manager\"\u003e\u003c/a\u003e\u003ca class=\"heading_link__1aoFY\" href=\"#a-universal-version-manager\"\u003eA universal version manager\u003c/a\u003e\u003c/h2\u003e\u003cp\u003eEnter \u003ca href=\"https://github.com/asdf-vm/asdf\" title=\"Visit asdf-vm/asdf on GitHub\"\u003eASDF\u003c/a\u003e and \u003ca href=\"https://github.com/asdf-vm/asdf-plugins\" title=\"Visit asdf-vm/asdf-plugins on github\"\u003efriends\u003c/a\u003e.\nASDF is a universal and extensible version management tool for many \u003ca href=\"https://github.com/asdf-vm/asdf-plugins\" title=\"Visit asdf-vm/asdf-plugins on GitHub\"\u003eprogramming languages\u003c/a\u003e.\nIt provides the version management tooling and allows you to choose which plugins you would like to install.\nLike Node.js, Ruby or Python for instance.\u003c/p\u003e\u003cp\u003eTo get started, go to their \u003ca href=\"https://github.com/asdf-vm/asdf\" title=\"Visit asdf-vm/asdf on GitHub\"\u003egithub page\u003c/a\u003e and install ASDF.\u003c/p\u003e\u003cp\u003eAfter installing, you\u0026#x27;ll only have the core of ASDF.\nWe\u0026#x27;ll need to extend it by adding plugins to it and using those to install versions\nof the language we want to use.\u003c/p\u003e\u003cp\u003eThe list of plugins you\u0026#x27;ll install will differ from what I use.\nI am a front end developer that works with Ruby / Rails as well as React.\nFrom time to time I also muck around in \u003ca href=\"https://crystal-lang.org/\" title=\"Visit crystal-lang.org\"\u003eCrystal\u003c/a\u003e or \u003ca href=\"https://www.rust-lang.org/en-US/\" title=\"Visit rust-lang.org\"\u003eRust\u003c/a\u003e\n(both of which are awesome \u003c!-- --\u003e—\u003c!-- --\u003e check them out!). So I would head to the \u003ca href=\"https://github.com/asdf-vm/asdf-plugins\" title=\"Visit asdf-vm plugins page\"\u003eplugins page\u003c/a\u003e\nand look for plugins for those programming languages. The following is what I use:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e\u003ca href=\"https://github.com/asdf-vm/asdf-ruby\" title=\"Visit asdf-vm-asdf-ruby\"\u003easdf-vm/asdf-ruby\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca href=\"https://github.com/asdf-vm/asdf-nodejs\" title=\"Visit asdf-vm/asdf-nodejs on GitHub\"\u003easdf-vm/asdf-nodejs\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca href=\"https://github.com/code-lever/asdf-rust\" title=\"Visit code-lever/asdf-rust on GitHub\"\u003ecode-lever/asdf-rust\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca href=\"https://github.com/asdf-community/asdf-crystal\" title=\"Visit asdf-community/asdf-crystal on GitHub\"\u003easdf-community/asdf-crystal\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThere are installation instructions on every plugin repo. Sometimes, steps\nfor migrating from your old version manager are also included.\nFor Ruby using RVM, the migration is as easy as moving \u003ccode\u003e~/.rvm/rubies\u003c/code\u003e to \u003ccode\u003e~/.asdf/installs/ruby.\u003c/code\u003e\u003c/p\u003e\u003ch2 class=\"heading_container__2UElk\"\u003e\u003ca class=\"heading_anchor__PWj4r\" id=\"sounds-smooth-any-bumps-along-the-way\"\u003e\u003c/a\u003e\u003ca class=\"heading_link__1aoFY\" href=\"#sounds-smooth-any-bumps-along-the-way\"\u003eSounds smooth, any bumps along the way?\u003c/a\u003e\u003c/h2\u003e\u003cp\u003eIt could be that gems and even Ruby versions will not work. If you run into this issue,\nrun \u003ccode\u003easdf reshim [language]\u003c/code\u003e and restart your shell to fix any broken paths.\u003c/p\u003e\u003cp\u003eIf the problem persists, you can run \u003ccode\u003easdf current [language]\u003c/code\u003e to find the current version.\nIt will also print the path to the version file that defined it.\nThis is much simpler than running a mixture of \u003ccode\u003els\u003c/code\u003e and \u003ccode\u003egrep\u003c/code\u003e to find out where that version comes from.\u003c/p\u003e\u003cp\u003eIf you see the following after running \u003ccode\u003easdf current [language]\u003c/code\u003e:\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003eNo version set for \u003c!-- --\u003e[language]\u003c/p\u003e\u003c/blockquote\u003e\u003cp\u003eIt means that you haven\u0026#x27;t set or installed any versions for that language.\nIf you haven\u0026#x27;t installed a version, run \u003ccode\u003easdf list-all [language]\u003c/code\u003e.\nThis will list all the available versions that ASDF can install. Choose a version and run\n\u003ccode\u003easdf install [language] [version]\u003c/code\u003e to install it.\u003c/p\u003e\u003cp\u003eIf the plugin still doesn\u0026#x27;t work, run \u003ccode\u003easdf global [language] [version]\u003c/code\u003e which will create a \u003ccode\u003e~/.tool-versions\u003c/code\u003e file.\nThe language and version info will be stored and ASDF will attempt to load that version.\u003c/p\u003e\u003cp\u003eTo set a specific version in a directory, \u003ccode\u003ecd\u003c/code\u003e to it and run\n\u003ccode\u003easdf local [language] [version]\u003c/code\u003e. ASDF will use a local version over a global version.\u003c/p\u003e\u003cp\u003eAfter migrating from RVM, I had to rename my rubies.\nRVM stored them in the format of \u003ccode\u003eruby-[major]-[minor]-[patch]-p[ruby-patch]\u003c/code\u003e.\nThis caused ASDF not to switch after running \u003ccode\u003easdf local ruby 2.4.1\u003c/code\u003e because the folder\nname differed from the version input. Which meant I had to run \u003ccode\u003easdf local ruby ruby-2.4.1\u003c/code\u003e.\nIf a language is already specified, I\u0026#x27;d rather not bother typing it again.\nRemoving the \u003ccode\u003eruby-\u003c/code\u003e prefix from the directory names in \u003ccode\u003e~/.asdf/installs/ruby\u003c/code\u003e fixed it.\nRunning \u003ccode\u003easdf local ruby 2.4.1\u003c/code\u003e switched perfect afterwards.\u003c/p\u003e\u003ch2 class=\"heading_container__2UElk\"\u003e\u003ca class=\"heading_anchor__PWj4r\" id=\"extra-s\"\u003e\u003c/a\u003e\u003ca class=\"heading_link__1aoFY\" href=\"#extra-s\"\u003eExtra\u0026#x27;s\u003c/a\u003e\u003c/h2\u003e\u003cp\u003eA feature of the \u003ccode\u003easdf-ruby\u003c/code\u003e plugin is that it can install a set of \u003ca href=\"https://github.com/asdf-vm/asdf-ruby#default-gems\" title=\"Visit asdf-vm/asdf-ruby section on default gems\"\u003edefault gems\u003c/a\u003e\nspecified in a \u003ccode\u003e~/.default-gems file\u003c/code\u003e. I love this one as I\u0026#x27;ll never have to run \u003ccode\u003egem install pry\u003c/code\u003e again!\u003c/p\u003e\u003cp\u003eWhat RVM additionally offers that I have not seen in ASDF is the option to create a gemset.\nThis was and still is a useful feature if you\u0026#x27;re doing Ruby projects involving lots of different\ngems or even testing with specific gems. I rarely felt the need to create a gemset myself.\nThus not having this feature did not have a lot of impact on my workflow (yet).\nI\u0026#x27;m not sure if NVM adds any extra functionality, either way I think ASDF will fill the\ngaps because of how it was designed and how it can be extended.\u003c/p\u003e\u003cp\u003eFinally, I added a \u003ccode\u003e~/.asdfrc\u003c/code\u003e file containing: \u003ccode\u003elegacy_version_file = yes\u003c/code\u003e.\nThis enables ASDF read all version files we know and love.\u003c/p\u003e\u003ch2 class=\"heading_container__2UElk\"\u003e\u003ca class=\"heading_anchor__PWj4r\" id=\"conclusion\"\u003e\u003c/a\u003e\u003ca class=\"heading_link__1aoFY\" href=\"#conclusion\"\u003eConclusion\u003c/a\u003e\u003c/h2\u003e\u003cp\u003eAs for my shell time, it\u0026#x27;s back where it was with only RVM. But nothing messes with my \u003ccode\u003ecd\u003c/code\u003e command anymore.\nI also don\u0026#x27;t have to keep adding these noisy \u003ccode\u003esource\u003c/code\u003e lines to \u003ca href=\"https://github.com/SidOfc/dotfiles\" title=\"Visit SidOfc/dotfiles on GitHub\"\u003emy dotfiles\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eASDF is still quite new and at the time of writing, there are few integrations.\nThis means that if you use \u003ccode\u003ecapistrano\u003c/code\u003e to deploy using RVM for example, you won\u0026#x27;t be able to do that using ASDF just yet.\nBut as mentioned above, someone somewhere will fix that gap or you could give it a shot yourself!\u003c/p\u003e\u003cp\u003eI hope you\u0026#x27;ve learned something from this post and also that you will choose to switch to ASDF.\nNot because it\u0026#x27;s better per-se but because it\u0026#x27;s universal and extensible and you now no longer have\nto worry about version managers! Install a plugin and you\u0026#x27;re done! A plugin system and a management system,\nbundled in 3 simple commands with a common interface. ASDF and I will be friends for a long time :)\u003c/p\u003e\u003cp\u003eCheers!\u003c/p\u003e\u003cp\u003e\u003cem\u003eMany thanks to \u003ca href=\"https://medium.com/@vvangemert\" title=\"Visit Vincent van Gemert on Medium\"\u003e@vvgemert\u003c/a\u003e for proofreading!\u003c/em\u003e\u003c/p\u003e\u003cp\u003e👋\u003c/p\u003e","scope":{"title":"Switching to ASDF version manager","description":"Depending on how many languages you program in, getting all their version managers installed, added to \u003ccode\u003e$PATH\u003c/code\u003e, configured etc... becomes quite a pain when setting up a new system, or even figuring out how this one works because you've used something else for a while.","published":"2017-08-15T21:04:44Z"}},"slug":"switching-to-asdf-version-manager"},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"switching-to-asdf-version-manager"},"buildId":"WxXi2iS9yat3sVCMkl0xH","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-ff94e68042added27a93.js"></script><script src="/_next/static/chunks/main-c64519ed79327e51c7fd.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.29f9e2f3d4a33bafbaa5.js" async=""></script><script src="/_next/static/chunks/commons.2315b3822f3fa12e695d.js" async=""></script><script src="/_next/static/chunks/62e1beb3a59d93297dd568d6addecfcbe54736d1.c92d76e0fa573fc224b4.js" async=""></script><script src="/_next/static/chunks/pages/_app-3a12a435f97cdf8bd248.js" async=""></script><script src="/_next/static/chunks/89c7192737f5dae381690d2d2c3016603346826c.c0a4006c868814e5158c.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-3821d790ddd260164b96.js" async=""></script><script src="/_next/static/WxXi2iS9yat3sVCMkl0xH/_buildManifest.js" async=""></script><script src="/_next/static/WxXi2iS9yat3sVCMkl0xH/_ssgManifest.js" async=""></script></body></html>