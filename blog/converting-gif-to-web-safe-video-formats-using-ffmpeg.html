<!DOCTYPE html><html lang="en"><head><script>
                        try {
                            var theme = localStorage.getItem('theme');
                            if (theme) {
                                var html = document.querySelector('html');
                                var style = document.createElement('style');
                                var themes = {"default":{"page-bg":"#fff","page-fg":"#000","page-accent-fg":"#666","header-shadow":"#ccc","primary-bg":"#651eea","primary-fg":"#ffffff","inline-code-bg":"#e8e8e8","inline-code-fg":"#444","kbd-bg":"#fff","kbd-fg":"#555","addition-fg":"#00852c","deletion-fg":"#d33947","star-fg":"#bf9a00","tag-bg":"#fafafa","tag-fg":"#727272","link-fg":"#651eea","selection-bg":"rgba(101, 30, 234, 0.2)"},"dark":{"page-bg":"#111","page-fg":"#eee","page-accent-fg":"#aaa","header-shadow":"#333","primary-bg":"#834de8","primary-fg":"#ffffff","inline-code-bg":"#666","inline-code-fg":"#e8e8e8","kbd-bg":"#666","kbd-fg":"#e8e8e8","addition-fg":"#00cc00","deletion-fg":"#ff0000","star-fg":"#f2d043","tag-bg":"#666","tag-fg":"#e8e8e8","link-fg":"#a676ff","selection-bg":"rgba(131, 77, 232, 0.4)"}};

                                html.setAttribute('class', theme);
                                style.innerHTML = 'html { background-color:' + themes[theme]['page-bg'] + '; }';

                                document.head.appendChild(style);
                            }
                        } catch (e) {
                        }
                    </script><meta charSet="utf-8"/><title>Converting .gif to web-safe video formats using ffmpeg</title><link rel="cannonical" href="https://sidneyliebrand.io/blog/converting-gif-to-web-safe-video-formats-using-ffmpeg"/><link rel="manifest" href="/site.webmanifest"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#a676ff"/><link rel="icon" sizes="48x48" type="image/icon" href="/favicon.ico"/><link rel="icon" sizes="16x16" type="image/png" href="/favicon-16x16.png"/><link rel="icon" sizes="32x32" type="image/png" href="/favicon-32x32.png"/><link rel="apple-touch-icon" sizes="180x180" type="image/png" href="/apple-touch-icon.png"/><link rel="alternate" type="application/atom+xml" title="The official https://sidneyliebrand.io Atom feed" href="/atom.xml"/><link rel="alternate" type="application/rss+xml" title="The official https://sidneyliebrand.io RSS feed" href="/feed.xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="theme-color" content="#ffffff"/><meta name="msapplication-TileColor" content="#ffc40d"/><meta name="robots" content="index, follow"/><meta name="author" content="Sidney Liebrand"/><meta name="description" content="This post shows how to convert .gif images to web-safe video formats using ffmpeg cli. These formats produce smaller files which means less data to load!"/><meta property="og:title" content="Converting .gif to web-safe video formats using ffmpeg"/><meta property="og:type" content="website"/><meta property="og:url" content="https://sidneyliebrand.io"/><meta property="og:site_name" content="https://sidneyliebrand.io"/><meta property="og:description" content="This post shows how to convert .gif images to web-safe video formats using ffmpeg cli. These formats produce smaller files which means less data to load!"/><meta name="dc:creator" content="Sidney Liebrand"/><meta name="dc:title" content="Converting .gif to web-safe video formats using ffmpeg"/><meta name="dc:description" content="This post shows how to convert .gif images to web-safe video formats using ffmpeg cli. These formats produce smaller files which means less data to load!"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="@scbydoooo"/><meta name="next-head-count" content="27"/><link rel="preload" href="/_next/static/css/b951d9310e28142ef6ec.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b951d9310e28142ef6ec.css" data-n-g=""/><link rel="preload" href="/_next/static/css/3f91884071f60551592d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3f91884071f60551592d.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-c64519ed79327e51c7fd.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.29f9e2f3d4a33bafbaa5.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.2315b3822f3fa12e695d.js" as="script"/><link rel="preload" href="/_next/static/chunks/62e1beb3a59d93297dd568d6addecfcbe54736d1.0f3508858d84c490014b.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-c695c01c5fa9890886ea.js" as="script"/><link rel="preload" href="/_next/static/chunks/89c7192737f5dae381690d2d2c3016603346826c.3fe8d6de12c9023523b3.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bslug%5D-aaa680a4f9ba2e216bc7.js" as="script"/></head><body><div id="__next"><div class="layout_application__6A4un"><header class="layout_header__3bVjw"><div class="layout_headerFixed__3v8Yi"><div class="layout_headerContent__18ocK"><a class="layout_logo__319hZ" title="View home page" href="/"><span class="layout_logoTopLeft__2TXmp"></span><span class="layout_logoBottomLeft__1VwSz"></span><span class="layout_logoTopRight__36KVG"></span><span class="layout_logoBottomRight__34Roq"></span></a><nav class="layout_navigation__19PAD"><a title="View curriculum vitae" href="/cv">C.V.</a><a title="Visit Sidney Liebrand&#x27;s GitHub page" href="https://github.com/SidOfc"><figure class="layout_github__23ZLB media_figure__1BF98 media_invertDark__1FMJX"><div class="lazyload-wrapper "><div style="padding-bottom:100%"></div></div></figure></a><div tabindex="0" title="Toggle dark theme" class="dark-mode-toggle_wrapper__bHDaz"><svg fill="#000000" class="dark-mode-toggle_toggle__2rc2d dark-mode-toggle_toggleDark__2f6wj" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"></path></svg><svg fill="#000000" class="dark-mode-toggle_toggle__2rc2d dark-mode-toggle_toggleLight__1OB2p" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9.5,2c-1.82,0-3.53,0.5-5,1.35c2.99,1.73,5,4.95,5,8.65s-2.01,6.92-5,8.65C5.97,21.5,7.68,22,9.5,22c5.52,0,10-4.48,10-10 S15.02,2,9.5,2z"></path></svg></div></nav></div></div></header><main class="layout_content__2V5t2"><article class="post_post__2uzyE"><h1 class="heading_container__2UElk"><a class="heading_link__1aoFY" href="/blog/converting-gif-to-web-safe-video-formats-using-ffmpeg">Converting .gif to web-safe video formats using ffmpeg</a></h1><span class="post_postData__yktVb text_page-accent-fg__3pARq">By Sidney Liebrand on <!-- -->Feb, 2021<span class="bullet_bullet__2pnOU">â€¢</span>3<!-- --> min read</span><div><p>When recording animated content for my blog posts I use a gif recorder. However,
using <a href="https://caniuse.com/?search=webm" title="View caniuse.com webm support">.webm</a> or <a href="https://caniuse.com/?search=mp4" title="View caniuse.com mp4 support">.mp4</a>
files is usually more efficient and works in pretty much every major browser today.</p><h2 class="heading_container__2UElk"><a class="heading_anchor__PWj4r" id="convert-gif-to"></a><a class="heading_link__1aoFY" href="#convert-gif-to">Convert .gif to .webm</a></h2><p>To convert a .gif file to .webm, use the following command:</p><pre class="prism-code language-shell" style="background-color:#2a2734;color:#9a86fd"><div class="token-line" style="color:#9a86fd"><span class="token plain">ffmpeg -i file.gif -c vp9 -b:v </span><span class="token number" style="color:#e09142">0</span><span class="token plain"> -crf </span><span class="token number" style="color:#e09142">40</span><span class="token plain"> file.webm</span></div></pre><p>This will output a .webm file that works in most browsers, but what are these options
doing exactly? Let&#x27;s dive in:</p><ul><li><code>-i</code>: Specifies the <em>input file</em>, in this case <code>file.gif</code>.</li><li><code>-c</code>: Specifies the <em>codec</em>, <code>vp9</code> works in most browsers.</li><li><code>-b:v</code>: Specifies the <em>video bitrate</em>, <code>0</code> allows us to specify the quality via the <code>-crf</code> option.</li><li><code>-crf</code>: Specifies the <em>quality</em>, ranges between 0-63, lower means better quality.</li></ul><p>More detailed explanations about the options can be found <a href="https://trac.ffmpeg.org/wiki/Encode/VP9" title="Visit ffmpeg VP9 encode page">here</a>.</p><p>These .webm files will suffer a little bit of quality loss, but if more quality is
needed the <code>-crf</code> flag can be set to a lower value easily. With these settings
the .webm file is (on average) <strong>60%</strong> smaller than the .gif file.</p><p>When we check caniuse, <a href="https://caniuse.com/?search=webm" title="View caniuse.com webm support">.webm support</a> looks good too, mostly.
Indeed the only real reason today to use .mp4 on the web is to support Internet Explorer.</p><section class="caniuse_caniuse__3HlK-"><div class="caniuse_header__1qoVv"><span class="caniuse_headerLeft__15yBP"><span class="caniuse_title__2oGXT">WebM video format</span><p class="caniuse_description__2HIQ6"><span>Multimedia format designed to provide a royalty-free, high-quality open video compression format for use with HTML5 video. WebM supports the video codec VP8 and VP9.</span></p></span><span class="caniuse_headerRight__2M4o8"><span class="caniuse_textRow__2mcRb caniuse_rowStatus__27IsJ"><span class="caniuse_status__2qCZ_">other</span><span class="bullet_bullet__2pnOU">â€¢</span><span class="caniuse_color-yellow__35MaB">%<!-- -->76.78</span></span><span class="caniuse_textRow__2mcRb"><a href="https://caniuse.com/webm" rel="noreferrer" target="_blank" title="View on caniuse.com">caniuse</a></span><span class="caniuse_textRow__2mcRb"><a href="https://www.webmproject.org" rel="noreferrer" target="_blank" title="View spec on w3.org">spec</a></span></span></div><div class="caniuse_table__4Rda8"><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="ie">IE</div><div class="caniuse_cell__JKZsr caniuse_flag-p__2XKIQ"><div class="caniuse_notes__1q1Q6"><span>3</span></div>9</div><div class="caniuse_cell__JKZsr caniuse_flag-p__2XKIQ"><div class="caniuse_notes__1q1Q6"><span>3</span></div>10</div><div class="caniuse_cell__JKZsr caniuse_flag-p__2XKIQ"><div class="caniuse_notes__1q1Q6"><span>3</span></div>11</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="edge">Edge</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">86</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">87</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">88</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="firefox">Firefox</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">83</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">84</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">85</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">86</div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="chrome">Chrome</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">86</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">87</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">88</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">89</div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="safari">Safari</div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe"><div class="caniuse_notes__1q1Q6"><span>4</span></div>13</div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe"><div class="caniuse_notes__1q1Q6"><span>4</span></div>13.1</div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe"><div class="caniuse_notes__1q1Q6"><span>4</span><span>5</span><span>6</span></div>14</div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe"><div class="caniuse_notes__1q1Q6"><span>4</span><span>5</span><span>6</span></div>TP</div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="opera">Opera</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">71</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">72</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">73</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="and_ff">Firefox for Android</div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">85</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="and_chr">Chrome for Android</div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">88</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="ios_saf">iOS Safari</div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe"><div class="caniuse_notes__1q1Q6"><span>4</span></div>13.3</div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe"><div class="caniuse_notes__1q1Q6"><span>4</span></div>13.4-13.7</div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe"><div class="caniuse_notes__1q1Q6"><span>4</span><span>5</span></div>14.0-14.4</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="op_mob">Opera Mobile</div><div class="caniuse_cell__JKZsr caniuse_flag-n__1fo0e">12</div><div class="caniuse_cell__JKZsr caniuse_flag-n__1fo0e">12.1</div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe"><div class="caniuse_notes__1q1Q6"><span>1</span></div>59</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="op_mini">Opera Mini</div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr caniuse_flag-n__1fo0e">all</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="android">Android Browser</div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe"><div class="caniuse_notes__1q1Q6"><span>1</span></div>4.4</div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe"><div class="caniuse_notes__1q1Q6"><span>1</span></div>4.4.3-4.4.4</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">81</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="samsung">Samsung Internet</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">11.1-11.2</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">12.0</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">13.0</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="and_uc">UC Browser for Android</div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">12.12</div><div class="caniuse_cell__JKZsr">Â </div></div></div><div class="caniuse_legendAndNotes__OLmrF"><div class="caniuse_legend__22Qq3"><div class="caniuse_legendItem__gj1r_ caniuse_flag-y__2oU3A">supported</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-n__1fo0e">unsupported</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-a__2KAGe">partial</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-x__3usei">prefixed</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-p__2XKIQ">polyfill</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-u__2eqhH">unknown</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-d__tmfZZ">disabled</div></div><button type="button" class="caniuse_notesToggle__1fDzM">Show<!-- --> <!-- -->5 notes</button></div></section><h2 class="heading_container__2UElk"><a class="heading_anchor__PWj4r" id="convert-gif-to"></a><a class="heading_link__1aoFY" href="#convert-gif-to">Convert .gif to .mp4</a></h2><p>To convert a .gif file to a web-safe .mp4, use the following command:</p><pre class="prism-code language-shell" style="background-color:#2a2734;color:#9a86fd"><div class="token-line" style="color:#9a86fd"><span class="token plain">ffmpeg -i file.gif -movflags +faststart -pix_fmt yuv420p </span><span class="token punctuation" style="color:#6c6783">\</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="token plain">       -vf </span><span class="token string" style="color:#ffcc99">&quot;scale=trunc(iw/2)*2:trunc(ih/2)*2&quot;</span><span class="token plain"> file.mp4</span></div></pre><p>Let&#x27;s also cover the options for this one:</p><ul><li><code>-i</code>: Specifies the <em>input file</em>, in this case <code>file.gif</code>.</li><li><code>-movflags</code>: For web video we can specify <code>+faststart</code> to allow the video to start playing before the download is complete.</li><li><code>-pix_fmt</code>: The default <code>yuv444p</code> can&#x27;t be played by some mobile browsers so we set it to <code>yuv420p</code> instead.</li><li><code>-vf</code>: This flag is allows us to set <code>&quot;scale=trunc(iw/2)*2:trunc(ih/2)*2&quot;</code> to ensure the video width and height are divisible by 2 which would otherwise cause an error when using <code>yuv420p</code>.</li></ul><p>More detailed explanations about the options can be found <a href="https://trac.ffmpeg.org/wiki/Encode/H.264" title="Visit ffmpeg H.264 encode page">here</a>.
Additionally, <a href="https://github.com/manateelazycat/deepin-screen-recorder/commit/a49612faed28fc70a98aa117839cc67d96b99761" title="Read details about pix_fmt and vf flags command line flags">this commit</a>
provides some additional context about <code>-pix_fmt</code> and <code>-vf</code>.</p><p>The .mp4 file is (on average) <strong>50%</strong> smaller than the .gif file. While less efficient
than .webm, it is still much better than using .gif. Additionally, this .mp4 file is <a href="https://caniuse.com/?search=mp4" title="View caniuse.com mp4 support">widely supported</a>
in nearly all browsers.</p><section class="caniuse_caniuse__3HlK-"><div class="caniuse_header__1qoVv"><span class="caniuse_headerLeft__15yBP"><span class="caniuse_title__2oGXT">MPEG-4/H.264 video format</span><p class="caniuse_description__2HIQ6"><span>Commonly used video compression format.</span></p></span><span class="caniuse_headerRight__2M4o8"><span class="caniuse_textRow__2mcRb caniuse_rowStatus__27IsJ"><span class="caniuse_status__2qCZ_">other</span><span class="bullet_bullet__2pnOU">â€¢</span><span class="caniuse_color-green__3vu2c">%<!-- -->95.7</span></span><span class="caniuse_textRow__2mcRb"><a href="https://caniuse.com/mpeg4" rel="noreferrer" target="_blank" title="View on caniuse.com">caniuse</a></span><span class="caniuse_textRow__2mcRb"><a href="http://ip.hhi.de/imagecom_G1/assets/pdfs/csvt_overview_0305.pdf" rel="noreferrer" target="_blank" title="View spec on w3.org">spec</a></span></span></div><div class="caniuse_table__4Rda8"><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="ie">IE</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">9</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">10</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">11</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="edge">Edge</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">86</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">87</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">88</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="firefox">Firefox</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">83</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">84</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">85</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">86</div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="chrome">Chrome</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">86</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">87</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">88</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">89</div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="safari">Safari</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">13</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">13.1</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">14</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">TP</div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="opera">Opera</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">71</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">72</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">73</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="and_ff">Firefox for Android</div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe"><div class="caniuse_notes__1q1Q6"><span>2</span></div>85</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="and_chr">Chrome for Android</div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">88</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="ios_saf">iOS Safari</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">13.3</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">13.4-13.7</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">14.0-14.4</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="op_mob">Opera Mobile</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">12</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">12.1</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">59</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="op_mini">Opera Mini</div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr caniuse_flag-n__1fo0e">all</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="android">Android Browser</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">4.4</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">4.4.3-4.4.4</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">81</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="samsung">Samsung Internet</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">11.1-11.2</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">12.0</div><div class="caniuse_cell__JKZsr caniuse_flag-y__2oU3A">13.0</div><div class="caniuse_cell__JKZsr">Â </div></div><div class="caniuse_column__c5s8c"><div class="caniuse_browser__3_6Lq" data-name="and_uc">UC Browser for Android</div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr">Â </div><div class="caniuse_cell__JKZsr caniuse_flag-a__2KAGe">12.12</div><div class="caniuse_cell__JKZsr">Â </div></div></div><div class="caniuse_legendAndNotes__OLmrF"><div class="caniuse_legend__22Qq3"><div class="caniuse_legendItem__gj1r_ caniuse_flag-y__2oU3A">supported</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-n__1fo0e">unsupported</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-a__2KAGe">partial</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-x__3usei">prefixed</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-p__2XKIQ">polyfill</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-u__2eqhH">unknown</div><div class="caniuse_legendItem__gj1r_ caniuse_flag-d__tmfZZ">disabled</div></div><button type="button" class="caniuse_notesToggle__1fDzM">Show<!-- --> <!-- -->1 note</button></div></section><h2 class="heading_container__2UElk"><a class="heading_anchor__PWj4r" id="conclusion"></a><a class="heading_link__1aoFY" href="#conclusion">Conclusion</a></h2><p>Hopefully this post made it a little bit easier to understand how to convert
.gif files to .webm or .mp4 using <code>ffmpeg</code>. It a powerful tool that can help us
optimize our usage of animated media on the web. It is definitely worth looking
into if you run a website that displays lots of gifs.</p><p>Until next time :)</p><p>ðŸ‘‹</p></div><a tabindex="0" class="button_button__LVJFE" href="/">Back</a></article></main><footer class="layout_footer__2cV3b"><strong>Â©</strong> sidneyliebrand.io<!-- --> <!-- -->2021</footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Converting .gif to web-safe video formats using ffmpeg","description":"This post shows how to convert .gif images to web-safe video formats using ffmpeg cli. These formats produce smaller files which means less data to load!","published":"2021-02-14T18:30:00Z","readTimeInMinutes":3,"source":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"When recording animated content for my blog posts I use a gif recorder. However,\\nusing \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://caniuse.com/?search=webm\",\n    \"title\": \"View caniuse.com webm support\"\n  }, \".webm\"), \" or \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://caniuse.com/?search=mp4\",\n    \"title\": \"View caniuse.com mp4 support\"\n  }, \".mp4\"), \"\\nfiles is usually more efficient and works in pretty much every major browser today.\"), mdx(\"h2\", null, \"Convert .gif to .webm\"), mdx(\"p\", null, \"To convert a .gif file to .webm, use the following command:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"ffmpeg -i file.gif -c vp9 -b:v 0 -crf 40 file.webm\\n\")), mdx(\"p\", null, \"This will output a .webm file that works in most browsers, but what are these options\\ndoing exactly? Let's dive in:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-i\"), \": Specifies the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"input file\"), \", in this case \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"file.gif\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-c\"), \": Specifies the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"codec\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"vp9\"), \" works in most browsers.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-b:v\"), \": Specifies the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"video bitrate\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"0\"), \" allows us to specify the quality via the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-crf\"), \" option.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-crf\"), \": Specifies the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"quality\"), \", ranges between 0-63, lower means better quality.\")), mdx(\"p\", null, \"More detailed explanations about the options can be found \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://trac.ffmpeg.org/wiki/Encode/VP9\",\n    \"title\": \"Visit ffmpeg VP9 encode page\"\n  }, \"here\"), \".\"), mdx(\"p\", null, \"These .webm files will suffer a little bit of quality loss, but if more quality is\\nneeded the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-crf\"), \" flag can be set to a lower value easily. With these settings\\nthe .webm file is (on average) \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"60%\"), \" smaller than the .gif file.\"), mdx(\"p\", null, \"When we check caniuse, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://caniuse.com/?search=webm\",\n    \"title\": \"View caniuse.com webm support\"\n  }, \".webm support\"), \" looks good too, mostly.\\nIndeed the only real reason today to use .mp4 on the web is to support Internet Explorer.\"), mdx(Caniuse, {\n    data: {\n      \"id\": \"webm\",\n      \"notesByNum\": [{\n        \"note\": 1,\n        \"text\": \"\u003cspan\u003eOlder browser versions did not support all codecs.\u003c/span\u003e\"\n      }, {\n        \"note\": 3,\n        \"text\": \"\u003cspan\u003eCan be enabled in Internet Explorer and Safari for MacOS by manually installing the codecs in the operating system.\u003c/span\u003e\"\n      }, {\n        \"note\": 4,\n        \"text\": \"\u003cspan\u003eSupports \u003ca href=\\\"https://webkit.org/blog/8672\\\"\u003eVP8 codec used in WebRTC\u003c/a\u003e.\u003c/span\u003e\"\n      }, {\n        \"note\": 5,\n        \"text\": \"\u003cspan\u003eSupports \u003ca href=\\\"https://webkit.org/blog/10929\\\"\u003eVP9 codec used in WebRTC\u003c/a\u003e (off by default.)\u003c/span\u003e\"\n      }, {\n        \"note\": 6,\n        \"text\": \"\u003cspan\u003eSupports \u003ca href=\\\"https://bugs.webkit.org/show_bug.cgi?id=216652#c1\\\"\u003eVP9 WebM used in MediaSource\u003c/a\u003e on \u003ca href=\\\"https://trac.webkit.org/changeset/264747/webkit\\\"\u003emacOS Big Sur or later.\u003c/a\u003e\u003c/span\u003e\"\n      }],\n      \"title\": \"WebM video format\",\n      \"description\": \"\u003cspan\u003eMultimedia format designed to provide a royalty-free, high-quality open video compression format for use with HTML5 video. WebM supports the video codec VP8 and VP9.\u003c/span\u003e\",\n      \"status\": \"other\",\n      \"spec\": \"https://www.webmproject.org\",\n      \"usage\": {\n        \"y\": 76.78,\n        \"a\": 18.66\n      },\n      \"stats\": [{\n        \"id\": \"ie\",\n        \"name\": \"IE\",\n        \"versions\": [{\n          \"version\": \"9\",\n          \"flags\": [\"p\"],\n          \"notes\": [3]\n        }, {\n          \"version\": \"10\",\n          \"flags\": [\"p\"],\n          \"notes\": [3]\n        }, {\n          \"version\": \"11\",\n          \"flags\": [\"p\"],\n          \"notes\": [3]\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"edge\",\n        \"name\": \"Edge\",\n        \"versions\": [{\n          \"version\": \"86\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"87\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"88\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"firefox\",\n        \"name\": \"Firefox\",\n        \"versions\": [{\n          \"version\": \"83\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"84\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"85\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"86\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"chrome\",\n        \"name\": \"Chrome\",\n        \"versions\": [{\n          \"version\": \"86\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"87\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"88\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"89\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"safari\",\n        \"name\": \"Safari\",\n        \"versions\": [{\n          \"version\": \"13\",\n          \"flags\": [\"a\"],\n          \"notes\": [4]\n        }, {\n          \"version\": \"13.1\",\n          \"flags\": [\"a\"],\n          \"notes\": [4]\n        }, {\n          \"version\": \"14\",\n          \"flags\": [\"a\"],\n          \"notes\": [4, 5, 6]\n        }, {\n          \"version\": \"TP\",\n          \"flags\": [\"a\"],\n          \"notes\": [4, 5, 6]\n        }]\n      }, {\n        \"id\": \"opera\",\n        \"name\": \"Opera\",\n        \"versions\": [{\n          \"version\": \"71\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"72\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"73\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"and_ff\",\n        \"name\": \"Firefox for Android\",\n        \"versions\": [{\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": \"85\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"and_chr\",\n        \"name\": \"Chrome for Android\",\n        \"versions\": [{\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": \"88\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"ios_saf\",\n        \"name\": \"iOS Safari\",\n        \"versions\": [{\n          \"version\": \"13.3\",\n          \"flags\": [\"a\"],\n          \"notes\": [4]\n        }, {\n          \"version\": \"13.4-13.7\",\n          \"flags\": [\"a\"],\n          \"notes\": [4]\n        }, {\n          \"version\": \"14.0-14.4\",\n          \"flags\": [\"a\"],\n          \"notes\": [4, 5]\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"op_mob\",\n        \"name\": \"Opera Mobile\",\n        \"versions\": [{\n          \"version\": \"12\",\n          \"flags\": [\"n\"],\n          \"notes\": []\n        }, {\n          \"version\": \"12.1\",\n          \"flags\": [\"n\"],\n          \"notes\": []\n        }, {\n          \"version\": \"59\",\n          \"flags\": [\"a\"],\n          \"notes\": [1]\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"op_mini\",\n        \"name\": \"Opera Mini\",\n        \"versions\": [{\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": \"all\",\n          \"flags\": [\"n\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"android\",\n        \"name\": \"Android Browser\",\n        \"versions\": [{\n          \"version\": \"4.4\",\n          \"flags\": [\"a\"],\n          \"notes\": [1]\n        }, {\n          \"version\": \"4.4.3-4.4.4\",\n          \"flags\": [\"a\"],\n          \"notes\": [1]\n        }, {\n          \"version\": \"81\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"samsung\",\n        \"name\": \"Samsung Internet\",\n        \"versions\": [{\n          \"version\": \"11.1-11.2\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"12.0\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"13.0\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"and_uc\",\n        \"name\": \"UC Browser for Android\",\n        \"versions\": [{\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": \"12.12\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }]\n    },\n    mdxType: \"Caniuse\"\n  }), mdx(\"h2\", null, \"Convert .gif to .mp4\"), mdx(\"p\", null, \"To convert a .gif file to a web-safe .mp4, use the following command:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"ffmpeg -i file.gif -movflags +faststart -pix_fmt yuv420p \\\\\\n       -vf \\\"scale=trunc(iw/2)*2:trunc(ih/2)*2\\\" file.mp4\\n\")), mdx(\"p\", null, \"Let's also cover the options for this one:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-i\"), \": Specifies the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"input file\"), \", in this case \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"file.gif\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-movflags\"), \": For web video we can specify \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"+faststart\"), \" to allow the video to start playing before the download is complete.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-pix_fmt\"), \": The default \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"yuv444p\"), \" can't be played by some mobile browsers so we set it to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"yuv420p\"), \" instead.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"-vf\"), \": This flag is allows us to set \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"\\\"scale=trunc(iw/2)*2:trunc(ih/2)*2\\\"\"), \" to ensure the video width and height are divisible by 2 which would otherwise cause an error when using \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"yuv420p\"), \".\")), mdx(\"p\", null, \"More detailed explanations about the options can be found \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://trac.ffmpeg.org/wiki/Encode/H.264\",\n    \"title\": \"Visit ffmpeg H.264 encode page\"\n  }, \"here\"), \".\\nAdditionally, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/manateelazycat/deepin-screen-recorder/commit/a49612faed28fc70a98aa117839cc67d96b99761\",\n    \"title\": \"Read details about pix_fmt and vf flags command line flags\"\n  }, \"this commit\"), \"\\nprovides some additional context about \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-pix_fmt\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-vf\"), \".\"), mdx(\"p\", null, \"The .mp4 file is (on average) \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"50%\"), \" smaller than the .gif file. While less efficient\\nthan .webm, it is still much better than using .gif. Additionally, this .mp4 file is \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://caniuse.com/?search=mp4\",\n    \"title\": \"View caniuse.com mp4 support\"\n  }, \"widely supported\"), \"\\nin nearly all browsers.\"), mdx(Caniuse, {\n    data: {\n      \"id\": \"mpeg4\",\n      \"notesByNum\": [{\n        \"note\": 2,\n        \"text\": \"\u003cspan\u003ePartial supports refers to the lack of hardware acceleration.\u003c/span\u003e\"\n      }],\n      \"title\": \"MPEG-4/H.264 video format\",\n      \"description\": \"\u003cspan\u003eCommonly used video compression format.\u003c/span\u003e\",\n      \"status\": \"other\",\n      \"spec\": \"http://ip.hhi.de/imagecom_G1/assets/pdfs/csvt_overview_0305.pdf\",\n      \"usage\": {\n        \"y\": 95.7,\n        \"a\": 1.89\n      },\n      \"stats\": [{\n        \"id\": \"ie\",\n        \"name\": \"IE\",\n        \"versions\": [{\n          \"version\": \"9\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"10\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"11\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"edge\",\n        \"name\": \"Edge\",\n        \"versions\": [{\n          \"version\": \"86\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"87\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"88\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"firefox\",\n        \"name\": \"Firefox\",\n        \"versions\": [{\n          \"version\": \"83\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"84\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"85\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"86\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"chrome\",\n        \"name\": \"Chrome\",\n        \"versions\": [{\n          \"version\": \"86\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"87\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"88\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"89\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"safari\",\n        \"name\": \"Safari\",\n        \"versions\": [{\n          \"version\": \"13\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"13.1\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"14\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"TP\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"opera\",\n        \"name\": \"Opera\",\n        \"versions\": [{\n          \"version\": \"71\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"72\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"73\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"and_ff\",\n        \"name\": \"Firefox for Android\",\n        \"versions\": [{\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": \"85\",\n          \"flags\": [\"a\"],\n          \"notes\": [2]\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"and_chr\",\n        \"name\": \"Chrome for Android\",\n        \"versions\": [{\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": \"88\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"ios_saf\",\n        \"name\": \"iOS Safari\",\n        \"versions\": [{\n          \"version\": \"13.3\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"13.4-13.7\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"14.0-14.4\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"op_mob\",\n        \"name\": \"Opera Mobile\",\n        \"versions\": [{\n          \"version\": \"12\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"12.1\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"59\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"op_mini\",\n        \"name\": \"Opera Mini\",\n        \"versions\": [{\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": \"all\",\n          \"flags\": [\"n\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"android\",\n        \"name\": \"Android Browser\",\n        \"versions\": [{\n          \"version\": \"4.4\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"4.4.3-4.4.4\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"81\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"samsung\",\n        \"name\": \"Samsung Internet\",\n        \"versions\": [{\n          \"version\": \"11.1-11.2\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"12.0\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": \"13.0\",\n          \"flags\": [\"y\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }, {\n        \"id\": \"and_uc\",\n        \"name\": \"UC Browser for Android\",\n        \"versions\": [{\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }, {\n          \"version\": \"12.12\",\n          \"flags\": [\"a\"],\n          \"notes\": []\n        }, {\n          \"version\": null,\n          \"flags\": [],\n          \"notes\": []\n        }]\n      }]\n    },\n    mdxType: \"Caniuse\"\n  }), mdx(\"h2\", null, \"Conclusion\"), mdx(\"p\", null, \"Hopefully this post made it a little bit easier to understand how to convert\\n.gif files to .webm or .mp4 using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ffmpeg\"), \". It a powerful tool that can help us\\noptimize our usage of animated media on the web. It is definitely worth looking\\ninto if you run a website that displays lots of gifs.\"), mdx(\"p\", null, \"Until next time :)\"), mdx(\"p\", null, \"\\uD83D\\uDC4B\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eWhen recording animated content for my blog posts I use a gif recorder. However,\nusing \u003ca href=\"https://caniuse.com/?search=webm\" title=\"View caniuse.com webm support\"\u003e.webm\u003c/a\u003e or \u003ca href=\"https://caniuse.com/?search=mp4\" title=\"View caniuse.com mp4 support\"\u003e.mp4\u003c/a\u003e\nfiles is usually more efficient and works in pretty much every major browser today.\u003c/p\u003e\u003ch2 class=\"heading_container__2UElk\"\u003e\u003ca class=\"heading_anchor__PWj4r\" id=\"convert-gif-to\"\u003e\u003c/a\u003e\u003ca class=\"heading_link__1aoFY\" href=\"#convert-gif-to\"\u003eConvert .gif to .webm\u003c/a\u003e\u003c/h2\u003e\u003cp\u003eTo convert a .gif file to .webm, use the following command:\u003c/p\u003e\u003cpre class=\"prism-code language-shell\" style=\"background-color:#2a2734;color:#9a86fd\"\u003e\u003cdiv class=\"token-line\" style=\"color:#9a86fd\"\u003e\u003cspan class=\"token plain\"\u003effmpeg -i file.gif -c vp9 -b:v \u003c/span\u003e\u003cspan class=\"token number\" style=\"color:#e09142\"\u003e0\u003c/span\u003e\u003cspan class=\"token plain\"\u003e -crf \u003c/span\u003e\u003cspan class=\"token number\" style=\"color:#e09142\"\u003e40\u003c/span\u003e\u003cspan class=\"token plain\"\u003e file.webm\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003cp\u003eThis will output a .webm file that works in most browsers, but what are these options\ndoing exactly? Let\u0026#x27;s dive in:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ccode\u003e-i\u003c/code\u003e: Specifies the \u003cem\u003einput file\u003c/em\u003e, in this case \u003ccode\u003efile.gif\u003c/code\u003e.\u003c/li\u003e\u003cli\u003e\u003ccode\u003e-c\u003c/code\u003e: Specifies the \u003cem\u003ecodec\u003c/em\u003e, \u003ccode\u003evp9\u003c/code\u003e works in most browsers.\u003c/li\u003e\u003cli\u003e\u003ccode\u003e-b:v\u003c/code\u003e: Specifies the \u003cem\u003evideo bitrate\u003c/em\u003e, \u003ccode\u003e0\u003c/code\u003e allows us to specify the quality via the \u003ccode\u003e-crf\u003c/code\u003e option.\u003c/li\u003e\u003cli\u003e\u003ccode\u003e-crf\u003c/code\u003e: Specifies the \u003cem\u003equality\u003c/em\u003e, ranges between 0-63, lower means better quality.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eMore detailed explanations about the options can be found \u003ca href=\"https://trac.ffmpeg.org/wiki/Encode/VP9\" title=\"Visit ffmpeg VP9 encode page\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThese .webm files will suffer a little bit of quality loss, but if more quality is\nneeded the \u003ccode\u003e-crf\u003c/code\u003e flag can be set to a lower value easily. With these settings\nthe .webm file is (on average) \u003cstrong\u003e60%\u003c/strong\u003e smaller than the .gif file.\u003c/p\u003e\u003cp\u003eWhen we check caniuse, \u003ca href=\"https://caniuse.com/?search=webm\" title=\"View caniuse.com webm support\"\u003e.webm support\u003c/a\u003e looks good too, mostly.\nIndeed the only real reason today to use .mp4 on the web is to support Internet Explorer.\u003c/p\u003e\u003csection class=\"caniuse_caniuse__3HlK-\"\u003e\u003cdiv class=\"caniuse_header__1qoVv\"\u003e\u003cspan class=\"caniuse_headerLeft__15yBP\"\u003e\u003cspan class=\"caniuse_title__2oGXT\"\u003eWebM video format\u003c/span\u003e\u003cp class=\"caniuse_description__2HIQ6\"\u003e\u003cspan\u003eMultimedia format designed to provide a royalty-free, high-quality open video compression format for use with HTML5 video. WebM supports the video codec VP8 and VP9.\u003c/span\u003e\u003c/p\u003e\u003c/span\u003e\u003cspan class=\"caniuse_headerRight__2M4o8\"\u003e\u003cspan class=\"caniuse_textRow__2mcRb caniuse_rowStatus__27IsJ\"\u003e\u003cspan class=\"caniuse_status__2qCZ_\"\u003eother\u003c/span\u003e\u003cspan class=\"bullet_bullet__2pnOU\"\u003eâ€¢\u003c/span\u003e\u003cspan class=\"caniuse_color-yellow__35MaB\"\u003e%\u003c!-- --\u003e76.78\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"caniuse_textRow__2mcRb\"\u003e\u003ca href=\"https://caniuse.com/webm\" rel=\"noreferrer\" target=\"_blank\" title=\"View on caniuse.com\"\u003ecaniuse\u003c/a\u003e\u003c/span\u003e\u003cspan class=\"caniuse_textRow__2mcRb\"\u003e\u003ca href=\"https://www.webmproject.org\" rel=\"noreferrer\" target=\"_blank\" title=\"View spec on w3.org\"\u003espec\u003c/a\u003e\u003c/span\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_table__4Rda8\"\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"ie\"\u003eIE\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-p__2XKIQ\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e3\u003c/span\u003e\u003c/div\u003e9\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-p__2XKIQ\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e3\u003c/span\u003e\u003c/div\u003e10\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-p__2XKIQ\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e3\u003c/span\u003e\u003c/div\u003e11\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"edge\"\u003eEdge\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e86\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e87\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e88\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"firefox\"\u003eFirefox\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e83\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e84\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e85\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e86\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"chrome\"\u003eChrome\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e86\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e87\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e88\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e89\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"safari\"\u003eSafari\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e4\u003c/span\u003e\u003c/div\u003e13\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e4\u003c/span\u003e\u003c/div\u003e13.1\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e4\u003c/span\u003e\u003cspan\u003e5\u003c/span\u003e\u003cspan\u003e6\u003c/span\u003e\u003c/div\u003e14\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e4\u003c/span\u003e\u003cspan\u003e5\u003c/span\u003e\u003cspan\u003e6\u003c/span\u003e\u003c/div\u003eTP\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"opera\"\u003eOpera\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e71\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e72\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e73\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"and_ff\"\u003eFirefox for Android\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e85\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"and_chr\"\u003eChrome for Android\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e88\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"ios_saf\"\u003eiOS Safari\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e4\u003c/span\u003e\u003c/div\u003e13.3\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e4\u003c/span\u003e\u003c/div\u003e13.4-13.7\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e4\u003c/span\u003e\u003cspan\u003e5\u003c/span\u003e\u003c/div\u003e14.0-14.4\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"op_mob\"\u003eOpera Mobile\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-n__1fo0e\"\u003e12\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-n__1fo0e\"\u003e12.1\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e1\u003c/span\u003e\u003c/div\u003e59\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"op_mini\"\u003eOpera Mini\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-n__1fo0e\"\u003eall\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"android\"\u003eAndroid Browser\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e1\u003c/span\u003e\u003c/div\u003e4.4\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e1\u003c/span\u003e\u003c/div\u003e4.4.3-4.4.4\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e81\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"samsung\"\u003eSamsung Internet\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e11.1-11.2\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e12.0\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e13.0\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"and_uc\"\u003eUC Browser for Android\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e12.12\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_legendAndNotes__OLmrF\"\u003e\u003cdiv class=\"caniuse_legend__22Qq3\"\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-y__2oU3A\"\u003esupported\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-n__1fo0e\"\u003eunsupported\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-a__2KAGe\"\u003epartial\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-x__3usei\"\u003eprefixed\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-p__2XKIQ\"\u003epolyfill\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-u__2eqhH\"\u003eunknown\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-d__tmfZZ\"\u003edisabled\u003c/div\u003e\u003c/div\u003e\u003cbutton type=\"button\" class=\"caniuse_notesToggle__1fDzM\"\u003eShow\u003c!-- --\u003e \u003c!-- --\u003e5 notes\u003c/button\u003e\u003c/div\u003e\u003c/section\u003e\u003ch2 class=\"heading_container__2UElk\"\u003e\u003ca class=\"heading_anchor__PWj4r\" id=\"convert-gif-to\"\u003e\u003c/a\u003e\u003ca class=\"heading_link__1aoFY\" href=\"#convert-gif-to\"\u003eConvert .gif to .mp4\u003c/a\u003e\u003c/h2\u003e\u003cp\u003eTo convert a .gif file to a web-safe .mp4, use the following command:\u003c/p\u003e\u003cpre class=\"prism-code language-shell\" style=\"background-color:#2a2734;color:#9a86fd\"\u003e\u003cdiv class=\"token-line\" style=\"color:#9a86fd\"\u003e\u003cspan class=\"token plain\"\u003effmpeg -i file.gif -movflags +faststart -pix_fmt yuv420p \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:#6c6783\"\u003e\\\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:#9a86fd\"\u003e\u003cspan class=\"token plain\"\u003e       -vf \u003c/span\u003e\u003cspan class=\"token string\" style=\"color:#ffcc99\"\u003e\u0026quot;scale=trunc(iw/2)*2:trunc(ih/2)*2\u0026quot;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e file.mp4\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003cp\u003eLet\u0026#x27;s also cover the options for this one:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ccode\u003e-i\u003c/code\u003e: Specifies the \u003cem\u003einput file\u003c/em\u003e, in this case \u003ccode\u003efile.gif\u003c/code\u003e.\u003c/li\u003e\u003cli\u003e\u003ccode\u003e-movflags\u003c/code\u003e: For web video we can specify \u003ccode\u003e+faststart\u003c/code\u003e to allow the video to start playing before the download is complete.\u003c/li\u003e\u003cli\u003e\u003ccode\u003e-pix_fmt\u003c/code\u003e: The default \u003ccode\u003eyuv444p\u003c/code\u003e can\u0026#x27;t be played by some mobile browsers so we set it to \u003ccode\u003eyuv420p\u003c/code\u003e instead.\u003c/li\u003e\u003cli\u003e\u003ccode\u003e-vf\u003c/code\u003e: This flag is allows us to set \u003ccode\u003e\u0026quot;scale=trunc(iw/2)*2:trunc(ih/2)*2\u0026quot;\u003c/code\u003e to ensure the video width and height are divisible by 2 which would otherwise cause an error when using \u003ccode\u003eyuv420p\u003c/code\u003e.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eMore detailed explanations about the options can be found \u003ca href=\"https://trac.ffmpeg.org/wiki/Encode/H.264\" title=\"Visit ffmpeg H.264 encode page\"\u003ehere\u003c/a\u003e.\nAdditionally, \u003ca href=\"https://github.com/manateelazycat/deepin-screen-recorder/commit/a49612faed28fc70a98aa117839cc67d96b99761\" title=\"Read details about pix_fmt and vf flags command line flags\"\u003ethis commit\u003c/a\u003e\nprovides some additional context about \u003ccode\u003e-pix_fmt\u003c/code\u003e and \u003ccode\u003e-vf\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eThe .mp4 file is (on average) \u003cstrong\u003e50%\u003c/strong\u003e smaller than the .gif file. While less efficient\nthan .webm, it is still much better than using .gif. Additionally, this .mp4 file is \u003ca href=\"https://caniuse.com/?search=mp4\" title=\"View caniuse.com mp4 support\"\u003ewidely supported\u003c/a\u003e\nin nearly all browsers.\u003c/p\u003e\u003csection class=\"caniuse_caniuse__3HlK-\"\u003e\u003cdiv class=\"caniuse_header__1qoVv\"\u003e\u003cspan class=\"caniuse_headerLeft__15yBP\"\u003e\u003cspan class=\"caniuse_title__2oGXT\"\u003eMPEG-4/H.264 video format\u003c/span\u003e\u003cp class=\"caniuse_description__2HIQ6\"\u003e\u003cspan\u003eCommonly used video compression format.\u003c/span\u003e\u003c/p\u003e\u003c/span\u003e\u003cspan class=\"caniuse_headerRight__2M4o8\"\u003e\u003cspan class=\"caniuse_textRow__2mcRb caniuse_rowStatus__27IsJ\"\u003e\u003cspan class=\"caniuse_status__2qCZ_\"\u003eother\u003c/span\u003e\u003cspan class=\"bullet_bullet__2pnOU\"\u003eâ€¢\u003c/span\u003e\u003cspan class=\"caniuse_color-green__3vu2c\"\u003e%\u003c!-- --\u003e95.7\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"caniuse_textRow__2mcRb\"\u003e\u003ca href=\"https://caniuse.com/mpeg4\" rel=\"noreferrer\" target=\"_blank\" title=\"View on caniuse.com\"\u003ecaniuse\u003c/a\u003e\u003c/span\u003e\u003cspan class=\"caniuse_textRow__2mcRb\"\u003e\u003ca href=\"http://ip.hhi.de/imagecom_G1/assets/pdfs/csvt_overview_0305.pdf\" rel=\"noreferrer\" target=\"_blank\" title=\"View spec on w3.org\"\u003espec\u003c/a\u003e\u003c/span\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_table__4Rda8\"\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"ie\"\u003eIE\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e9\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e10\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e11\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"edge\"\u003eEdge\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e86\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e87\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e88\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"firefox\"\u003eFirefox\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e83\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e84\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e85\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e86\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"chrome\"\u003eChrome\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e86\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e87\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e88\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e89\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"safari\"\u003eSafari\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e13\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e13.1\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e14\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003eTP\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"opera\"\u003eOpera\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e71\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e72\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e73\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"and_ff\"\u003eFirefox for Android\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e\u003cdiv class=\"caniuse_notes__1q1Q6\"\u003e\u003cspan\u003e2\u003c/span\u003e\u003c/div\u003e85\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"and_chr\"\u003eChrome for Android\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e88\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"ios_saf\"\u003eiOS Safari\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e13.3\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e13.4-13.7\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e14.0-14.4\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"op_mob\"\u003eOpera Mobile\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e12\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e12.1\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e59\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"op_mini\"\u003eOpera Mini\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-n__1fo0e\"\u003eall\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"android\"\u003eAndroid Browser\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e4.4\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e4.4.3-4.4.4\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e81\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"samsung\"\u003eSamsung Internet\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e11.1-11.2\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e12.0\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-y__2oU3A\"\u003e13.0\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_column__c5s8c\"\u003e\u003cdiv class=\"caniuse_browser__3_6Lq\" data-name=\"and_uc\"\u003eUC Browser for Android\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr caniuse_flag-a__2KAGe\"\u003e12.12\u003c/div\u003e\u003cdiv class=\"caniuse_cell__JKZsr\"\u003eÂ \u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"caniuse_legendAndNotes__OLmrF\"\u003e\u003cdiv class=\"caniuse_legend__22Qq3\"\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-y__2oU3A\"\u003esupported\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-n__1fo0e\"\u003eunsupported\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-a__2KAGe\"\u003epartial\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-x__3usei\"\u003eprefixed\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-p__2XKIQ\"\u003epolyfill\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-u__2eqhH\"\u003eunknown\u003c/div\u003e\u003cdiv class=\"caniuse_legendItem__gj1r_ caniuse_flag-d__tmfZZ\"\u003edisabled\u003c/div\u003e\u003c/div\u003e\u003cbutton type=\"button\" class=\"caniuse_notesToggle__1fDzM\"\u003eShow\u003c!-- --\u003e \u003c!-- --\u003e1 note\u003c/button\u003e\u003c/div\u003e\u003c/section\u003e\u003ch2 class=\"heading_container__2UElk\"\u003e\u003ca class=\"heading_anchor__PWj4r\" id=\"conclusion\"\u003e\u003c/a\u003e\u003ca class=\"heading_link__1aoFY\" href=\"#conclusion\"\u003eConclusion\u003c/a\u003e\u003c/h2\u003e\u003cp\u003eHopefully this post made it a little bit easier to understand how to convert\n.gif files to .webm or .mp4 using \u003ccode\u003effmpeg\u003c/code\u003e. It a powerful tool that can help us\noptimize our usage of animated media on the web. It is definitely worth looking\ninto if you run a website that displays lots of gifs.\u003c/p\u003e\u003cp\u003eUntil next time :)\u003c/p\u003e\u003cp\u003eðŸ‘‹\u003c/p\u003e","scope":{"title":"Converting .gif to web-safe video formats using ffmpeg","description":"This post shows how to convert .gif images to web-safe video formats using ffmpeg cli. These formats produce smaller files which means less data to load!","published":"2021-02-14T18:30:00Z"}},"slug":"converting-gif-to-web-safe-video-formats-using-ffmpeg"},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"converting-gif-to-web-safe-video-formats-using-ffmpeg"},"buildId":"HBrsv9sEG3PZquSBGvOQm","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-ff94e68042added27a93.js"></script><script src="/_next/static/chunks/main-c64519ed79327e51c7fd.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.29f9e2f3d4a33bafbaa5.js" async=""></script><script src="/_next/static/chunks/commons.2315b3822f3fa12e695d.js" async=""></script><script src="/_next/static/chunks/62e1beb3a59d93297dd568d6addecfcbe54736d1.0f3508858d84c490014b.js" async=""></script><script src="/_next/static/chunks/pages/_app-c695c01c5fa9890886ea.js" async=""></script><script src="/_next/static/chunks/89c7192737f5dae381690d2d2c3016603346826c.3fe8d6de12c9023523b3.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-aaa680a4f9ba2e216bc7.js" async=""></script><script src="/_next/static/HBrsv9sEG3PZquSBGvOQm/_buildManifest.js" async=""></script><script src="/_next/static/HBrsv9sEG3PZquSBGvOQm/_ssgManifest.js" async=""></script></body></html>