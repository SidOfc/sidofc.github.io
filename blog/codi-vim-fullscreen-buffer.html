<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/34a9823ac715e2c2-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/a2f2281afa63742b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/8450b0a56c34517c.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/316995eabadde9f2.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-ba66aa04f808944a.js"/><script src="/_next/static/chunks/fd9d1056-f18af63d214b451f.js" async=""></script><script src="/_next/static/chunks/23-5d877745334db6ab.js" async=""></script><script src="/_next/static/chunks/main-app-9c59895890a0d7ca.js" async=""></script><script src="/_next/static/chunks/231-0826ad95ffafa567.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-8bceda37ec76393a.js" async=""></script><meta name="theme-color" content="#ffffff"/><title>Sidney Liebrand&#x27;s blog - Codi.vim + fullscreen buffer</title><meta name="description" content="Learn how to set up Codi.vim to create a fullscreen scratch buffer that also works with Vim splits. We will take a look at wrapping the &lt;code&gt;Codi&lt;/code&gt; command and improving the buffer name(s) as seen in &lt;code&gt;:ls&lt;/code&gt;."/><link rel="author" href="https://sidneyliebrand.io"/><meta name="author" content="Sidney Liebrand"/><link rel="manifest" href="/site.webmanifest" crossorigin="use-credentials"/><meta name="creator" content="Sidney Liebrand"/><meta name="publisher" content="Sidney Liebrand"/><meta name="robots" content="index, follow"/><meta name="msapplication-TileColor" content="#ffc40d"/><link rel="canonical" href="https://sidneyliebrand.io/blog/codi-vim-fullscreen-buffer"/><link rel="alternate" type="application/rss+xml" href="https://sidneyliebrand.io/feed.xml"/><link rel="alternate" type="application/atom+xml" href="https://sidneyliebrand.io/atom.xml"/><meta property="og:title" content="Sidney Liebrand&#x27;s blog - Codi.vim + fullscreen buffer"/><meta property="og:description" content="Learn how to set up Codi.vim to create a fullscreen scratch buffer that also works with Vim splits. We will take a look at wrapping the &lt;code&gt;Codi&lt;/code&gt; command and improving the buffer name(s) as seen in &lt;code&gt;:ls&lt;/code&gt;."/><meta property="og:url" content="https://sidneyliebrand.io/blog/codi-vim-fullscreen-buffer"/><meta property="og:site_name" content="Sidney Liebrand&#x27;s blog"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2018-08-27T07:55:24Z"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Sidney Liebrand&#x27;s blog - Codi.vim + fullscreen buffer"/><meta name="twitter:description" content="Learn how to set up Codi.vim to create a fullscreen scratch buffer that also works with Vim splits. We will take a look at wrapping the &lt;code&gt;Codi&lt;/code&gt; command and improving the buffer name(s) as seen in &lt;code&gt;:ls&lt;/code&gt;."/><link rel="icon" href="/favicon.ico" sizes="48x48"/><link rel="icon" href="/favicon-16x16.png" sizes="16x16"/><link rel="icon" href="/favicon-32x32.png" sizes="32x32"/><link rel="apple-touch-icon" href="/apple-icon.png" sizes="180x180"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#a676ff"/><meta name="next-size-adjust"/><script>!function(e=[]){let t,a=document.querySelector("html"),r=(t,r)=>{for(let t of e)a.classList.remove(t);if(t&&a.classList.add(t),r)try{t?localStorage.setItem("theme",t):localStorage.removeItem("theme")}catch(e){}};try{t||=localStorage.getItem("theme")}catch(e){t||="light"}if(a.classList.remove("no-js"),window.addEventListener("click",(e=>{let t=e.target.getAttribute("data-theme");t&&r(t,!0)})),window.addEventListener("storage",(e=>{"theme"===e.key&&r(e.newValue)})),window.matchMedia){var c=window.matchMedia("(prefers-color-scheme: dark)");!t&&c.matches&&(t="dark"),c.addEventListener("change",(e=>{try{localStorage.getItem("theme")||r(e.matches?"dark":"light")}catch(e){}}))}r(t)}(["light","dark"]);</script><style>html.light { --prism-plain-backgroundColor: #f6f8fa;--prism-plain-color: #393A34;--prism-comment-color: #999988;--prism-comment-fontStyle: italic;--prism-prolog-color: #999988;--prism-prolog-fontStyle: italic;--prism-cdata-color: #999988;--prism-cdata-fontStyle: italic;--prism-doctype-color: #999988;--prism-doctype-fontStyle: italic;--prism-punctuation-color: #393A34;--prism-entity-color: #36acaa;--prism-attr-name-color: #00a4db;--prism-boolean-color: #36acaa;--prism-constant-color: #36acaa;--prism-number-color: #36acaa;--prism-atrule-color: #00a4db;--prism-keyword-color: #00009f;--prism-property-color: #36acaa;--prism-tag-color: #00009f;--prism-symbol-color: #36acaa;--prism-deleted-color: #d73a49;--prism-selector-color: #00009f;--prism-string-color: #e3116c;--prism-inserted-color: #36acaa;--prism-regex-color: #36acaa;--prism-attr-value-color: #e3116c;--prism-variable-color: #36acaa;--prism-operator-color: #393A34;--prism-function-color: #d73a49;--prism-url-color: #36acaa;--prism-namespace-opacity: 0.7;--prism-function-variable-color: #6f42c1; }
html.dark { --prism-plain-backgroundColor: hsl(220, 13%, 18%);--prism-plain-color: hsl(220, 14%, 71%);--prism-plain-textShadow: 0 1px rgba(0, 0, 0, 0.3);--prism-comment-color: hsl(220, 10%, 40%);--prism-prolog-color: hsl(220, 10%, 40%);--prism-cdata-color: hsl(220, 10%, 40%);--prism-doctype-color: hsl(220, 14%, 71%);--prism-punctuation-color: hsl(220, 14%, 71%);--prism-entity-color: hsl(220, 14%, 71%);--prism-attr-name-color: hsl(29, 54%, 61%);--prism-class-name-color: hsl(29, 54%, 61%);--prism-maybe-class-name-color: hsl(29, 54%, 61%);--prism-boolean-color: hsl(29, 54%, 61%);--prism-constant-color: hsl(29, 54%, 61%);--prism-number-color: hsl(29, 54%, 61%);--prism-atrule-color: hsl(29, 54%, 61%);--prism-keyword-color: hsl(286, 60%, 67%);--prism-property-color: hsl(355, 65%, 65%);--prism-tag-color: hsl(355, 65%, 65%);--prism-symbol-color: hsl(355, 65%, 65%);--prism-deleted-color: hsl(355, 65%, 65%);--prism-deleted-textDecorationLine: line-through;--prism-important-color: hsl(220, 14%, 71%);--prism-important-fontWeight: bold;--prism-selector-color: hsl(95, 38%, 62%);--prism-string-color: hsl(95, 38%, 62%);--prism-char-color: hsl(95, 38%, 62%);--prism-builtin-color: hsl(95, 38%, 62%);--prism-inserted-color: hsl(95, 38%, 62%);--prism-inserted-textDecorationLine: underline;--prism-regex-color: hsl(95, 38%, 62%);--prism-attr-value-color: hsl(95, 38%, 62%);--prism-variable-color: hsl(207, 82%, 66%);--prism-operator-color: hsl(207, 82%, 66%);--prism-function-color: hsl(207, 82%, 66%);--prism-url-color: hsl(187, 47%, 55%);--prism-italic-fontStyle: italic;--prism-bold-fontWeight: bold; }</style><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body><div class="layout_application__n0Q7V __className_68e9d9"><header class="layout_header__3jMk9"><div class="layout_headerFixed__rx0vE"><div class="layout_headerContent__9T0DC"><a class="layout_logo__i3hhL" title="View home page" href="/"><span class="layout_logoTopLeft__mQsLC"></span><span class="layout_logoBottomLeft__yzF8i"></span><span class="layout_logoTopRight__k_p_8"></span><span class="layout_logoBottomRight__vRnMa"></span></a><nav class="layout_navigation__RQQL0"><a title="View curriculum vitae" href="/cv">C.V.</a><a class="layout_githubWrapper__HkSRx" title="Visit Sidney Liebrand&#x27;s GitHub page" href="https://github.com/SidOfc"><figure class="layout_github__hYJcX media_figure__wgz58 media_invertDark__O69xZ"><div class="media_relative__Oqy8s" style="padding-bottom:100%"><img loading="lazy" class="media_media__dB51W" src="/media/github.svg" alt="Sidney Liebrand&#x27;s GitHub page"/></div></figure></a><div tabindex="0" title="Toggle dark theme" class="dark-mode-toggle_wrapper__0g8vi"><svg fill="#000000" data-theme="light" class="dark-mode-toggle_toggle__NLlV2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"></path></svg><svg fill="#000000" data-theme="dark" class="dark-mode-toggle_toggle__NLlV2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9.5,2c-1.82,0-3.53,0.5-5,1.35c2.99,1.73,5,4.95,5,8.65s-2.01,6.92-5,8.65C5.97,21.5,7.68,22,9.5,22c5.52,0,10-4.48,10-10 S15.02,2,9.5,2z"></path></svg></div></nav></div></div></header><main class="layout_content___6Lgz"><article class="post_post__V86NT"><h1 class="heading_container__s0r7I"><a class="heading_link__PbOhy" href="/blog/codi-vim-fullscreen-buffer">Codi.vim + fullscreen buffer</a></h1><span class="post_postData__5nBDA text_page-accent-fg__r7Sxg">By Sidney Liebrand on<!-- --> <!-- -->Aug 27, 2018<span class="bullet_bullet__vDh0G">â€¢</span>4<!-- --> min read</span><section><figure class="media_figure__wgz58"><div class="media_relative__Oqy8s" style="padding-bottom:58.133971291866025%"><img loading="lazy" class="media_media__dB51W" src="/media/posts/codi-banner.png" alt="A Codi.vim fullscreen buffer"/></div><figcaption class="media_alt__6tx_o">A Codi.vim fullscreen buffer</figcaption></figure>
<p>Recently I discovered <a href="https://github.com/metakirby5/codi.vim" title="Visit metakirby5/codi.vim on GitHub">codi.vim</a> on <a href="https://vimawesome.com/?q=cat%3Aother" title="Visit vimawesome.com &#x27;Other&#x27; category plugin">vimawesome.com</a>.
It sells itself as an &quot;interactive scratchpad for hackers&quot;.
After playing around with it for 5 minutes I was completely sold.</p>
<p>I pair program on a weekly basis using various different languages.
I used to turn to a REPL for help but this quickly becomes annoying when trying to write multi-line expressions.
Making a typo in the middle of a <code>do ... end</code> block in Ruby is quite costly:</p>
<figure class="media_figure__wgz58"><div class="media_relative__Oqy8s" style="padding-bottom:24.20135527589545%"><video class="media_media__dB51W" autoPlay="" loop="" muted="" playsInline=""><source src="/media/posts/pry-multiline-typo.webm" type="video/webm"/><source src="/media/posts/pry-multiline-typo.mp4" type="video/mp4"/></video></div><figcaption class="media_alt__6tx_o">Multiline expression typo in Pry</figcaption></figure>
<p>Another thing to note here is that code and results are printed sequentially.
This means that any code you write goes off-screen at least twice as fast because the result is printed below it.</p>
<p>In case of errors and stack traces it can become a lot worse as well.
Codi solves all of this by allowing you to type in one pane and it prints the results in a separate pane side-by-side:</p>
<figure class="media_figure__wgz58"><div class="media_relative__Oqy8s" style="padding-bottom:13.649564375605033%"><video class="media_media__dB51W" autoPlay="" loop="" muted="" playsInline=""><source src="/media/posts/ruby-demo.webm" type="video/webm"/><source src="/media/posts/ruby-demo.mp4" type="video/mp4"/></video></div><figcaption class="media_alt__6tx_o">Demo of Ruby in Codi.vim</figcaption></figure>
<p>This feature, and the fact that I can toggle this buffer for <em>multiple programming languages</em> using a single mapping blew my mind but as with anything,
it requires some more battle testing to see if it works in common scenario&#x27;s.</p>
<h2 class="heading_container__s0r7I"><a class="heading_anchor__4TzNi" id="battle-testing"></a><a class="heading_link__PbOhy" href="#battle-testing">Battle testing</a></h2>
<p>This is where I found out that when used with a split, it will not be fullscreen but rather split the current buffer:</p>
<figure class="media_figure__wgz58"><div class="media_relative__Oqy8s" style="padding-bottom:48.01548886737657%"><video class="media_media__dB51W" autoPlay="" loop="" muted="" playsInline=""><source src="/media/posts/split-behavior.webm" type="video/webm"/><source src="/media/posts/split-behavior.mp4" type="video/mp4"/></video></div><figcaption class="media_alt__6tx_o">Default split behavior</figcaption></figure>
<p>At this point I started experimenting with a small <a href="https://gist.github.com/SidOfc/5218a7a9f12ed2105a9b052ca8e6707e" title="Visit codi.vim snippet github gist">vimscript snippet</a> in my .vimrc.
Excluding comments and blanks it is 10 LoC.
It wraps the default <code>Codi</code> command in a function which creates an empty buffer in a new tab with the right filetype set before finally running <code>Codi</code> itself.
This creates the fullscreen split that I wanted:</p>
<figure class="media_figure__wgz58"><div class="media_relative__Oqy8s" style="padding-bottom:48.01548886737657%"><video class="media_media__dB51W" autoPlay="" loop="" muted="" playsInline=""><source src="/media/posts/wrapped-split-behavior.webm" type="video/webm"/><source src="/media/posts/wrapped-split-behavior.mp4" type="video/mp4"/></video></div><figcaption class="media_alt__6tx_o">Enhanced split behavior</figcaption></figure>
<h2 class="heading_container__s0r7I"><a class="heading_anchor__4TzNi" id="problem-solved-or-maybe-not"></a><a class="heading_link__PbOhy" href="#problem-solved-or-maybe-not">Problem solved, or maybe not?</a></h2>
<p>All good so far, but upon closing the buffer, the contents of the buffer are deleted.
While automatically clearing the scratchpad is nice, sometimes I want to go back and forth between the code and the scratchpad to add additional code or compare the existing code with the scratchpad code.</p>
<p>This required a <a href="https://gist.github.com/SidOfc/3f94244a8b08406710b6669052f66d62" title="Visit second codi.vim snippet github gist">second iteration</a> of the original vimscript snippet.
This time I did not want to delete the buffer but hide it instead, keeping the code that was already written in it.
After hiding the buffer, its <code>tabpagenr()</code> is stored in a dictionary keyed by the filetype of the buffer.</p>
<p>Then, when toggling codi for a filetype that is stored, switch to that tab instead of opening a new one (there is even a check if that tab actually exists):</p>
<figure class="media_figure__wgz58"><div class="media_relative__Oqy8s" style="padding-bottom:48.01548886737657%"><video class="media_media__dB51W" autoPlay="" loop="" muted="" playsInline=""><source src="/media/posts/wrapped-split-behavior-2.webm" type="video/webm"/><source src="/media/posts/wrapped-split-behavior-2.mp4" type="video/mp4"/></video></div><figcaption class="media_alt__6tx_o">Enhanced split behavior version 2</figcaption></figure>
<p>And there we go! Aside from the fact that the buffer now remains, the name is also <code>scratch::ruby</code>.
This is a bit more descriptive than having just <code>[Scratch]</code> in <code>:ls</code> output when multiple codi buffers of a different filetype are active.</p>
<h2 class="heading_container__s0r7I"><a class="heading_anchor__4TzNi" id="let-s-wrap-it-in-an-issue"></a><a class="heading_link__PbOhy" href="#let-s-wrap-it-in-an-issue">Let&#x27;s wrap it in an issue</a></h2>
<p>It was a fun experience tweaking this plugin to my liking.
I thought this feature would be so awesome that I even proposed it in an <a href="https://github.com/metakirby5/codi.vim/issues/94" title="View metakirby5/codi.vim issue #94">issue</a>.
Unfortunately it didn&#x27;t make it since it was too workflow specific.</p>
<p>As you may have been able to see in the issue though, the code in that snippet is <em>slighty</em> different from the example gist linked in this post.
The main difference is this line which resizes codi to 50% of the buffer width whenever a new instance is spawned:</p>
<pre style="background-color:var(--prism-plain-backgroundColor);color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)"><span style="display:block"><span style="color:var(--prism-comment-color);font-style:var(--prism-comment-fontStyle)">&quot; since it is fullscreen, I&#x27;d like a 50/50 split</span><span style="background-color:var(--prism-plain-backgroundColor);color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)"></span></span><span style="display:block"><span style="background-color:var(--prism-plain-backgroundColor);color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)"></span><span style="color:var(--prism-keyword-color)">let</span><span style="background-color:var(--prism-plain-backgroundColor);color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)"> g</span><span style="color:var(--prism-punctuation-color)">:</span><span style="background-color:var(--prism-plain-backgroundColor);color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)">codi#width </span><span style="color:var(--prism-operator-color)">=</span><span style="background-color:var(--prism-plain-backgroundColor);color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)"> </span><span style="color:var(--prism-function-color)">winwidth</span><span style="color:var(--prism-punctuation-color)">(</span><span style="color:var(--prism-function-color)">winnr</span><span style="color:var(--prism-punctuation-color)">(</span><span style="color:var(--prism-punctuation-color)">)</span><span style="color:var(--prism-punctuation-color)">)</span><span style="background-color:var(--prism-plain-backgroundColor);color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)"> </span><span style="color:var(--prism-operator-color)">/</span><span style="background-color:var(--prism-plain-backgroundColor);color:var(--prism-plain-color);text-shadow:var(--prism-plain-textShadow)"> </span><span style="color:var(--prism-number-color)">2</span></span></pre>
<p>The author thought it would be a nice addition to have percentage width support and for the snippets to live elsewhere for others to use in their .vimrc.
So I went ahead and <a href="https://github.com/metakirby5/codi.vim/pull/95" title="View metakirby5/codi.vim pull request #95">wrote a PR</a> for that instead, this is why you see
<code>let g:codi#width = 50.0</code> in the gists :)</p>
<h2 class="heading_container__s0r7I"><a class="heading_anchor__4TzNi" id="conclusion"></a><a class="heading_link__PbOhy" href="#conclusion">Conclusion</a></h2>
<p>All in all it was a great experience discovering this plugin.
It is like one of those rare cases with a song where after a few seconds <strong>you just know</strong> <em>&quot;this song is awesome&quot;</em>.
I believe I&#x27;ll be using it for a long time to come for quickly testing and showing some code.</p>
<p>This also gave me the chance to write my first non-organization bound PR for a project which I like and now also use.
Something which I wanted to do for a long time but couldn&#x27;t really find the right project to contribute to.
I want to thank <a href="https://medium.com/@metakirby5" title="View @metakirby5 on Medium">Ethan Chan</a> for his awesome plugin and for being a kind and friendly maintainer!</p>
<p>That&#x27;s it! If you want a fullscreen workflow with codi.vim, you have it.
If you want to persist the code in the buffer, you have it.</p>
<p>Until next time.</p>
<p>ðŸ‘‹</p></section><a href="/"><button tabindex="0" class="button_button__zuVOf">Back</button></a></article></main><footer class="layout_footer__CuyOY"><strong>Â©</strong> sidneyliebrand.io<!-- --> <!-- -->2024<span class="bullet_bullet__vDh0G bullet_wide__Vv6L1">â€¢</span><a title="View RSS feed" href="/feed.xml">RSS</a><span class="bullet_bullet__vDh0G bullet_wide__Vv6L1">â€¢</span><a title="View Atom feed" href="/atom.xml">Atom</a></footer></div><script src="/_next/static/chunks/webpack-ba66aa04f808944a.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/34a9823ac715e2c2-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/a2f2281afa63742b.css\",\"style\"]\n3:HL[\"/_next/static/css/8450b0a56c34517c.css\",\"style\"]\n4:HL[\"/_next/static/css/316995eabadde9f2.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"5:I[5751,[],\"\"]\n8:I[9275,[],\"\"]\na:I[1343,[],\"\"]\nd:I[231,[\"231\",\"static/chunks/231-0826ad95ffafa567.js\",\"308\",\"static/chunks/app/blog/%5Bslug%5D/page-8bceda37ec76393a.js\"],\"\"]\nf:I[6130,[],\"\"]\n9:[\"slug\",\"codi-vim-fullscreen-buffer\",\"d\"]\nc:Ta6a,"])</script><script>self.__next_f.push([1,"html.light { --prism-plain-backgroundColor: #f6f8fa;--prism-plain-color: #393A34;--prism-comment-color: #999988;--prism-comment-fontStyle: italic;--prism-prolog-color: #999988;--prism-prolog-fontStyle: italic;--prism-cdata-color: #999988;--prism-cdata-fontStyle: italic;--prism-doctype-color: #999988;--prism-doctype-fontStyle: italic;--prism-punctuation-color: #393A34;--prism-entity-color: #36acaa;--prism-attr-name-color: #00a4db;--prism-boolean-color: #36acaa;--prism-constant-color: #36acaa;--prism-number-color: #36acaa;--prism-atrule-color: #00a4db;--prism-keyword-color: #00009f;--prism-property-color: #36acaa;--prism-tag-color: #00009f;--prism-symbol-color: #36acaa;--prism-deleted-color: #d73a49;--prism-selector-color: #00009f;--prism-string-color: #e3116c;--prism-inserted-color: #36acaa;--prism-regex-color: #36acaa;--prism-attr-value-color: #e3116c;--prism-variable-color: #36acaa;--prism-operator-color: #393A34;--prism-function-color: #d73a49;--prism-url-color: #36acaa;--prism-namespace-opacity: 0.7;--prism-function-variable-color: #6f42c1; }\nhtml.dark { --prism-plain-backgroundColor: hsl(220, 13%, 18%);--prism-plain-color: hsl(220, 14%, 71%);--prism-plain-textShadow: 0 1px rgba(0, 0, 0, 0.3);--prism-comment-color: hsl(220, 10%, 40%);--prism-prolog-color: hsl(220, 10%, 40%);--prism-cdata-color: hsl(220, 10%, 40%);--prism-doctype-color: hsl(220, 14%, 71%);--prism-punctuation-color: hsl(220, 14%, 71%);--prism-entity-color: hsl(220, 14%, 71%);--prism-attr-name-color: hsl(29, 54%, 61%);--prism-class-name-color: hsl(29, 54%, 61%);--prism-maybe-class-name-color: hsl(29, 54%, 61%);--prism-boolean-color: hsl(29, 54%, 61%);--prism-constant-color: hsl(29, 54%, 61%);--prism-number-color: hsl(29, 54%, 61%);--prism-atrule-color: hsl(29, 54%, 61%);--prism-keyword-color: hsl(286, 60%, 67%);--prism-property-color: hsl(355, 65%, 65%);--prism-tag-color: hsl(355, 65%, 65%);--prism-symbol-color: hsl(355, 65%, 65%);--prism-deleted-color: hsl(355, 65%, 65%);--prism-deleted-textDecorationLine: line-through;--prism-important-color: hsl(220, 14%, 71%);--prism-important-fontWeight: bold;--prism-selector-color: hsl(95, 38%, 62%);--prism-string-color: hsl(95, 38%, 62%);--prism-char-color: hsl(95, 38%, 62%);--prism-builtin-color: hsl(95, 38%, 62%);--prism-inserted-color: hsl(95, 38%, 62%);--prism-inserted-textDecorationLine: underline;--prism-regex-color: hsl(95, 38%, 62%);--prism-attr-value-color: hsl(95, 38%, 62%);--prism-variable-color: hsl(207, 82%, 66%);--prism-operator-color: hsl(207, 82%, 66%);--prism-function-color: hsl(207, 82%, 66%);--prism-url-color: hsl(187, 47%, 55%);--prism-italic-fontStyle: italic;--prism-bold-fontWeight: bold; }"])</script><script>self.__next_f.push([1,"10:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/a2f2281afa63742b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L5\",null,{\"buildId\":\"mlSGDhKu547RPfQ2oEHVR\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/blog/codi-vim-fullscreen-buffer\",\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"codi-vim-fullscreen-buffer\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"codi-vim-fullscreen-buffer\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"codi-vim-fullscreen-buffer\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L6\",\"$L7\"],null],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"$9\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/8450b0a56c34517c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/316995eabadde9f2.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"suppressHydrationWarning\":true,\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$Lb\",[\"$\",\"style\",null,{\"children\":\"$c\"}]]}],[\"$\",\"body\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"layout_application__n0Q7V __className_68e9d9\",\"children\":[[\"$\",\"header\",null,{\"className\":\"layout_header__3jMk9\",\"children\":[\"$\",\"div\",null,{\"className\":\"layout_headerFixed__rx0vE\",\"children\":[\"$\",\"div\",null,{\"className\":\"layout_headerContent__9T0DC\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"/\",\"className\":\"layout_logo__i3hhL\",\"title\":\"View home page\",\"children\":[[\"$\",\"span\",null,{\"className\":\"layout_logoTopLeft__mQsLC\"}],[\"$\",\"span\",null,{\"className\":\"layout_logoBottomLeft__yzF8i\"}],[\"$\",\"span\",null,{\"className\":\"layout_logoTopRight__k_p_8\"}],[\"$\",\"span\",null,{\"className\":\"layout_logoBottomRight__vRnMa\"}]]}],[\"$\",\"nav\",null,{\"className\":\"layout_navigation__RQQL0\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"/cv\",\"title\":\"View curriculum vitae\",\"children\":\"C.V.\"}],[\"$\",\"$Ld\",null,{\"className\":\"layout_githubWrapper__HkSRx\",\"href\":\"https://github.com/SidOfc\",\"title\":\"Visit Sidney Liebrand's GitHub page\",\"children\":[\"$\",\"figure\",null,{\"onClick\":\"$undefined\",\"className\":\"layout_github__hYJcX media_figure__wgz58 media_invertDark__O69xZ\",\"children\":[[\"$\",\"div\",null,{\"className\":\"media_relative__Oqy8s\",\"style\":{\"paddingBottom\":\"100%\"},\"children\":[\"$\",\"img\",null,{\"loading\":\"lazy\",\"className\":\"media_media__dB51W\",\"src\":\"/media/github.svg\",\"alt\":\"Sidney Liebrand's GitHub page\"}]}],false]}]}],[\"$\",\"div\",null,{\"tabIndex\":0,\"title\":\"Toggle dark theme\",\"className\":\"dark-mode-toggle_wrapper__0g8vi\",\"children\":[[\"$\",\"svg\",null,{\"fill\":\"#000000\",\"data-theme\":\"light\",\"className\":\"dark-mode-toggle_toggle__NLlV2\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}],[\"$\",\"path\",null,{\"d\":\"M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z\"}]]}],[\"$\",\"svg\",null,{\"fill\":\"#000000\",\"data-theme\":\"dark\",\"className\":\"dark-mode-toggle_toggle__NLlV2\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}],[\"$\",\"path\",null,{\"d\":\"M9.5,2c-1.82,0-3.53,0.5-5,1.35c2.99,1.73,5,4.95,5,8.65s-2.01,6.92-5,8.65C5.97,21.5,7.68,22,9.5,22c5.52,0,10-4.48,10-10 S15.02,2,9.5,2z\"}]]}]]}]]}]]}]}]}],[\"$\",\"main\",null,{\"className\":\"layout_content___6Lgz\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"section\",null,{\"className\":\"not-found_page__ovuIG\",\"children\":[[\"$\",\"figure\",null,{\"onClick\":\"$undefined\",\"className\":\"not-found_jackieChanWhat__CXIf9 media_figure__wgz58 media_invertDark__O69xZ\",\"children\":[[\"$\",\"div\",null,{\"className\":\"media_relative__Oqy8s\",\"style\":{\"paddingBottom\":\"61.29032258064516%\"},\"children\":[\"$\",\"img\",null,{\"loading\":\"lazy\",\"className\":\"media_media__dB51W\",\"src\":\"/media/jackie-chan-what.svg\",\"alt\":\"$undefined\"}]}],\"$undefined\"]}],[\"$\",\"h1\",null,{\"className\":\"not-found_pageHeading__GYmz1\",\"children\":\"Page not found, what?!\"}],[\"$\",\"$Ld\",null,{\"href\":\"/\",\"children\":[\"$\",\"button\",null,{\"tabIndex\":0,\"className\":\"button_button__zuVOf\",\"onClick\":\"$undefined\",\"children\":\"View homepage\"}]}]]}],\"notFoundStyles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f6c77ed2cedc9b63.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/316995eabadde9f2.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],\"styles\":null}]}],[\"$\",\"footer\",null,{\"className\":\"layout_footer__CuyOY\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Â©\"}],\" sidneyliebrand.io\",\" \",2024,[\"$\",\"span\",null,{\"className\":\"bullet_bullet__vDh0G bullet_wide__Vv6L1\",\"children\":\"â€¢\"}],[\"$\",\"$Ld\",null,{\"prefetch\":false,\"href\":\"/feed.xml\",\"title\":\"View RSS feed\",\"children\":\"RSS\"}],[\"$\",\"span\",null,{\"className\":\"bullet_bullet__vDh0G bullet_wide__Vv6L1\",\"children\":\"â€¢\"}],[\"$\",\"$Ld\",null,{\"prefetch\":false,\"href\":\"/atom.xml\",\"title\":\"View Atom feed\",\"children\":\"Atom\"}]]}]]}]}]]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$Le\"],\"globalErrorComponent\":\"$f\",\"missingSlots\":\"$W10\"}]]\n"])</script><script>self.__next_f.push([1,"b:[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"!function(e=[]){let t,a=document.querySelector(\\\"html\\\"),r=(t,r)=\u003e{for(let t of e)a.classList.remove(t);if(t\u0026\u0026a.classList.add(t),r)try{t?localStorage.setItem(\\\"theme\\\",t):localStorage.removeItem(\\\"theme\\\")}catch(e){}};try{t||=localStorage.getItem(\\\"theme\\\")}catch(e){t||=\\\"light\\\"}if(a.classList.remove(\\\"no-js\\\"),window.addEventListener(\\\"click\\\",(e=\u003e{let t=e.target.getAttribute(\\\"data-theme\\\");t\u0026\u0026r(t,!0)})),window.addEventListener(\\\"storage\\\",(e=\u003e{\\\"theme\\\"===e.key\u0026\u0026r(e.newValue)})),window.matchMedia){var c=window.matchMedia(\\\"(prefers-color-scheme: dark)\\\");!t\u0026\u0026c.matches\u0026\u0026(t=\\\"dark\\\"),c.addEventListener(\\\"change\\\",(e=\u003e{try{localStorage.getItem(\\\"theme\\\")||r(e.matches?\\\"dark\\\":\\\"light\\\")}catch(e){}}))}r(t)}([\\\"light\\\",\\\"dark\\\"]);\"}}]\n"])</script><script>self.__next_f.push([1,"11:I[9426,[\"231\",\"static/chunks/231-0826ad95ffafa567.js\",\"308\",\"static/chunks/app/blog/%5Bslug%5D/page-8bceda37ec76393a.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"name\":\"theme-color\",\"content\":\"#ffffff\"}],[\"$\",\"meta\",\"2\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"3\",{\"children\":\"Sidney Liebrand's blog - Codi.vim + fullscreen buffer\"}],[\"$\",\"meta\",\"4\",{\"name\":\"description\",\"content\":\"Learn how to set up Codi.vim to create a fullscreen scratch buffer that also works with Vim splits. We will take a look at wrapping the \u003ccode\u003eCodi\u003c/code\u003e command and improving the buffer name(s) as seen in \u003ccode\u003e:ls\u003c/code\u003e.\"}],[\"$\",\"link\",\"5\",{\"rel\":\"author\",\"href\":\"https://sidneyliebrand.io\"}],[\"$\",\"meta\",\"6\",{\"name\":\"author\",\"content\":\"Sidney Liebrand\"}],[\"$\",\"link\",\"7\",{\"rel\":\"manifest\",\"href\":\"/site.webmanifest\",\"crossOrigin\":\"use-credentials\"}],[\"$\",\"meta\",\"8\",{\"name\":\"creator\",\"content\":\"Sidney Liebrand\"}],[\"$\",\"meta\",\"9\",{\"name\":\"publisher\",\"content\":\"Sidney Liebrand\"}],[\"$\",\"meta\",\"10\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"11\",{\"name\":\"msapplication-TileColor\",\"content\":\"#ffc40d\"}],[\"$\",\"link\",\"12\",{\"rel\":\"canonical\",\"href\":\"https://sidneyliebrand.io/blog/codi-vim-fullscreen-buffer\"}],[\"$\",\"link\",\"13\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"https://sidneyliebrand.io/feed.xml\"}],[\"$\",\"link\",\"14\",{\"rel\":\"alternate\",\"type\":\"application/atom+xml\",\"href\":\"https://sidneyliebrand.io/atom.xml\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:title\",\"content\":\"Sidney Liebrand's blog - Codi.vim + fullscreen buffer\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:description\",\"content\":\"Learn how to set up Codi.vim to create a fullscreen scratch buffer that also works with Vim splits. We will take a look at wrapping the \u003ccode\u003eCodi\u003c/code\u003e command and improving the buffer name(s) as seen in \u003ccode\u003e:ls\u003c/code\u003e.\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:url\",\"content\":\"https://sidneyliebrand.io/blog/codi-vim-fullscreen-buffer\"}],[\"$\",\"meta\",\"18\",{\"property\":\"og:site_name\",\"content\":\"Sidney Liebrand's blog\"}],[\"$\",\"meta\",\"19\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"20\",{\"property\":\"article:published_time\",\"content\":\"2018-08-27T07:55:24Z\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:title\",\"content\":\"Sidney Liebrand's blog - Codi.vim + fullscreen buffer\"}],[\"$\",\"meta\",\"23\",{\"name\":\"twitter:description\",\"content\":\"Learn how to set up Codi.vim to create a fullscreen scratch buffer that also works with Vim splits. We will take a look at wrapping the \u003ccode\u003eCodi\u003c/code\u003e command and improving the buffer name(s) as seen in \u003ccode\u003e:ls\u003c/code\u003e.\"}],[\"$\",\"link\",\"24\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"sizes\":\"48x48\"}],[\"$\",\"link\",\"25\",{\"rel\":\"icon\",\"href\":\"/favicon-16x16.png\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"26\",{\"rel\":\"icon\",\"href\":\"/favicon-32x32.png\",\"sizes\":\"32x32\"}],[\"$\",\"link\",\"27\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png\",\"sizes\":\"180x180\"}],[\"$\",\"link\",\"28\",{\"rel\":\"mask-icon\",\"href\":\"/safari-pinned-tab.svg\",\"color\":\"#a676ff\"}],[\"$\",\"meta\",\"29\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"6:null\n7:[\"$\",\"article\",null,{\"className\":\"post_post__V86NT\",\"children\":[[\"$\",\"$L11\",null,{\"link\":\"/blog/codi-vim-fullscreen-buffer\",\"children\":\"Codi.vim + fullscreen buffer\"}],[\"$\",\"span\",null,{\"children\":[\"By Sidney Liebrand on\",\" \",\"Aug 27, 2018\",[\"$\",\"span\",null,{\"className\":\"bullet_bullet__vDh0G\",\"children\":\"â€¢\"}],4,\" min read\"],\"className\":\"post_postData__5nBDA text_page-accent-fg__r7Sxg\"}],[\"$\",\"section\",null,{\"children\":\"$L12\"}],[\"$\",\"$Ld\",null,{\"href\":\"/\",\"children\":[\"$\",\"button\",null,{\"tabIndex\":0,\"className\":\"button_button__zuVOf\",\"onClick\":\"$undefined\",\"children\":\"Back\"}]}]]}]\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"figure\",null,{\"onClick\":\"$undefined\",\"className\":\"media_figure__wgz58\",\"children\":[[\"$\",\"div\",null,{\"className\":\"media_relative__Oqy8s\",\"style\":{\"paddingBottom\":\"58.133971291866025%\"},\"children\":[\"$\",\"img\",null,{\"loading\":\"lazy\",\"className\":\"media_media__dB51W\",\"src\":\"/media/posts/codi-banner.png\",\"alt\":\"A Codi.vim fullscreen buffer\"}]}],[\"$\",\"figcaption\",null,{\"className\":\"media_alt__6tx_o\",\"children\":\"A Codi.vim fullscreen buffer\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Recently I discovered \",[\"$\",\"a\",null,{\"href\":\"https://github.com/metakirby5/codi.vim\",\"title\":\"Visit metakirby5/codi.vim on GitHub\",\"children\":\"codi.vim\"}],\" on \",[\"$\",\"a\",null,{\"href\":\"https://vimawesome.com/?q=cat%3Aother\",\"title\":\"Visit vimawesome.com 'Other' category plugin\",\"children\":\"vimawesome.com\"}],\".\\nIt sells itself as an \\\"interactive scratchpad for hackers\\\".\\nAfter playing around with it for 5 minutes I was completely sold.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"I pair program on a weekly basis using various different languages.\\nI used to turn to a REPL for help but this quickly becomes annoying when trying to write multi-line expressions.\\nMaking a typo in the middle of a \",[\"$\",\"code\",null,{\"children\":\"do ... end\"}],\" block in Ruby is quite costly:\"]}],\"\\n\",[\"$\",\"figure\",null,{\"onClick\":\"$undefined\",\"className\":\"media_figure__wgz58\",\"children\":[[\"$\",\"div\",null,{\"className\":\"media_relative__Oqy8s\",\"style\":{\"paddingBottom\":\"24.20135527589545%\"},\"children\":[\"$\",\"video\",null,{\"className\":\"media_media__dB51W\",\"autoPlay\":true,\"loop\":true,\"muted\":true,\"playsInline\":true,\"children\":[[\"$\",\"source\",\"webm\",{\"src\":\"/media/posts/pry-multiline-typo.webm\",\"type\":\"video/webm\"}],[\"$\",\"source\",\"mp4\",{\"src\":\"/media/posts/pry-multiline-typo.mp4\",\"type\":\"video/mp4\"}]]}]}],[\"$\",\"figcaption\",null,{\"className\":\"media_alt__6tx_o\",\"children\":\"Multiline expression typo in Pry\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Another thing to note here is that code and results are printed sequentially.\\nThis means that any code you write goes off-screen at least twice as fast because the result is printed below it.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In case of errors and stack traces it can become a lot worse as well.\\nCodi solves all of this by allowing you to type in one pane and it prints the results in a separate pane side-by-side:\"}],\"\\n\",[\"$\",\"figure\",null,{\"onClick\":\"$undefined\",\"className\":\"media_figure__wgz58\",\"children\":[[\"$\",\"div\",null,{\"className\":\"media_relative__Oqy8s\",\"style\":{\"paddingBottom\":\"13.649564375605033%\"},\"children\":[\"$\",\"video\",null,{\"className\":\"media_media__dB51W\",\"autoPlay\":true,\"loop\":true,\"muted\":true,\"playsInline\":true,\"children\":[[\"$\",\"source\",\"webm\",{\"src\":\"/media/posts/ruby-demo.webm\",\"type\":\"video/webm\"}],[\"$\",\"source\",\"mp4\",{\"src\":\"/media/posts/ruby-demo.mp4\",\"type\":\"video/mp4\"}]]}]}],[\"$\",\"figcaption\",null,{\"className\":\"media_alt__6tx_o\",\"children\":\"Demo of Ruby in Codi.vim\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"This feature, and the fact that I can toggle this buffer for \",[\"$\",\"em\",null,{\"children\":\"multiple programming languages\"}],\" using a single mapping blew my mind but as with anything,\\nit requires some more battle testing to see if it works in common scenario's.\"]}],\"\\n\",[\"$\",\"$L11\",null,{\"children\":\"Battle testing\",\"as\":\"h2\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This is where I found out that when used with a split, it will not be fullscreen but rather split the current buffer:\"}],\"\\n\",[\"$\",\"figure\",null,{\"onClick\":\"$undefined\",\"className\":\"media_figure__wgz58\",\"children\":[[\"$\",\"div\",null,{\"className\":\"media_relative__Oqy8s\",\"style\":{\"paddingBottom\":\"48.01548886737657%\"},\"children\":[\"$\",\"video\",null,{\"className\":\"media_media__dB51W\",\"autoPlay\":true,\"loop\":true,\"muted\":true,\"playsInline\":true,\"children\":[[\"$\",\"source\",\"webm\",{\"src\":\"/media/posts/split-behavior.webm\",\"type\":\"video/webm\"}],[\"$\",\"source\",\"mp4\",{\"src\":\"/media/posts/split-behavior.mp4\",\"type\":\"video/mp4\"}]]}]}],[\"$\",\"figcaption\",null,{\"className\":\"media_alt__6tx_o\",\"children\":\"Default split behavior\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"At this point I started experimenting with a small \",[\"$\",\"a\",null,{\"href\":\"https://gist.github.com/SidOfc/5218a7a9f12ed2105a9b052ca8e6707e\",\"title\":\"Visit codi.vim snippet github gist\",\"children\":\"vimscript snippet\"}],\" in my .vimrc.\\nExcluding comments and blanks it is 10 LoC.\\nIt wraps the default \",[\"$\",\"code\",null,{\"children\":\"Codi\"}],\" command in a function which creates an empty buffer in a new tab with the right filetype set before finally running \",[\"$\",\"code\",null,{\"children\":\"Codi\"}],\" itself.\\nThis creates the fullscreen split that I wanted:\"]}],\"\\n\",[\"$\",\"figure\",null,{\"onClick\":\"$undefined\",\"className\":\"media_figure__wgz58\",\"children\":[[\"$\",\"div\",null,{\"className\":\"media_relative__Oqy8s\",\"style\":{\"paddingBottom\":\"48.01548886737657%\"},\"children\":[\"$\",\"video\",null,{\"className\":\"media_media__dB51W\",\"autoPlay\":true,\"loop\":true,\"muted\":true,\"playsInline\":true,\"children\":[[\"$\",\"source\",\"webm\",{\"src\":\"/media/posts/wrapped-split-behavior.webm\",\"type\":\"video/webm\"}],[\"$\",\"source\",\"mp4\",{\"src\":\"/media/posts/wrapped-split-behavior.mp4\",\"type\":\"video/mp4\"}]]}]}],[\"$\",\"figcaption\",null,{\"className\":\"media_alt__6tx_o\",\"children\":\"Enhanced split behavior\"}]]}],\"\\n\",[\"$\",\"$L11\",null,{\"children\":\"Problem solved, or maybe not?\",\"as\":\"h2\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"All good so far, but upon closing the buffer, the contents of the buffer are deleted.\\nWhile automatically clearing the scratchpad is nice, sometimes I want to go back and forth between the code and the scratchpad to add additional code or compare the existing code with the scratchpad code.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"This required a \",[\"$\",\"a\",null,{\"href\":\"https://gist.github.com/SidOfc/3f94244a8b08406710b6669052f66d62\",\"title\":\"Visit second codi.vim snippet github gist\",\"children\":\"second iteration\"}],\" of the original vimscript snippet.\\nThis time I did not want to delete the buffer but hide it instead, keeping the code that was already written in it.\\nAfter hiding the buffer, its \",[\"$\",\"code\",null,{\"children\":\"tabpagenr()\"}],\" is stored in a dictionary keyed by the filetype of the buffer.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Then, when toggling codi for a filetype that is stored, switch to that tab instead of opening a new one (there is even a check if that tab actually exists):\"}],\"\\n\",[\"$\",\"figure\",null,{\"onClick\":\"$undefined\",\"className\":\"media_figure__wgz58\",\"children\":[[\"$\",\"div\",null,{\"className\":\"media_relative__Oqy8s\",\"style\":{\"paddingBottom\":\"48.01548886737657%\"},\"children\":[\"$\",\"video\",null,{\"className\":\"media_media__dB51W\",\"autoPlay\":true,\"loop\":true,\"muted\":true,\"playsInline\":true,\"children\":[[\"$\",\"source\",\"webm\",{\"src\":\"/media/posts/wrapped-split-behavior-2.webm\",\"type\":\"video/webm\"}],[\"$\",\"source\",\"mp4\",{\"src\":\"/media/posts/wrapped-split-behavior-2.mp4\",\"type\":\"video/mp4\"}]]}]}],[\"$\",\"figcaption\",null,{\"className\":\"media_alt__6tx_o\",\"children\":\"Enhanced split behavior version 2\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"And there we go! Aside from the fact that the buffer now remains, the name is also \",[\"$\",\"code\",null,{\"children\":\"scratch::ruby\"}],\".\\nThis is a bit more descriptive than having just \",[\"$\",\"code\",null,{\"children\":\"[Scratch]\"}],\" in \",[\"$\",\"code\",null,{\"children\":\":ls\"}],\" output when multiple codi buffers of a different filetype are active.\"]}],\"\\n\",[\"$\",\"$L11\",null,{\"children\":\"Let's wrap it in an issue\",\"as\":\"h2\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"It was a fun experience tweaking this plugin to my liking.\\nI thought this feature would be so awesome that I even proposed it in an \",[\"$\",\"a\",null,{\"href\":\"https://github.com/metakirby5/codi.vim/issues/94\",\"title\":\"View metakirby5/codi.vim issue #94\",\"children\":\"issue\"}],\".\\nUnfortunately it didn't make it since it was too workflow specific.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"As you may have been able to see in the issue though, the code in that snippet is \",[\"$\",\"em\",null,{\"children\":\"slighty\"}],\" different from the example gist linked in this post.\\nThe main difference is this line which resizes codi to 50% of the buffer width whenever a new instance is spawned:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"var(--prism-plain-backgroundColor)\",\"color\":\"var(--prism-plain-color)\",\"textShadow\":\"var(--prism-plain-textShadow)\"},\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"display\":\"block\"},\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--prism-comment-color)\",\"fontStyle\":\"var(--prism-comment-fontStyle)\"},\"children\":\"\\\" since it is fullscreen, I'd like a 50/50 split\"}],[\"$\",\"span\",\"1\",{\"style\":{\"backgroundColor\":\"var(--prism-plain-backgroundColor)\",\"color\":\"var(--prism-plain-color)\",\"textShadow\":\"var(--prism-plain-textShadow)\"},\"children\":\"\"}]]}],[\"$\",\"span\",\"1\",{\"style\":{\"display\":\"block\"},\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"backgroundColor\":\"var(--prism-plain-backgroundColor)\",\"color\":\"var(--prism-plain-color)\",\"textShadow\":\"var(--prism-plain-textShadow)\"},\"children\":\"\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--prism-keyword-color)\"},\"children\":\"let\"}],[\"$\",\"span\",\"2\",{\"style\":{\"backgroundColor\":\"var(--prism-plain-backgroundColor)\",\"color\":\"var(--prism-plain-color)\",\"textShadow\":\"var(--prism-plain-textShadow)\"},\"children\":\" g\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--prism-punctuation-color)\"},\"children\":\":\"}],[\"$\",\"span\",\"4\",{\"style\":{\"backgroundColor\":\"var(--prism-plain-backgroundColor)\",\"color\":\"var(--prism-plain-color)\",\"textShadow\":\"var(--prism-plain-textShadow)\"},\"children\":\"codi#width \"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--prism-operator-color)\"},\"children\":\"=\"}],[\"$\",\"span\",\"6\",{\"style\":{\"backgroundColor\":\"var(--prism-plain-backgroundColor)\",\"color\":\"var(--prism-plain-color)\",\"textShadow\":\"var(--prism-plain-textShadow)\"},\"children\":\" \"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--prism-function-color)\"},\"children\":\"winwidth\"}],[\"$\",\"span\",\"8\",{\"style\":{\"color\":\"var(--prism-punctuation-color)\"},\"children\":\"(\"}],[\"$\",\"span\",\"9\",{\"style\":{\"color\":\"var(--prism-function-color)\"},\"children\":\"winnr\"}],[\"$\",\"span\",\"10\",{\"style\":{\"color\":\"var(--prism-punctuation-color)\"},\"children\":\"(\"}],[\"$\",\"span\",\"11\",{\"style\":{\"color\":\"var(--prism-punctuation-color)\"},\"children\":\")\"}],[\"$\",\"span\",\"12\",{\"style\":{\"color\":\"var(--prism-punctuation-color)\"},\"children\":\")\"}],[\"$\",\"span\",\"13\",{\"style\":{\"backgroundColor\":\"var(--prism-plain-backgroundColor)\",\"color\":\"var(--prism-plain-color)\",\"textShadow\":\"var(--prism-plain-textShadow)\"},\"children\":\" \"}],[\"$\",\"span\",\"14\",{\"style\":{\"color\":\"var(--prism-operator-color)\"},\"children\":\"/\"}],[\"$\",\"span\",\"15\",{\"style\":{\"backgroundColor\":\"var(--prism-plain-backgroundColor)\",\"color\":\"var(--prism-plain-color)\",\"textShadow\":\"var(--prism-plain-textShadow)\"},\"children\":\" \"}],[\"$\",\"span\",\"16\",{\"style\":{\"color\":\"var(--prism-number-color)\"},\"children\":\"2\"}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The author thought it would be a nice addition to have percentage width support and for the snippets to live elsewhere for others to use in their .vimrc.\\nSo I went ahead and \",[\"$\",\"a\",null,{\"href\":\"https://github.com/metakirby5/codi.vim/pull/95\",\"title\":\"View metakirby5/codi.vim pull request #95\",\"children\":\"wrote a PR\"}],\" for that instead, this is why you see\\n\",[\"$\",\"code\",null,{\"children\":\"let g:codi#width = 50.0\"}],\" in the gists :)\"]}],\"\\n\",[\"$\",\"$L11\",null,{\"children\":\"Conclusion\",\"as\":\"h2\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"All in all it was a great experience discovering this plugin.\\nIt is like one of those rare cases with a song where after a few seconds \",[\"$\",\"strong\",null,{\"children\":\"you just know\"}],\" \",[\"$\",\"em\",null,{\"children\":\"\\\"this song is awesome\\\"\"}],\".\\nI believe I'll be using it for a long time to come for quickly testing and showing some code.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"This also gave me the chance to write my first non-organization bound PR for a project which I like and now also use.\\nSomething which I wanted to do for a long time but couldn't really find the right project to contribute to.\\nI want to thank \",[\"$\",\"a\",null,{\"href\":\"https://medium.com/@metakirby5\",\"title\":\"View @metakirby5 on Medium\",\"children\":\"Ethan Chan\"}],\" for his awesome plugin and for being a kind and friendly maintainer!\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"That's it! If you want a fullscreen workflow with codi.vim, you have it.\\nIf you want to persist the code in the buffer, you have it.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Until next time.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ðŸ‘‹\"}]]\n"])</script></body></html>